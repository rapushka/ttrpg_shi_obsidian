var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __hasOwnProp=Object.prototype.hasOwnProperty;var __export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})},__copyProps=(to,from,except,desc)=>{if(from&&typeof from=="object"||typeof from=="function")for(let key of __getOwnPropNames(from))!__hasOwnProp.call(to,key)&&key!==except&&__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to};var __toCommonJS=mod=>__copyProps(__defProp({},"__esModule",{value:!0}),mod);var main_exports={};__export(main_exports,{default:()=>DaggerForgePlugin});module.exports=__toCommonJS(main_exports);var import_obsidian13=require("obsidian");var import_obsidian2=require("obsidian");var advcore_default=[{id:"CA001",name:"ACID BURROWER",tier:"1",type:"Solo",desc:"A horse-sized insect with digging claws and acidic blood.",motives:"Burrow, drag away, feed, reposition",difficulty:"14",thresholdMajor:"8",thresholdSevere:"15",hp:"8",stress:"3",atk:"+3",weaponName:"Claws",weaponRange:"Very Close",weaponDamage:"1d12+2 phy",xp:"Tremor Sense +2",source:"core",features:[{name:"Relentless (3)",type:"Passive",cost:"",desc:"The Burrower can be spotlighted up to three times per GM turn. Spend Fear as usual to spotlight them."},{name:"Earth Eruption",type:"Action",cost:"Mark a Stress",desc:"to have the Burrower burst out of the ground. All creatures within Very Close range must succeed on an Agility Reaction Roll or be knocked over, making them Vulnerable until they next act."},{name:"Spit Acid",type:"Action",cost:"",desc:"Make an attack against all targets in front of the Burrower within Close range. Targets the Burrower succeeds against take 2d6 physical damage and must mark an Armor Slot without receiving its benefits (they can still use armor to reduce the damage). If they can\u2019t mark an Armor Slot, they must mark an additional HP and you gain a Fear."},{name:"Acid Bath",type:"Reaction",cost:"",desc:"When the Burrower takes Severe damage, all creatures within Close range are bathed in their acidic blood, taking 1d10 physical damage. This splash covers the ground within Very Close range with blood, and all creatures other than the Burrower who move through it take 1d6 physical damage."}]},{id:"CA002",name:"BEAR",tier:"1",type:"Bruiser",desc:"A large bear with thick fur and powerful claws.",motives:"Climb, defend territory, pummel, track",difficulty:"14",thresholdMajor:"9",thresholdSevere:"17",hp:"7",stress:"2",atk:"+1",weaponName:"Claws",weaponRange:"Melee",weaponDamage:"1d8+3 phy",xp:"Ambusher +3, Keen Senses +2",source:"core",features:[{name:"Overwhelming Force",type:"Passive",cost:"",desc:"Targets who mark HP from the Bear\u2019s standard attack are knocked back to Very Close range."},{name:"Bite",type:"Action",cost:"Mark a Stress",desc:"to make an attack against a target within Melee range. On a success, deal 3d4+10 physical damage and the target is Restrained until they break free with a successful Strength Roll."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Bear makes a successful attack against a PC, you gain a Fear."}]},{id:"CA003",name:"CAVE OGRE",tier:"1",type:"Solo",desc:"A massive humanoid who sees all sapient life as food.",motives:"Bite off heads, feast, rip limbs, stomp, throw enemies",difficulty:"13",thresholdMajor:"8",thresholdSevere:"15",hp:"8",stress:"3",atk:"+1",weaponName:"Club",weaponRange:"Very Close",weaponDamage:"1d10+2 phy",xp:"Throw +2",source:"core",features:[{name:"Ramp Up",type:"Passive",cost:"",desc:"You must spend a Fear to spotlight the Ogre. While spotlighted, they can make their standard attack against all targets within range."},{name:"Bone Breaker",type:"Passive",cost:"",desc:"The Ogre\u2019s attacks deal direct damage."},{name:"Hail of Boulders",type:"Action",cost:"Mark a Stress",desc:"to pick up heavy objects and throw them at all targets in front of the Ogre within Far range. Make an attack against these targets. Targets the Ogre succeeds against take 1d10+2 physical damage. If they succeed against more than one target, you gain a Fear."},{name:"Rampaging Fury",type:"Reaction",cost:"",desc:"When the Ogre marks 2 or more HP, they can rampage. Move the Ogre to a point within Close range and deal 2d6+3 direct physical damage to all targets in their path."}]},{id:"CA004",name:"CONSTRUCT",tier:"1",type:"Solo",desc:"A roughly humanoid being of stone and steel, assembled and animated by magic.",motives:"Destroy environment, serve creator, smash target, trample groups",difficulty:"13",thresholdMajor:"7",thresholdSevere:"15",hp:"9",stress:"4",atk:"+4",weaponName:"Fist Slam",weaponRange:"Melee",weaponDamage:"1d20 phy",xp:"",source:"core",features:[{name:"Relentless (2)",type:"Passive",cost:"",desc:"The Construct can be spotlighted up to two times per GM turn. Spend Fear as usual to spotlight them."},{name:"Weak Structure",type:"Passive",cost:"",desc:"When the Construct marks HP from physical damage, they must mark an additional HP."},{name:"Trample",type:"Action",cost:"Mark a Stress",desc:"to make an attack against all targets in the Construct\u2019s path when they move. Targets the Construct succeeds against take 1d8 physical damage."},{name:"Overload",type:"Reaction",cost:"",desc:"Before rolling damage for the Construct\u2019s attack, you can mark a Stress to gain a +10 bonus to the damage roll. The Construct can then take the spotlight again."},{name:"Death Quake",type:"Reaction",cost:"",desc:"When the Construct marks their last HP, the magic powering them ruptures in an explosion of force. Make an attack with advantage against all targets within Very Close range. Targets the Construct succeeds against take 1d12+2 magic damage."}]},{id:"CA005",name:"COURTIER",tier:"1",type:"Social",desc:"An ambitious and ostentatiously dressed socialite.",motives:"Discredit, gain favor, maneuver, scheme",difficulty:"12",thresholdMajor:"4",thresholdSevere:"8",hp:"3",stress:"4",atk:"\u22124",weaponName:"Daggers",weaponRange:"Melee",weaponDamage:"1d4+2 phy",xp:"Socialite +3",source:"core",features:[{name:"Mockery",type:"Action",cost:"Mark a Stress",desc:"to say something mocking and force a target within Close range to make a Presence Reaction Roll (14) to see if they can save face. On a failure, the target must mark 2 Stress and is Vulnerable until the scene ends."},{name:"Scapegoat",type:"Action",cost:"Spend a Fear",desc:"and target a PC. The Courtier convinces a crowd or prominent individual that the target is the cause of their current conflict or misfortune."}]},{id:"CA006",name:"DEEPROOT DEFENDER",tier:"1",type:"Bruiser",desc:"A burly vegetable-person with grasping vines.",motives:"Ambush, grab, protect, pummel",difficulty:"10",thresholdMajor:"8",thresholdSevere:"14",hp:"7",stress:"3",atk:"+2",weaponName:"Vines",weaponRange:"Close",weaponDamage:"1d8+3 phy",xp:"Huge +3",source:"core",features:[{name:"Ground Slam",type:"Action",cost:"",desc:"Slam the ground, knocking all targets within Very Close range back to Far range. Each target knocked back this way must mark a Stress."},{name:"Grab and Drag",type:"Action",cost:"",desc:"Make an attack against a target within Close range. On a success, spend a Fear to pull them into Melee range, deal 1d6+2 physical damage, and Restrain them until the Defender takes Severe damage."}]},{id:"CA007",name:"DIRE WOLF",tier:"1",type:"Skulk",desc:"A large wolf with menacing teeth, seldom encountered alone.",motives:"Defend territory, harry, protect pack, surround, trail",difficulty:"12",thresholdMajor:"5",thresholdSevere:"9",hp:"4",stress:"3",atk:"+2",weaponName:"Claws",weaponRange:"Melee",weaponDamage:"1d6+2 phy",xp:"Keen Senses +3",source:"core",features:[{name:"Pack Tactics",type:"Passive",cost:"",desc:"If the Wolf makes a successful standard attack and another Dire Wolf is within Melee range of the target, deal 1d6+5 physical damage instead of their standard damage and you gain a Fear."},{name:"Hobbling Strike",type:"Action",cost:"Mark a Stress",desc:"to make an attack against a target within Melee range. On a success, deal 3d4+10 direct physical damage and make them Vulnerable until they clear at least 1 HP."}]},{id:"CA008",name:"GIANT MOSQUITOES",tier:"1",type:"Horde (5/HP)",desc:"Dozens of fist-sized mosquitoes, flying together for protection.",motives:"Fly away, harass, steal blood",difficulty:"10",thresholdMajor:"5",thresholdSevere:"9",hp:"6",stress:"3",atk:"\u22122",weaponName:"Proboscis",weaponRange:"Melee",weaponDamage:"1d8+3 phy",xp:"Camouflage +2",source:"core",features:[{name:"Horde (1d4+1)",type:"Passive",cost:"",desc:"When the Mosquitoes have marked half or more of their HP, their standard attack deals 1d4+1 physical damage instead."},{name:"Flying",type:"Passive",cost:"",desc:"While flying, the Mosquitoes have a +2 bonus to their Difficulty."},{name:"Bloodsucker",type:"Reaction",cost:"",desc:"When the Mosquitoes\u2019 attack causes a target to mark HP, you can mark a Stress to force the target to mark an additional HP."}]},{id:"CA009",name:"GIANT RAT",tier:"1",type:"Minion",desc:"A cat-sized rodent skilled at scavenging and survival.",motives:"Burrow, hunger, scavenge, wear down",difficulty:"10",thresholdMajor:"None",thresholdSevere:"",hp:"1",stress:"1",atk:"\u22124",weaponName:"Claws",weaponRange:"Melee",weaponDamage:"1 phy",xp:"Keen Senses +3",source:"core",features:[{name:"Minion (3)",type:"Passive",cost:"",desc:"The Rat is defeated when they take any damage. For every 3 damage a PC deals to the Rat, defeat an additional Minion within range the attack would succeed against."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Giant Rats within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 1 physical damage each. Combine this damage."}]},{id:"CA010",name:"GIANT SCORPION",tier:"1",type:"Bruiser",desc:"A human-sized insect with tearing claws and a stinging tail.",motives:"Ambush, feed, grapple, poison",difficulty:"13",thresholdMajor:"7",thresholdSevere:"13",hp:"6",stress:"3",atk:"+1",weaponName:"Pincers",weaponRange:"Melee",weaponDamage:"1d12+2 phy",xp:"Camouflage +2",source:"core",features:[{name:"Double Strike",type:"Action",cost:"Mark a Stress",desc:"to make a standard attack against two targets within Melee range."},{name:"Venomous Stinger",type:"Action",cost:"",desc:"Make an attack against a target within Very Close range. On a success, spend a Fear to deal 1d4+4 physical damage and Poison them until their next rest or they succeed on a Knowledge Roll (16). While Poisoned, the target must roll a d6 before they make an action roll. On a result of 4 or lower, they must mark a Stress."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Scorpion makes a successful attack against a PC, you gain a Fear."}]},{id:"CA011",name:"GLASS SNAKE",tier:"1",type:"Standard",desc:"A clear serpent with a massive head that leaves behind a glass shard trail wherever they go.",motives:"Climb, feed, keep distance, scare",difficulty:"14",thresholdMajor:"6",thresholdSevere:"10",hp:"5",stress:"3",atk:"+2",weaponName:"Glass Fangs",weaponRange:"Very Close",weaponDamage:"1d8+2 phy",xp:"",source:"core",features:[{name:"Armor-Shredding Shards",type:"Passive",cost:"",desc:"On a successful attack within Melee range against the Snake, the attacker must mark an Armor Slot without receiving its benefits (they can still use armor to reduce the damage). If they can\u2019t mark an Armor Slot, they must mark an additional HP."},{name:"Spinning Serpent",type:"Action",cost:"Mark a Stress",desc:"to make an attack against all targets within Very Close range. Targets the Snake succeeds against take 1d6+1 physical damage."},{name:"Spitter",type:"Action",cost:"Spend a Fear",desc:"to introduce a d6 Spitter Die. When the Snake is in the spotlight, roll this die. On a result of 5 or higher, all targets in front of the Snake within Far range must succeed on an Agility Reaction Roll or take 1d4 physical damage. The Snake can take the spotlight a second time this GM turn."}]},{id:"CA012",name:"HARRIER",tier:"1",type:"Standard",desc:"A nimble fighter armed with javelins.",motives:"Flank, harry, kite, profit",difficulty:"12",thresholdMajor:"5",thresholdSevere:"9",hp:"3",stress:"3",atk:"+1",weaponName:"Javelin",weaponRange:"Close",weaponDamage:"1d6+2 phy",xp:"Camouflage +2",source:"core",features:[{name:"Maintain Distance",type:"Passive",cost:"",desc:"After making a standard attack, the Harrier can move anywhere within Far range."},{name:"Fall Back",type:"Reaction",cost:"",desc:"When a creature moves into Melee range to make an attack, you can mark a Stress before the attack roll to move anywhere within Close range and make an attack against that creature. On a success, deal 1d10+2 physical damage."}]},{id:"CA013",name:"ARCHER GUARD",tier:"1",type:"Ranged",desc:"A tall guard bearing a longbow and quiver with arrows fletched in the settlement\u2019s colors.",motives:"Arrest, close gates, make it through the day, pin down",difficulty:"10",thresholdMajor:"4",thresholdSevere:"8",hp:"3",stress:"2",atk:"+1",weaponName:"Longbow",weaponRange:"Far",weaponDamage:"1d8+3 phy",xp:"Local Knowledge +3",source:"core",features:[{name:"Hobbling Shot",type:"Action",cost:"",desc:"Make an attack against a target within Far range. On a success, mark a Stress to deal 1d12+3 physical damage. If the target marks HP from this attack, they have disadvantage on Agility Rolls until they clear at least 1 HP."}]},{id:"CA014",name:"BLADED GUARD",tier:"1",type:"Standard",desc:"An armored guard bearing a sword and shield painted in the settlement\u2019s colors.",motives:"Arrest, close gates, make it through the day, pin down",difficulty:"12",thresholdMajor:"5",thresholdSevere:"9",hp:"5",stress:"2",atk:"+1",weaponName:"Longsword",weaponRange:"Melee",weaponDamage:"1d6+1 phy",xp:"Local Knowledge +3",source:"core",features:[{name:"Shield Wall",type:"Passive",cost:"",desc:"A creature who tries to move within Very Close range of the Guard must succeed on an Agility Roll. If additional Bladed Guards are standing in a line alongside the first, and each is within Melee range of another guard in the line, the Difficulty increases by the total number of guards in that line."},{name:"Detain",type:"Action",cost:"",desc:"Make an attack against a target within Very Close range. On a success, mark a Stress to Restrain the target until they break free with a successful attack, Finesse Roll, or Strength Roll."}]},{id:"CA015",name:"HEAD GUARD",tier:"1",type:"Leader",desc:"A seasoned guard with a mace, a whistle, and a bellowing voice.",motives:"Arrest, close gates, pin down, seek glory",difficulty:"15",thresholdMajor:"7",thresholdSevere:"13",hp:"7",stress:"3",atk:"+4",weaponName:"Mace",weaponRange:"Melee",weaponDamage:"1d10+4 phy",xp:"Commander +2, Local Knowledge +2",source:"core",features:[{name:"Rally Guards",type:"Action",cost:"",desc:"Spend 2 Fear to spotlight the Head Guard and up to 2d4 allies within Far range."},{name:"On My Signal",type:"Reaction",cost:"",desc:"Countdown (5). When the Head Guard is in the spotlight for the first time, activate the countdown. It ticks down when a PC makes an attack roll. When it triggers, all Archer Guards within Far range make a standard attack with advantage against the nearest target within their range. If any attacks succeed on the same target, combine their damage."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Head Guard makes a successful attack against a PC, you gain a Fear."}]},{id:"CA016",name:"JAGGED KNIFE BANDIT",tier:"1",type:"Standard",desc:"A cunning criminal in a cloak bearing one of the gang\u2019s iconic knives.",motives:"Escape, profit, steal, throw smoke",difficulty:"12",thresholdMajor:"8",thresholdSevere:"14",hp:"5",stress:"3",atk:"+1",weaponName:"Daggers",weaponRange:"Melee",weaponDamage:"1d8+1 phy",xp:"Thief +2",source:"core",features:[{name:"Climber",type:"Passive",cost:"",desc:"The Bandit climbs just as easily as they run."},{name:"From Above",type:"Passive",cost:"",desc:"When the Bandit succeeds on a standard attack from above a target, they deal 1d10+1 physical damage instead of their standard damage."}]},{id:"CA017",name:"JAGGED KNIFE HEXER",tier:"1",type:"Support",desc:"A staff -wielding bandit in a cloak adorned with magical paraphernalia, using curses to vex their foes.",motives:"Command, hex, profit",difficulty:"13",thresholdMajor:"5",thresholdSevere:"9",hp:"4",stress:"4",atk:"+2",weaponName:"Staff ",weaponRange:"Far",weaponDamage:"1d6+2 mag",xp:"Magical Knowledge +2",source:"core",features:[{name:"Curse",type:"Action",cost:"",desc:"Choose a target within Far range and temporarily Curse them. While the target is Cursed, you can mark a Stress when that target rolls with Hope to make the roll be with Fear instead."},{name:"Chaotic Flux",type:"Action",cost:"",desc:"Make an attack against up to three targets within Very Close range. Mark a Stress to deal 2d6+3 magic damage to targets the Hexer succeeded against."}]},{id:"CA018",name:"JAGGED KNIFE KNEEBREAKER",tier:"1",type:"Bruiser",desc:"An imposing brawler carrying a large club.",motives:"Grapple, intimidate, profit, steal",difficulty:"12",thresholdMajor:"7",thresholdSevere:"14",hp:"7",stress:"4",atk:"\u22123",weaponName:"Club",weaponRange:"Melee",weaponDamage:"1d4+6 phy",xp:"Thief +2, Unveiled Threats +3",source:"core",features:[{name:"I\u2019ve Got \u2019Em",type:"Passive",cost:"",desc:"Creatures Restrained by the Kneebreaker take double damage from attacks by other adversaries."},{name:"Hold Them Down",type:"Action",cost:"",desc:"Make an attack against a target within Melee range. On a success, the target takes no damage but is Restrained and Vulnerable. The target can break free, clearing both conditions, with a successful Strength Roll or is freed automatically if the Kneebreaker takes Major or greater damage."}]},{id:"CA019",name:"JAGGED KNIFE LACKEY",tier:"1",type:"Minion",desc:"A thief with simple clothes and small daggers, eager to prove themselves.",motives:"Escape, profit, throw smoke",difficulty:"9",thresholdMajor:"None",thresholdSevere:"",hp:"1",stress:"1",atk:"\u22122",weaponName:"Daggers",weaponRange:"Melee",weaponDamage:"2 phy",xp:"Thief +2",source:"core",features:[{name:"Minion (3)",type:"Passive",cost:"",desc:"The Lackey is defeated when they take any damage. For every 3 damage a PC deals to the Lackey, defeat an additional Minion within range the attack would succeed against."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Jagged Knife Lackeys within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 2 physical damage each. Combine this damage."}]},{id:"CA020",name:"JAGGED KNIFE LIEUTENANT",tier:"1",type:"Leader",desc:"A seasoned bandit in quality leathers with a strong voice and cunning eyes.",motives:"Bully, command, profit, reinforce",difficulty:"13",thresholdMajor:"7",thresholdSevere:"14",hp:"6",stress:"3",atk:"+2",weaponName:"Javelin",weaponRange:"Close",weaponDamage:"1d8+3 phy",xp:"Local Knowledge +2",source:"core",features:[{name:"Tactician",type:"Action",cost:"",desc:"When you spotlight the Lieutenant, mark a Stress to also spotlight two allies within Close range."},{name:"More Where That Came From",type:"Action",cost:"",desc:"Summon three Jagged Knife Lackeys, who appear at Far range."},{name:"Coup de Grace",type:"Action",cost:"Spend a Fear",desc:"to make an attack against a Vulnerable target within Close range. On a success, deal 2d6+12 physical damage and the target must mark a Stress."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Lieutenant makes a successful attack against a PC, you gain a Fear."}]},{id:"CA021",name:"JAGGED KNIFE SHADOW",tier:"1",type:"Skulk",desc:"A nimble scoundrel bearing a wicked knife and utilizing shadow magic to isolate targets.",motives:"Ambush, conceal, divide, profit",difficulty:"12",thresholdMajor:"4",thresholdSevere:"8",hp:"3",stress:"3",atk:"+1",weaponName:"Daggers",weaponRange:"Melee",weaponDamage:"1d4+4 phy",xp:"Intrusion +3",source:"core",features:[{name:"Backstab",type:"Passive",cost:"",desc:"When the Shadow succeeds on a standard attack that has advantage, they deal 1d6+6 physical damage instead of their standard damage."},{name:"Cloaked",type:"Action",cost:"",desc:"Become Hidden until after the Shadow\u2019s next attack. Attacks made while Hidden from this feature have advantage."}]},{id:"CA022",name:"JAGGED KNIFE SNIPER",tier:"1",type:"Ranged",desc:"A lanky bandit striking from cover with a shortbow.",motives:"Ambush, hide, profit, reposition",difficulty:"13",thresholdMajor:"4",thresholdSevere:"7",hp:"3",stress:"2",atk:"\u22121",weaponName:"Shortbow",weaponRange:"Far",weaponDamage:"1d10+2 phy",xp:"Stealth +2",source:"core",features:[{name:"Unseen Strike",type:"Passive",cost:"",desc:"If the Sniper is Hidden when they make a successful standard attack against a target, they deal 1d10+4 physical damage instead of their standard damage."}]},{id:"CA023",name:"MERCHANT",tier:"1",type:"Social",desc:"A finely dressed trader with a keen eye for financial gain.",motives:"Buy low and sell high, create demand, inflate prices, seek profit",difficulty:"12",thresholdMajor:"4",thresholdSevere:"8",hp:"3",stress:"3",atk:"\u22124",weaponName:"Club",weaponRange:"Melee",weaponDamage:"1d4+1 phy",xp:"Shrewd Negotiator +3",source:"core",features:[{name:"Preferential Treatment",type:"Passive",cost:"",desc:"A PC who succeeds on a Presence Roll against the Merchant gains a discount on purchases. A PC who fails on a Presence Roll against the Merchant must pay more and has disadvantage on future Presence Rolls against the Merchant."},{name:"The Runaround",type:"Passive",cost:"",desc:"When a PC rolls a 14 or lower on a Presence Roll made against the Merchant, they must mark a Stress."}]},{id:"CA024",name:"MINOR CHAOS ELEMENTAL",tier:"1",type:"Solo",desc:"A coruscating mass of uncontrollable magic.",motives:"Confound, destabilize, transmogrify",difficulty:"14",thresholdMajor:"7",thresholdSevere:"14",hp:"7",stress:"3",atk:"+3",weaponName:"Warp Blast",weaponRange:"Close",weaponDamage:"1d12+6 mag",xp:"",source:"core",features:[{name:"Arcane Form",type:"Passive",cost:"",desc:"The Elemental is resistant to magic damage."},{name:"Sickening Flux",type:"Action",cost:"",desc:"Mark a HP to force all targets within Close range to mark a Stress and become Vulnerable until their next rest or they clear a HP."},{name:"Remake Reality",type:"Action",cost:"Spend a Fear",desc:"to transform the area within Very Close range into a diff erent biome. All targets within this area take 2d6+3 direct magic damage."},{name:"Magical Reflection",type:"Reaction",cost:"",desc:"When the Elemental takes damage from an attack within Close range, deal an amount of damage to the attacker equal to half the damage they dealt."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Elemental makes a successful attack against a PC, you gain a Fear."}]},{id:"CA025",name:"MINOR FIRE ELEMENTAL",tier:"1",type:"Solo",desc:"A living flame the size of a large bonfire.",motives:"Encircle enemies, grow in size, intimidate, start fires",difficulty:"13",thresholdMajor:"7",thresholdSevere:"15",hp:"9",stress:"3",atk:"+3",weaponName:"Elemental Blast",weaponRange:"Far",weaponDamage:"1d10+4 mag",xp:"",source:"core",features:[{name:"Relentless (2)",type:"Passive",cost:"",desc:"The Elemental can be spotlighted up to two times per GM turn. Spend Fear as usual to spotlight them."},{name:"Scorched Earth",type:"Action",cost:"Mark a Stress",desc:"to choose a point within Far range. The ground within Very Close range of that point immediately bursts into flames. All creatures within this area must make an Agility Reaction Roll. Targets who fail take 2d8 magic damage from the flames. Targets who succeed take half damage."},{name:"Explosion",type:"Action",cost:"Spend a Fear",desc:"to erupt in a fiery explosion. Make an attack against all targets within Close range. Targets the Elemental succeeds against take 1d8 magic damage and are knocked back to Far range."},{name:"Consume Kindling",type:"Reaction",cost:"",desc:"Three times per scene, when the Elemental moves onto objects that are highly flammable, consume them to clear a HP or a Stress."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Elemental makes a successful attack against a PC, you gain a Fear."}]},{id:"CA026",name:"MINOR DEMON",tier:"1",type:"Solo",desc:"A crimson-hued creature from the Circles Below, consumed by rage against all mortals.",motives:"Act erratically, corral targets, relish pain, torment",difficulty:"14",thresholdMajor:"8",thresholdSevere:"15",hp:"8",stress:"4",atk:"+3",weaponName:"Claws",weaponRange:"Melee",weaponDamage:"1d8+6 phy",xp:"",source:"core",features:[{name:"Relentless (2)",type:"Passive",cost:"",desc:"The Demon can be spotlighted up to two times per GM turn. Spend Fear as usual to spotlight them."},{name:"All Must Fall",type:"Passive",cost:"",desc:"When a PC rolls a failure with Fear while within Close range of the Demon, they lose a Hope."},{name:"Hellfire",type:"Action",cost:"Spend a Fear",desc:"to rain down hellfire within Far range. All targets within the area must make an Agility Reaction Roll. Targets who fail take 1d20+3 magic damage. Targets who succeed take half damage."},{name:"Reaper",type:"Reaction",cost:"",desc:"Before rolling damage for the Demon\u2019s attack, you can mark a Stress to gain a bonus to the damage roll equal to the Demon\u2019s current number of marked HP."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Demon makes a successful attack against a PC, you gain a Fear."}]},{id:"CA027",name:"MINOR TREANT",tier:"1",type:"Minion",desc:"An ambulatory sapling rising up to defend their forest.",motives:"Crush, overwhelm, protect",difficulty:"10",thresholdMajor:"5",thresholdSevere:"10",hp:"1",stress:"1",atk:"\u22122",weaponName:"Clawed Branch",weaponRange:"Melee",weaponDamage:"4 phy",xp:"",source:"core",features:[{name:"Minion (5)",type:"Passive",cost:"",desc:"The Treant is defeated when they take any damage. For every 5 damage a PC deals to the Treant, defeat an additional Minion within range the attack would succeed against."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Minor Treants within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 4 physical damage each. Combine this damage."}]},{id:"CA028",name:"GREEN OOZE",tier:"1",type:"Skulk",desc:"A moving mound of translucent green slime.",motives:"Camouflage, consume and multiply, creep up, envelop",difficulty:"8",thresholdMajor:"5",thresholdSevere:"10",hp:"5",stress:"2",atk:"+1",weaponName:"Ooze Appendage",weaponRange:"Melee",weaponDamage:"1d6+1 mag",xp:"Camouflage +3",source:"core",features:[{name:"Slow",type:"Passive",cost:"",desc:"When you spotlight the Ooze and they don\u2019t have a token on their stat block, they can\u2019t act yet. Place a token on their stat block and describe what they\u2019re preparing to do. When you spotlight the Ooze and they have a token on their stat block, clear the token and they can act."},{name:"Acidic Form",type:"Passive",cost:"",desc:"When the Ooze makes a successful attack, the target must mark an Armor Slot without receiving its benefits (they can still use armor to reduce the damage). If they can\u2019t mark an Armor Slot, they must mark an additional HP."},{name:"Envelop",type:"Action",cost:"",desc:"Make a standard attack against a target within Melee range. On a success, the Ooze envelops them and the target must mark 2 Stress. The target must mark an additional Stress when they make an action roll. If the Ooze takes Severe damage, the target is freed."},{name:"Split",type:"Reaction",cost:"",desc:"When the Ooze has 3 or more HP marked, you can spend a Fear to split them into two Tiny Green Oozes (with no marked HP or Stress). Immediately spotlight both of them."}]},{id:"CA029",name:"TINY GREEN OOZE",tier:"1",type:"Skulk",desc:"A small moving mound of translucent green slime.",motives:"Camouflage, creep up",difficulty:"14",thresholdMajor:"4",thresholdSevere:"None",hp:"2",stress:"1",atk:"\u22121",weaponName:"Ooze Appendage",weaponRange:"Melee",weaponDamage:"1d4+1 mag",xp:"",source:"core",features:[{name:"Acidic Form",type:"Passive",cost:"",desc:"When the Ooze makes a successful attack, the target must mark an Armor Slot without receiving its benefits (they can still use armor to reduce the damage). If they can\u2019t mark an Armor Slot, they must mark an additional HP."}]},{id:"CA030",name:"RED OOZE",tier:"1",type:"Skulk",desc:"A moving mound of translucent flaming red slime.",motives:"Camouflage, consume and multiply, ignite, start fires",difficulty:"10",thresholdMajor:"6",thresholdSevere:"11",hp:"5",stress:"3",atk:"+1",weaponName:"Ooze Appendage",weaponRange:"Melee",weaponDamage:"1d8+3 mag",xp:"Camouflage +3",source:"core",features:[{name:"Creeping Fire",type:"Passive",cost:"",desc:"The Ooze can only move within Very Close range as their normal movement. They light any flammable object they touch on fire."},{name:"Ignite",type:"Action",cost:"",desc:"Make an attack against a target within Very Close range. On a success, the target takes 1d8 magic damage and is Ignited until they\u2019re extinguished with a successful Finesse Roll (14). While Ignited, the target takes 1d4 magic damage when they make an action roll."},{name:"Split",type:"Reaction",cost:"",desc:"When the Ooze has 3 or more HP marked, you can spend a Fear to split them into two Tiny Red Oozes (with no marked HP or Stress). Immediately spotlight both of them."}]},{id:"CA031",name:"TINY RED OOZE",tier:"1",type:"Skulk",desc:"A small moving mound of translucent flaming red slime",motives:"Blaze, camouflage",difficulty:"11",thresholdMajor:"5",thresholdSevere:"None",hp:"2",stress:"1",atk:"\u22121",weaponName:"Ooze Appendage",weaponRange:"Melee",weaponDamage:"1d4+2 mag",xp:"",source:"core",features:[{name:"Burning",type:"Reaction",cost:"",desc:"When a creature within Melee range deals damage to the Ooze, they take 1d6 direct magic damage"}]},{id:"CA032",name:"PETTY NOBLE",tier:"1",type:"Social",desc:"A richly dressed and adorned aristocrat brimming with hubris.",motives:"Abuse power, gather resources, mobilize minions",difficulty:"14",thresholdMajor:"6",thresholdSevere:"10",hp:"3",stress:"5",atk:"\u22123",weaponName:"Rapier",weaponRange:"Melee",weaponDamage:"1d6+1 phy",xp:"Aristocrat +3",source:"core",features:[{name:"My Land, My Rules",type:"Passive",cost:"",desc:"All social actions made against the Noble on their land have disadvantage."},{name:"Guards, Seize Them!",type:"Action",cost:"",desc:"Once per scene, mark a Stress to summon 1d4 Bladed Guards, who appear at Far range to enforce the Noble\u2019s will."},{name:"Exile",type:"Action",cost:"Spend a Fear",desc:"and target a PC. The Noble proclaims that the target and their allies are exiled from the noble\u2019s territory. While exiled, the target and their allies have disadvantage during social situations within the Noble\u2019s domain."}]},{id:"CA033",name:"PIRATE CAPTAIN",tier:"1",type:"Leader",desc:"A charismatic sea dog with an impressive hat, eager to raid and plunder.",motives:"Command, make \u2019em walk the plank, plunder, raid",difficulty:"14",thresholdMajor:"7",thresholdSevere:"14",hp:"7",stress:"5",atk:"+4",weaponName:"Cutlass",weaponRange:"Melee",weaponDamage:"1d12+2 phy",xp:"Commander +2, Sailor +3",source:"core",features:[{name:"Swashbuckler",type:"Passive",cost:"",desc:"When the Captain marks 2 or fewer HP from an attack within Melee range, the attacker must mark a Stress."},{name:"Reinforcements",type:"Action",cost:"",desc:"Once per scene, mark a Stress to summon a Pirate Raiders Horde, which appears at Far range."},{name:"No Quarter",type:"Action",cost:"Spend a Fear",desc:"to choose a target who has three or more Pirates within Melee range of them. The Captain leads the Pirates in hurling threats and promises of a watery grave. The target must make a Presence Reaction Roll. On a failure, the target marks 1d4+1 Stress. On a success, they must mark a Stress."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Captain makes a successful attack against a PC, you gain a Fear."}]},{id:"CA034",name:"PIRATE RAIDERS",tier:"1",type:"Horde (3/HP)",desc:"Seafaring scoundrels moving in a ravaging pack.",motives:"Gang up, plunder, raid",difficulty:"12",thresholdMajor:"5",thresholdSevere:"11",hp:"4",stress:"3",atk:"+1",weaponName:"Cutlass",weaponRange:"Melee",weaponDamage:"1d8+2 phy",xp:"Sailor +3",source:"core",features:[{name:"Horde (1d4+1)",type:"Passive",cost:"",desc:"When the Raiders have marked half or more of their HP, their standard attack deals 1d4+1 physical damage instead."},{name:"Swashbuckler",type:"Passive",cost:"",desc:"When the Raiders mark 2 or fewer HP from an attack within Melee range, the attacker must mark a Stress."}]},{id:"CA035",name:"PIRATE TOUGH",tier:"1",type:"Bruiser",desc:"A thickly muscled and tattooed pirate with melon-sized fists.",motives:"Plunder, raid, smash, terrorize",difficulty:"13",thresholdMajor:"8",thresholdSevere:"15",hp:"5",stress:"3",atk:"+1",weaponName:"Massive Fists",weaponRange:"Melee",weaponDamage:"2d6 phy",xp:"Sailor +2",source:"core",features:[{name:"Swashbuckler",type:"Passive",cost:"",desc:"When the Tough marks 2 or fewer HP from an attack within Melee range, the attacker must mark a Stress."},{name:"Clear the Decks",type:"Action",cost:"",desc:"Make an attack against a target within Very Close range. On a success, mark a Stress to move into Melee range of the target, dealing 3d4 physical damage and knocking the target back to Close range."}]},{id:"CA036",name:"SELLSWORD",tier:"1",type:"Minion",desc:"An armed mercenary testing their luck.",motives:"Charge, lacerate, overwhelm, profit",difficulty:"10",thresholdMajor:"None",thresholdSevere:"",hp:"1",stress:"1",atk:"+3",weaponName:"Longsword",weaponRange:"Melee",weaponDamage:"3 phy",xp:"",source:"core",features:[{name:"Minion (4)",type:"Passive",cost:"",desc:"The Sellsword is defeated when they take any damage. For every 4 damage a PC deals to the Sellsword, defeat an additional Minion within range the attack would succeed against."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Sellswords within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 3 physical damage each. Combine this damage."}]},{id:"CA037",name:"SKELETON ARCHER",tier:"1",type:"Ranged",desc:"A fragile skeleton with a shortbow and arrows.",motives:"Perforate distracted targets, play dead, steal skin",difficulty:"9",thresholdMajor:"4",thresholdSevere:"7",hp:"3",stress:"2",atk:"+2",weaponName:"Shortbow",weaponRange:"Far",weaponDamage:"1d8+1 phy",xp:"",source:"core",features:[{name:"Opportunist",type:"Passive",cost:"",desc:"When two or more adversaries are within Very Close range of a creature, all damage the Archer deals to that creature is doubled."},{name:"Deadly Shot",type:"Action",cost:"",desc:"Make an attack against a Vulnerable target within Far range. On a success, mark a Stress to deal 3d4+8 physical damage."}]},{id:"CA038",name:"SKELETON DREDGE",tier:"1",type:"Minion",desc:"A clattering pile of bones.",motives:"Fall apart, overwhelm, play dead, steal skin",difficulty:"8",thresholdMajor:"None",thresholdSevere:"",hp:"1",stress:"1",atk:"\u22121",weaponName:"Bone Claws",weaponRange:"Melee",weaponDamage:"1 phy",xp:"",source:"core",features:[{name:"Minion (4)",type:"Passive",cost:"",desc:"The Dredge is defeated when they take any damage. For every 4 damage a PC deals to the Dredge, defeat an additional Minion within range the attack would succeed against."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Dredges within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 1 physical damage each. Combine this damage."}]},{id:"CA039",name:"SKELETON KNIGHT",tier:"1",type:"Bruiser",desc:"A large armored skeleton with a huge blade.",motives:"Cut down the living, steal skin, wreak havoc",difficulty:"13",thresholdMajor:"7",thresholdSevere:"13",hp:"5",stress:"2",atk:"+2",weaponName:"Rusty Greatsword",weaponRange:"Melee",weaponDamage:"1d10+2 phy",xp:"",source:"core",features:[{name:"Terrifying",type:"Passive",cost:"",desc:"When the Knight makes a successful attack, all PCs within Close range lose a Hope and you gain a Fear."},{name:"Cut to the Bone",type:"Action",cost:"Mark a Stress",desc:"to make an attack against all targets within Very Close range. Targets the Knight succeeds against take 1d8+2 physical damage and must mark a Stress."},{name:"Dig Two Graves",type:"Reaction",cost:"",desc:"When the Knight is defeated, they make an attack against a target within Very Close range (prioritizing the creature who killed them). On a success, the target takes 1d4+8 physical damage and loses 1d4 Hope."}]},{id:"CA040",name:"SKELETON WARRIOR",tier:"1",type:"Standard",desc:"A dirt-covered skeleton armed with a rusted blade.",motives:"Feign death, gang up, steal skin",difficulty:"10",thresholdMajor:"4",thresholdSevere:"8",hp:"3",stress:"2",atk:"+0",weaponName:"Sword",weaponRange:"Melee",weaponDamage:"1d6+2 phy",xp:"",source:"core",features:[{name:"Only Bones",type:"Passive",cost:"",desc:"The Warrior is resistant to physical damage."},{name:"Won\u2019t Stay Dead",type:"Reaction",cost:"",desc:"When the Warrior is defeated, you can spotlight them and roll a d 6. On a result of 6, if there are other adversaries on the battlefield, the Warrior re-forms with no marked HP."}]},{id:"CA041",name:"SPELLBLADE",tier:"1",type:"Leader",desc:"A mercenary combining swordplay and magic to deadly eff ect.",motives:"Blast, command, endure",difficulty:"14",thresholdMajor:"8",thresholdSevere:"14",hp:"6",stress:"3",atk:"+3",weaponName:"Empowered Longsword",weaponRange:"Melee",weaponDamage:"1d8+4 phy/mag",xp:"Magical Knowledge +2",source:"core",features:[{name:"Arcane Steel",type:"Passive",cost:"",desc:"Damage dealt by the Spellblade\u2019s standard attack is considered both physical and magic."},{name:"Suppressing Blast",type:"Action",cost:"Mark a Stress",desc:"and target a group within Far range. All targets must succeed on an Agility Reaction Roll or take 1d8+2 magic damage. You gain a Fear for each target who marked HP from this attack."},{name:"Move as a Unit",type:"Action",cost:"",desc:"Spend 2 Fear to spotlight up to five allies within Far range."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Spellblade makes a successful attack against a PC, you gain a Fear."}]},{id:"CA042",name:"SWARM OF RATS",tier:"1",type:"Horde (10/HP)",desc:"A skittering mass of ordinary rodents moving as one like a ravenous wave.",motives:"Consume, obscure, swarm",difficulty:"10",thresholdMajor:"6",thresholdSevere:"10",hp:"6",stress:"2",atk:"\u22123",weaponName:"Claws",weaponRange:"Melee",weaponDamage:"1d8+2 phy",xp:"",source:"core",features:[{name:"Horde (1d4+1)",type:"Passive",cost:"",desc:"When the Swarm has marked half or more of their HP, their standard attack deals 1d4+1 physical damage instead."},{name:"In Your Face",type:"Passive",cost:"",desc:"All targets within Melee range have disadvantage on attacks against targets other than the Swarm."}]},{id:"CA043",name:"SYLVAN SOLDIER",tier:"1",type:"Standard",desc:"A faerie warrior adorned in armor made of leaves and bark.",motives:"Ambush, hide, overwhelm, protect, trail",difficulty:"11",thresholdMajor:"6",thresholdSevere:"11",hp:"4",stress:"2",atk:"+0",weaponName:"Scythe",weaponRange:"Melee",weaponDamage:"1d8+1 phy",xp:"Tracker +2",source:"core",features:[{name:"Pack Tactics",type:"Passive",cost:"",desc:"If the Soldier makes a standard attack and another Sylvan Soldier is within Melee range of the target, deal 1d8+5 physical damage instead of their standard damage."},{name:"Forest Control",type:"Action",cost:"Spend a Fear",desc:"to pull down a tree within Close range. A creature hit by the tree must succeed on an Agility Reaction Roll (15) or take 1d10 physical damage."},{name:"Blend In",type:"Reaction",cost:"",desc:"When the Soldier makes a successful attack, you can mark a Stress to become Hidden until the Soldier\u2019s next attack or a PC succeeds on an Instinct Roll (14) to find them."}]},{id:"CA044",name:"TANGLE BRAMBLE SWARM",tier:"1",type:"Horde (3/HP)",desc:"A cluster of animate, blood-drinking tumbleweeds, each the size of a large gourd.",motives:"Digest, entangle, immobilize",difficulty:"12",thresholdMajor:"6",thresholdSevere:"11",hp:"6",stress:"3",atk:"+0",weaponName:"Thorns",weaponRange:"Melee",weaponDamage:"1d6+3 phy",xp:"Camouflage +2",source:"core",features:[{name:"Horde (1d4+2)",type:"Passive",cost:"",desc:"When the Swarm has marked half or more of their HP, their standard attack deals 1d4+2 physical damage instead."},{name:"Crush",type:"Action",cost:"Mark a Stress",desc:"to deal 2d6+8 direct physical damage to a target with 3 or more bramble tokens."},{name:"Encumber",type:"Reaction",cost:"",desc:"When the Swarm succeeds on an attack, give the target a bramble token. If a target has any bramble tokens, they are Restrained. If a target has 3 or more bramble tokens, they are also Vulnerable. All bramble tokens can be removed by succeeding on a Finesse Roll (12 + the number of bramble tokens) or dealing Major or greater damage to the Swarm. If bramble tokens are removed from a target using a Finesse Roll, a number of Tangle Bramble Minions spawn within Melee range equal to the number of tokens removed."}]},{id:"CA045",name:"TANGLE BRAMBLE",tier:"1",type:"Minion",desc:"An animate, blood-drinking tumbleweed.",motives:"Combine, drain, entangle",difficulty:"11",thresholdMajor:"None",thresholdSevere:"",hp:"1",stress:"1",atk:"\u22121",weaponName:"Thorns",weaponRange:"Melee",weaponDamage:"2 phy",xp:"",source:"core",features:[{name:"Minion (4)",type:"Passive",cost:"",desc:"The Bramble is defeated when they take any damage. For every 4 damage a PC deals to the Tangle Bramble, defeat an additional Minion within range the attack would succeed against."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Tangle Brambles within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 2 physical damage each. Combine this damage."},{name:"Drain and Multiply",type:"Reaction",cost:"",desc:"When an attack from the Bramble causes a target to mark HP and there are three or more Tangle Bramble Minions within Close range, you can combine the Minions into a Tangle Bramble Swarm Horde. The Horde\u2019s HP is equal to the number of Minions combined."}]},{id:"CA046",name:"WEAPONMASTER",tier:"1",type:"Bruiser",desc:"A master-at-arms wielding a sword twice their size.",motives:"Act first, aim for the weakest, intimidate",difficulty:"14",thresholdMajor:"8",thresholdSevere:"15",hp:"6",stress:"3",atk:"+2",weaponName:"Claymore",weaponRange:"Very Close",weaponDamage:"1d12+2 phy",xp:"",source:"core",features:[{name:"Goading Strike",type:"Action",cost:"",desc:"Make a standard attack against a target. On a success, mark a Stress to Taunt the target until their next successful attack. The next time the Taunted target attacks, they have disadvantage against targets other than the Weaponmaster."},{name:"Adrenaline Burst",type:"Action",cost:"",desc:"Once per scene, spend a Fear to clear 2 HP and 2 Stress."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Weaponmaster makes a successful attack against a PC, you gain a Fear."}]},{id:"CA047",name:"YOUNG DRYAD",tier:"1",type:"Leader",desc:"An imperious tree-person leading their forest\u2019s defenses.",motives:"Command, nurture, prune the unwelcome",difficulty:"11",thresholdMajor:"6",thresholdSevere:"11",hp:"6",stress:"2",atk:"+0",weaponName:"Scythe",weaponRange:"Melee",weaponDamage:"1d8+5 phy",xp:"Leadership +3",source:"core",features:[{name:"Voice of the Forest",type:"Action",cost:"Mark a Stress",desc:"to spotlight 1d4 allies within range of a target they can attack without moving. On a success, their attacks deal half damage."},{name:"Thorny Cage",type:"Action",cost:"Spend a Fear",desc:"to form a cage around a target within Very Close range and Restrain them until they\u2019re freed with a successful Strength Roll. When a creature makes an action roll against the cage, they must mark a Stress."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Dryad makes a successful attack against a PC, you gain a Fear."}]},{id:"CA048",name:"BRAWNY ZOMBIE",tier:"1",type:"Bruiser",desc:"A large corpse, decay-bloated and angry.",motives:"Crush, destroy, hail debris, slam",difficulty:"10",thresholdMajor:"8",thresholdSevere:"15",hp:"7",stress:"4",atk:"+2",weaponName:"Slam",weaponRange:"Very Close",weaponDamage:"1d12+3 phy",xp:"Collateral Damage +2, Throw +4",source:"core",features:[{name:"Slow",type:"Passive",cost:"",desc:"When you spotlight the Zombie and they don\u2019t have a token on their stat block, they can\u2019t act yet. Place a token on their stat block and describe what they\u2019re preparing to do. When you spotlight the Zombie and they have a token on their stat block, clear the token and they can act."},{name:"Rend Asunder",type:"Action",cost:"",desc:"Make a standard attack with advantage against a target the Zombie has Restrained. On a success, the attack deals direct damage."},{name:"Rip and Tear",type:"Reaction",cost:"",desc:"When the Zombies makes a successful standard attack, you can mark a Stress to temporarily Restrain the target and force them to mark 2 Stress."}]},{id:"CA049",name:"PATCHWORK ZOMBIE HULK",tier:"1",type:"Solo",desc:"A towering gestalt of corpses moving as one, with torso-sized limbs and fists as large as a grown halfling.",motives:"Absorb corpses, flail, hunger, terrify",difficulty:"13",thresholdMajor:"8",thresholdSevere:"15",hp:"10",stress:"3",atk:"+4",weaponName:"Too Many Arms",weaponRange:"Very Close",weaponDamage:"1d20 phy",xp:"Intimidation +2, Tear Things Apart +2",source:"core",features:[{name:"Destructible",type:"Passive",cost:"",desc:"When the Zombie takes Major or greater damage, they mark an additional HP."},{name:"Flailing Limbs",type:"Passive",cost:"",desc:"When the Zombie makes a standard attack, they can attack all targets within Very Close range."},{name:"Another for the Pile",type:"Action",cost:"",desc:"When the Zombie is within Very Close range of a corpse, they can incorporate it into themselves, clearing a HP and a Stress."},{name:"Tormented Screams",type:"Action",cost:"Mark a Stress",desc:"to cause all PCs within Far range to make a Presence Reaction Roll (13). Targets who fail lose a Hope and you gain a Fear for each. Targets who succeed must mark a Stress."}]},{id:"CA050",name:"ROTTED ZOMBIE",tier:"1",type:"Minion",desc:"A decaying corpse ambling toward their prey.",motives:"Eat flesh, hunger, maul, surround",difficulty:"8",thresholdMajor:"None",thresholdSevere:"",hp:"1",stress:"1",atk:"\u22123",weaponName:"Bite",weaponRange:"Melee",weaponDamage:"2 phy",xp:"",source:"core",features:[{name:"Minion (3)",type:"Passive",cost:"",desc:"The Zombie is defeated when they take any damage. For every 3 damage a PC deals to the Zombie, defeat an additional Minion within range the attack would succeed against."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Rotted Zombies within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 2 physical damage each. Combine this damage."}]},{id:"CA051",name:"SHAMBLING ZOMBIE",tier:"1",type:"Standard",desc:"An animated corpse that moves shakily, driven only by hunger.",motives:"Devour, hungry, mob enemy, shred flesh",difficulty:"10",thresholdMajor:"4",thresholdSevere:"6",hp:"4",stress:"1",atk:"+0",weaponName:"Bite",weaponRange:"Melee",weaponDamage:"1d6+1 phy",xp:"",source:"core",features:[{name:"Too Many to Handle",type:"Passive",cost:"",desc:"When the Zombie is within Melee range of a creature and at least one other Zombie is within Close range, all attacks against that creature have advantage."},{name:"Horrifying",type:"Passive",cost:"",desc:"Targets who mark HP from the Zombie\u2019s attacks must also mark a Stress."}]},{id:"CA052",name:"ZOMBIE PACK",tier:"1",type:"Horde (2/HP)",desc:"A group of shambling corpses instinctively moving together.",motives:"Consume flesh, hunger, maul",difficulty:"8",thresholdMajor:"6",thresholdSevere:"12",hp:"6",stress:"3",atk:"\u22121",weaponName:"Bite",weaponRange:"Melee",weaponDamage:"1d10+2 phy",xp:"",source:"core",features:[{name:"Horde (1d4+2)",type:"Passive",cost:"",desc:"When the Zombies have marked half or more of their HP, their standard attack deals 1d4+2 physical damage instead."},{name:"Overwhelm",type:"Reaction",cost:"",desc:"When the Zombies mark HP from an attack within Melee range, you can mark a Stress to make a standard attack against the attacker."}]},{id:"CA053",name:"ARCHER SQUADRON",tier:"2",type:"Horde (2/HP)",desc:"A group of trained archers bearing massive bows.",motives:"Stick together, survive, volley fire",difficulty:"13",thresholdMajor:"8",thresholdSevere:"16",hp:"4",stress:"3",atk:"+0",weaponName:"Longbow",weaponRange:"Far",weaponDamage:"2d6+3 phy",xp:"",source:"core",features:[{name:"Horde (1d6+3)",type:"Passive",cost:"",desc:"When the Squadron has marked half or more of their HP, their standard attack deals 1d6+3 physical damage instead."},{name:"Focused Volley",type:"Action",cost:"Spend a Fear",desc:"to target a point within Far range. Make an attack with advantage against all targets within Close range of that point. Targets the Squadron succeeds against take 1d10+4 physical damage."},{name:"Suppressing Fire",type:"Action",cost:"Mark a Stress",desc:"to target a point within Far range. Until the next roll with Fear, a creature who moves within Close range of that point must make an Agility Reaction Roll. On a failure, they take 2d6+3 physical damage. On a success, they take half damage."}]},{id:"CA054",name:"APPRENTICE ASSASSIN",tier:"2",type:"Minion",desc:"A young trainee eager to prove themselves.",motives:"Act reckless, kill, prove their worth, show off",difficulty:"13",thresholdMajor:"None",thresholdSevere:"",hp:"1",stress:"1",atk:"\u22121",weaponName:"Thrown Dagger",weaponRange:"Very Close",weaponDamage:"4 phy",xp:"Intrusion +2",source:"core",features:[{name:"Minion (6)",type:"Passive",cost:"",desc:"The Assassin is defeated when they take any damage. For every 6 damage a PC deals to the Assassin, defeat an additional Minion within range the attack would succeed against."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Apprentice Assassins within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 4 physical damage each. Combine this damage."}]},{id:"CA055",name:"ASSASSIN POISONER",tier:"2",type:"Skulk",desc:"A cunning scoundrel skilled in both poisons and ambushing.",motives:"Anticipate, get paid, kill, taint food and water",difficulty:"14",thresholdMajor:"8",thresholdSevere:"16",hp:"4",stress:"4",atk:"+3",weaponName:"Poisoned Throwing Dagger",weaponRange:"Close",weaponDamage:"2d8+1 phy",xp:"Intrusion +2",source:"core",features:[{name:"Grindletooth Venom",type:"Passive",cost:"",desc:"Targets who mark HP from the Assassin\u2019s attacks are Vulnerable until they clear a HP."},{name:"Out of Nowhere",type:"Passive",cost:"",desc:"The Assassin has advantage on attacks if they are Hidden."},{name:"Fumigation",type:"Action",cost:"",desc:"Drop a smoke bomb that fills the air within Close range with smoke, Dizzying all targets in this area. Dizzied targets have disadvantage on their next action roll, then clear the condition."}]},{id:"CA056",name:"MASTER ASSASSIN",tier:"2",type:"Leader",desc:"A seasoned killer with a threatening voice and a deadly blade.",motives:"Ambush, get out alive, kill, prepare for all scenarios",difficulty:"15",thresholdMajor:"12",thresholdSevere:"25",hp:"7",stress:"5",atk:"+5",weaponName:"Serrated Dagger",weaponRange:"Close",weaponDamage:"2d10+2 phy",xp:"Command +3, Intrusion +3",source:"core",features:[{name:"Won\u2019t See It Coming",type:"Passive",cost:"",desc:"The Assassin deals direct damage while they\u2019re Hidden."},{name:"Strike as One",type:"Action",cost:"Mark a Stress",desc:"to spotlight a number of other Assassins equal to the Assassin\u2019s unmarked Stress."},{name:"The Subtle Blade",type:"Reaction",cost:"",desc:"When the Assassin successfully makes a standard attack against a Vulnerable target, you can spend a Fear to deal Severe damage instead of their standard damage."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Assassin makes a successful attack against a PC, you gain a Fear."}]},{id:"CA057",name:"BATTLE BOX",tier:"2",type:"Solo",desc:"A cube-shaped construct with a diff erent rune on each of their six sides.",motives:"Change tactics, trample foes, wait in disguise",difficulty:"15",thresholdMajor:"10",thresholdSevere:"20",hp:"8",stress:"6",atk:"+2",weaponName:"Slam",weaponRange:"Melee",weaponDamage:"2d6+3 phy",xp:"Camouflage +2",source:"core",features:[{name:"Relentless (2)",type:"Passive",cost:"",desc:"The Box can be spotlighted up to two times times per GM turn. Spend Fear as usual to spotlight them."},{name:"Randomized Tactics",type:"Action",cost:"Mark a Stress",desc:"and roll a d6. The Box uses the corresponding move: <br> 1. Mana Beam. The Box fires a searing beam. Make an attack against a target within Far range. On a success, deal 2d10+2 magic damage. <br> 2. Fire Jets. The Box shoots into the air, spinning and releasing jets of flame. Make an attack against all targets within Close range. Targets the Box succeeds against take 2d8 physical damage. <br> 3. Trample. The Box rockets around erratically. Make an attack against all PCs within Close range. Targets the Box succeeds against take 1d6+5 physical damage and are Vulnerable until their next roll with Hope. <br> 4. Shocking Gas. The Box sprays out a silver gas sparking with lightning. All targets within Close range must succeed on a Finesse Reaction Roll or mark 3 Stress. <br> 5. Stunning Clap. The Box leaps and their sides clap, creating a small sonic boom. All targets within Very Close range must succeed on a Strength Reaction Roll or become Vulnerable until the cube is defeated. <br> 6. Psionic Whine. The Box releases a cluster of mechanical bees whose buzz rattles mortal minds. All targets within Close range must succeed on a Presence Reaction Roll or take 2d4+9 direct magic damage."},{name:"Overcharge",type:"Reaction",cost:"",desc:"Before rolling damage for the Box\u2019s attack, you can mark a Stress to add a d6 to the damage roll. Additionally, you gain a Fear."},{name:"Death Quake",type:"Reaction",cost:"",desc:"When the Box marks their last HP, the magic powering them ruptures in an explosion of force. All targets within Close range must succeed on an Instinct Reaction Roll or take 2d8+1 magic damage."}]},{id:"CA058",name:"CHAOS SKULL",tier:"2",type:"Ranged",desc:"A floating humanoid skull animated by scintillating magic.",motives:"Cackle, consume magic, serve creator",difficulty:"15",thresholdMajor:"8",thresholdSevere:"16",hp:"5",stress:"4",atk:"+2",weaponName:"Energy Blast",weaponRange:"Close",weaponDamage:"2d8+3 mag",xp:"",source:"core",features:[{name:"Levitation",type:"Passive",cost:"",desc:"The Skull levitates several feet off the ground and can\u2019t be Restrained."},{name:"Wards",type:"Passive",cost:"",desc:"The Skull is resistant to magic damage."},{name:"Magic Burst",type:"Action",cost:"Mark a Stress",desc:"to make an attack against all targets within Close range. Targets the Skull succeeds against take 2d6+4 magic damage."},{name:"Siphon Magic",type:"Action",cost:"Spend a Fear",desc:"to make an attack against a PC with a Spellcast trait within Very Close range. On a success, the target marks 1d4 Stress and the Skull clears that many Stress. Additionally, on a success, the Skull can immediately be spotlighted again."}]},{id:"CA059",name:"CONSCRIPT",tier:"2",type:"Minion",desc:"A poorly trained civilian pressed into war.",motives:"Follow orders, gang up, survive",difficulty:"12",thresholdMajor:"None",thresholdSevere:"",hp:"1",stress:"1",atk:"+0",weaponName:"Spears",weaponRange:"Very Close",weaponDamage:"6 phy",xp:"",source:"core",features:[{name:"Minion (6)",type:"Passive",cost:"",desc:"The Conscript is defeated when they take any damage. For every 6 damage a PC deals to the Conscript, defeat an additional Minion within range the attack would succeed against."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Conscripts within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 6 physical damage each. Combine this damage."}]},{id:"CA060",name:"COURTESAN",tier:"2",type:"Social",desc:"An accomplished manipulator and master of the social arts.",motives:"Entice, maneuver, secure patrons",difficulty:"13",thresholdMajor:"7",thresholdSevere:"13",hp:"3",stress:"4",atk:"\u22123",weaponName:"Dagger",weaponRange:"Melee",weaponDamage:"1d4+3 phy",xp:"Manipulation +3, Socialite +3",source:"core",features:[{name:"Searing Glance",type:"Reaction",cost:"",desc:"When a PC within Close range makes a Presence Roll, you can mark a Stress to cast a gaze toward the aftermath. On the target\u2019s failure, they must mark 2 Stress and are Vulnerable until the scene ends or they succeed on a social action against the Courtesan. On the target\u2019s success, they must mark a Stress."}]},{id:"CA061",name:"CULT ADEPT",tier:"2",type:"Support",desc:"An experienced mage wielding shadow and fear.",motives:"Curry favor, hinder foes, uncover knowledge",difficulty:"14",thresholdMajor:"9",thresholdSevere:"18",hp:"4",stress:"6",atk:"+2",weaponName:"Rune-Covered Rod",weaponRange:"Far",weaponDamage:"2d4+3 mag",xp:"Fallen Lore +2, Rituals +2",source:"core",features:[{name:"Enervating Blast",type:"Action",cost:"Spend a Fear",desc:"to make a standard attack against a target within range. On a success, the target must mark a Stress."},{name:"Shroud of the Fallen",type:"Action",cost:"Mark a Stress",desc:"to wrap an ally within Close range in a shroud of Protection until the Adept marks their last HP. While Protected, the target has resistance to all damage."},{name:"Shadow Shackles",type:"Action",cost:"Spend a Fear",desc:"and choose a point within Far range. All targets within Close range of that point are Restrained in smoky chains until they break free with a successful Strength or Instinct Roll. A target Restrained by this feature must spend a Hope to make an action roll."},{name:"Fear Is Fuel",type:"Reaction",cost:"",desc:"Twice per scene, when a PC rolls a failure with Fear, clear a Stress."}]},{id:"CA062",name:"CULT FANG",tier:"2",type:"Skulk",desc:"A professional killer-turned-cultist.",motives:"Capture sacrifices, isolate prey, rise in the ranks",difficulty:"15",thresholdMajor:"9",thresholdSevere:"17",hp:"4",stress:"4",atk:"+2",weaponName:"Long Knife",weaponRange:"Melee",weaponDamage:"2d8+4 phy",xp:"",source:"core",features:[{name:"Shadow\u2019s Embrace",type:"Passive",cost:"",desc:"The Fang can climb and walk on vertical surfaces. Mark a Stress to move from one shadow to another within Far range."},{name:"Pick Off the Straggler",type:"Action",cost:"Mark a Stress",desc:"to cause a target within Melee range to make an Instinct Reaction Roll. On a failure, the target must mark 2 Stress and is teleported with the Fang to a shadow within Far range, making them temporarily Vulnerable. On a success, the target must mark a Stress."}]},{id:"CA063",name:"CULT INITIATE",tier:"2",type:"Minion",desc:"A low-ranking cultist in simple robes, eager to gain power.",motives:"Follow orders, gain power, seek forbidden knowledge",difficulty:"13",thresholdMajor:"None",thresholdSevere:"",hp:"1",stress:"1",atk:"+0",weaponName:"Ritual Dagger",weaponRange:"Melee",weaponDamage:"5 phy",xp:"",source:"core",features:[{name:"Minion (6)",type:"Passive",cost:"",desc:"The Initiate is defeated when they take any damage. For every 6 damage a PC deals to the Initiate, defeat an additional Minion within range the attack would succeed against."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Cult Initiates within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 5 physical damage each. Combine this damage."}]},{id:"CA064",name:"DEMONIC HOUND PACK",tier:"2",type:"Horde (1/HP)",desc:"Unnatural hounds lit from within by hellfire.",motives:"Cause fear, consume flesh, please masters",difficulty:"15",thresholdMajor:"11",thresholdSevere:"23",hp:"6",stress:"3",atk:"+0",weaponName:"Claws and Fangs",weaponRange:"Melee",weaponDamage:"2d8+2 phy",xp:"Scent Tracking +3",source:"core",features:[{name:"Horde (2d4+1)",type:"Passive",cost:"",desc:"When the Pack has marked half or more of their HP, their standard attack deals 2d4+1 physical damage instead."},{name:"Dreadhowl",type:"Action",cost:"Mark a Stress",desc:"to make all targets within Very Close range lose a Hope. If a target is not able to lose a Hope, they must instead mark 2 Stress."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Pack makes a successful attack against a PC, you gain a Fear."}]},{id:"CA065",name:"ELECTRIC EELS",tier:"2",type:"Horde (2/HP)",desc:"A swarm of eels that encircle and electrocute.",motives:"Avoid larger predators, shock prey, tear apart",difficulty:"14",thresholdMajor:"10",thresholdSevere:"20",hp:"5",stress:"3",atk:"+0",weaponName:"Shocking Bite",weaponRange:"Melee",weaponDamage:"2d6+4 phy",xp:"",source:"core",features:[{name:"Horde (2d4+1)",type:"Passive",cost:"",desc:"When the Eels have marked half or more of their HP, their standard attack deals 2d4+1 physical damage instead."},{name:"Paralyzing Shock",type:"Action",cost:"Mark a Stress",desc:"to make a standard attack against all targets within Very Close range. You gain a Fear for each target that marks HP."}]},{id:"CA066",name:"ELITE SOLDIER",tier:"2",type:"Standard",desc:"An armored squire or experienced commoner looking to advance.",motives:"Gain glory, keep order, make alliances",difficulty:"15",thresholdMajor:"9",thresholdSevere:"18",hp:"4",stress:"3",atk:"+1",weaponName:"Spear",weaponRange:"Very Close",weaponDamage:"2d8+4 phy",xp:"",source:"core",features:[{name:"Reinforce",type:"Action",cost:"Mark a Stress",desc:"to move into Melee range of an ally and make a standard attack against a target within Very Close range. On a success, deal 2d10+2 physical damage and the ally can clear a Stress."},{name:"Vassal\u2019s Loyalty",type:"Reaction",cost:"",desc:"When the Soldier is within Very Close range of a knight or other noble who would take damage, you can mark a Stress to move into Melee range of them and take the damage instead."}]},{id:"CA067",name:"FAILED EXPERIMENT",tier:"2",type:"Standard",desc:"A magical necromantic experiment gone wrong, leaving them warped and ungainly.",motives:"Devour, hunt, track",difficulty:"13",thresholdMajor:"12",thresholdSevere:"23",hp:"3",stress:"3",atk:"+1",weaponName:"Bite and Claw",weaponRange:"Melee",weaponDamage:"2d6+5 phy",xp:"Copycat +3",source:"core",features:[{name:"Warped Fortitude",type:"Passive",cost:"",desc:"The Experiment is resistant to physical damage."},{name:"Overwhelm",type:"Passive",cost:"",desc:"When a target the Experiment attacks has other adversaries within Very Close range, the Experiment deals double damage."},{name:"Lurching Lunge",type:"Action",cost:"Mark a Stress",desc:"to spotlight the Experiment as an additional GM move instead of spending Fear."}]},{id:"CA068",name:"GIANT BEASTMASTER",tier:"2",type:"Leader",desc:"A leather-clad warrior bearing a whip and massive bow.",motives:"Command, make a living, maneuver, pin down, protect companion animals",difficulty:"16",thresholdMajor:"12",thresholdSevere:"24",hp:"6",stress:"5",atk:"+2",weaponName:"Longbow",weaponRange:"Far",weaponDamage:"2d8+4 phy",xp:"Animal Handling +3",source:"core",features:[{name:"Two as One",type:"Passive",cost:"",desc:"When the Beastmaster is spotlighted, you can also spotlight a Tier 1 animal adversary currently under their control."},{name:"Pinning Strike",type:"Action",cost:"",desc:"Make a standard attack against a target. On a success, you can mark a Stress to pin them to a nearby surface. The pinned target is Restrained until they break free with a successful Finesse or Strength Roll."},{name:"Deadly Companion",type:"Action",cost:"",desc:"Twice per scene, summon a Bear, Dire Wolf, or similar Tier 1 animal adversary under the Beastmaster\u2019s control. The adversary appears at Close range and is immediately spotlighted."}]},{id:"CA069",name:"GIANT BRAWLER",tier:"2",type:"Bruiser",desc:"An especially muscular giant wielding a warhammer larger than a human.",motives:"Make a living, overwhelm, slam, topple",difficulty:"15",thresholdMajor:"14",thresholdSevere:"28",hp:"7",stress:"4",atk:"+2",weaponName:"Warhammer",weaponRange:"Very Close",weaponDamage:"2d12+3 phy",xp:"Intrusion +2",source:"core",features:[{name:"Battering Ram",type:"Action",cost:"Mark a Stress",desc:"to have the Brawler charge at an inanimate object within Close range they could feasibly smash (such as a wall, cart, or market stand) and destroy it. All targets within Very Close range of the object must succeed on an Agility Reaction Roll or take 2d4+3 physical damage from the shrapnel."},{name:"Bloody Reprisal",type:"Reaction",cost:"",desc:"When the Brawler marks 2 or more HP from an attack within Very Close range, you can make a standard attack against the attacker. On a success, the Brawler deals 2d6+15 physical damage instead of their standard damage."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Brawler makes a successful attack against a PC, you gain a Fear."}]},{id:"CA070",name:"GIANT RECRUIT",tier:"2",type:"Minion",desc:"A giant fighter wearing borrowed armor.",motives:"Batter, make a living, overwhelm, terrify",difficulty:"13",thresholdMajor:"None",thresholdSevere:"",hp:"1",stress:"2",atk:"+1",weaponName:"Warhammer",weaponRange:"Very Close",weaponDamage:"5 phy",xp:"",source:"core",features:[{name:"Minion (\uE547)",type:"Passive",cost:"",desc:"The Recruit is defeated when they take any damage. For every 7 damage a PC deals to the Recruit, defeat an additional Minion within range the attack would succeed against."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Giant Recruits within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 5 physical damage each. Combine this damage."}]},{id:"CA071",name:"GIANT EAGLE",tier:"2",type:"Skulk",desc:"A giant bird of prey with blood-stained talons.",motives:"Hunt prey, stay mobile, strike decisively",difficulty:"14",thresholdMajor:"8",thresholdSevere:"19",hp:"4",stress:"4",atk:"+1",weaponName:"Claws and Beak",weaponRange:"Very Close",weaponDamage:"2d6+3 phy",xp:"",source:"core",features:[{name:"Flight",type:"Passive",cost:"",desc:"While flying, the Eagle gains a +3 bonus to their Difficulty."},{name:"Deadly Dive",type:"Action",cost:"Mark a Stress",desc:"to attack a target within Far range. On a success, deal 2d10+2 physical damage and knock the target over, making them Vulnerable until they next act."},{name:"Take Off",type:"Action",cost:"",desc:"Make an attack against a target within Very Close range. On a success, deal 2d4+3 physical damage and the target must succeed on an Agility Reaction Roll or become temporarily Restrained within the Eagle\u2019s massive talons. If the target is Restrained, the Eagle immediately lifts into the air to Very Far range above the battlefield while holding them."},{name:"Deadly Drop",type:"Action",cost:"",desc:"While flying, the Eagle can drop a Restrained target they are holding. When dropped, the target is no longer Restrained but starts falling. If their fall isn\u2019t prevented during the PCs\u2019 next action, the target takes 2d20 physical damage when they land."}]},{id:"CA072",name:"GORGON",tier:"2",type:"Solo",desc:"A snake-headed, scaled humanoid with a gilded bow, enraged that their peace has been disturbed.",motives:"Corner, hit-and-run, petrify, seek vengeance",difficulty:"15",thresholdMajor:"13",thresholdSevere:"25",hp:"9",stress:"3",atk:"+4",weaponName:"Sunsear Shortbow",weaponRange:"Far",weaponDamage:"2d20+3 mag",xp:"Stealth +3",source:"core",features:[{name:"Relentless (2)",type:"Passive",cost:"",desc:"The Gorgon can be spotlighted up to two times per GM turn. Spend Fear as usual to spotlight them."},{name:"Sunsear Arrows",type:"Passive",cost:"",desc:"When the Gorgon makes a successful standard attack, the target Glows until the end of the scene and can\u2019t become Hidden. Attack rolls made against a Glowing target have advantage."},{name:"Crown of Serpents",type:"Action",cost:"",desc:"Make an attack roll against a target within Melee range using the Gorgon\u2019s protective snakes. On a success, mark a Stress to deal 2d10+4 physical damage and the target must mark a Stress."},{name:"Petrifying Gaze",type:"Reaction",cost:"",desc:"When the Gorgon takes damage from an attack within Close range, you can spend a Fear to force the attacker to make an Instinct Reaction Roll. On a failure, they begin to turn to stone, marking a HP and starting a Petrification Countdown (4). This countdown ticks down when the Gorgon is attacked. When it triggers, the target must make a death move. If the Gorgon is defeated, all petrification countdowns end."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Gorgon makes a successful attack against a PC, you gain a Fear."}]},{id:"CA073",name:"JUVENILE FLICKERFLY",tier:"2",type:"Solo",desc:"A horse-sized insect with iridescent scales and crystalline wings moving faster than the eye can see.",motives:"Collect shiny things, hunt, swoop",difficulty:"14",thresholdMajor:"13",thresholdSevere:"26",hp:"10",stress:"5",atk:"+3",weaponName:"Wing Slash",weaponRange:"Very Close",weaponDamage:"2d10+4 phy",xp:"",source:"core",features:[{name:"Relentless (3)",type:"Passive",cost:"",desc:"The Flickerfly can be spotlighted up to three times per GM turn. Spend Fear as usual to spotlight them."},{name:"Peerless Accuracy",type:"Passive",cost:"",desc:"Before the Flickerfly makes an attack, roll a d 6. On a result of 4 or higher, the target\u2019s Evasion is halved against this attack."},{name:"Mind Dance",type:"Action",cost:"Mark a Stress",desc:"to create a magically dazzling display that grapples the minds of nearby foes. All targets within Close range must make an Instinct Reaction Roll. For each target who failed, you gain a Fear and the Flickerfly learns one of the target\u2019s fears."},{name:"Hallucinatory Breath",type:"Reaction",cost:"",desc:"Countdown (Loop 1d6). When the Flickerfly takes damage for the first time, activate the countdown. When it triggers, the Flickerfly breathes hallucinatory gas on all targets in front of them up to Far range. Targets must succeed on an Instinct Reaction Roll or be tormented by fearful hallucinations. Targets whose fears are known to the Flickerfly have disadvantage on this roll. Targets who fail must mark a Stress and lose a Hope."}]},{id:"CA074",name:"KNIGHT OF THE REALM",tier:"2",type:"Leader",desc:"A decorated soldier with heavy armor and a powerful steed.",motives:"Run down, seek glory, show dominance",difficulty:"15",thresholdMajor:"13",thresholdSevere:"26",hp:"6",stress:"4",atk:"+4",weaponName:"Longsword",weaponRange:"Melee",weaponDamage:"2d10+4 phy",xp:"Ancient Knowledge +3, High Society +2, Tactics +2",source:"core",features:[{name:"Chevalier",type:"Passive",cost:"",desc:"While the Knight is on a mount, they gain a +2 bonus to their Difficulty. When they take Severe damage, they\u2019re knocked from their mount and lose this benefit until they\u2019re next spotlighted."},{name:"Heavily Armored",type:"Passive",cost:"",desc:"When the Knight takes physical damage, reduce it by 3."},{name:"Cavalry Charge",type:"Action",cost:"",desc:"If the Knight is mounted, move up to Far range and make a standard attack against a target. On a success, deal 2d8+4 physical damage and the target must mark a Stress."},{name:"For the Realm!",type:"Action",cost:"Mark a Stress",desc:"to spotlight 1d4+1 allies. Attacks they make while spotlighted in this way deal half damage."}]},{id:"CA075",name:"MASKED THIEF",tier:"2",type:"Skulk",desc:"A cunning thief with acrobatic skill and a flair for the dramatic.",motives:"Evade, hide, pilfer, profit",difficulty:"14",thresholdMajor:"8",thresholdSevere:"17",hp:"4",stress:"5",atk:"+3",weaponName:"Backsword",weaponRange:"Melee",weaponDamage:"2d8+3 phy",xp:"Acrobatics +3",source:"core",features:[{name:"Quick Hands",type:"Action",cost:"",desc:"Make an attack against a target within Melee range. On a success, deal 1d8+2 physical damage and the Thief steals one item or consumable from the target\u2019s inventory."},{name:"Escape Plan",type:"Action",cost:"Mark a Stress",desc:"to reveal a snare trap set anywhere on the battlefield by the Thief. All targets within Very Close range of the trap must succeed on an Agility Reaction Roll (13) or be pulled off their feet and suspended upside down. A target is Restrained and Vulnerable until they break free, ending both conditions, with a successful Finesse or Strength Roll (13)."}]},{id:"CA076",name:"MERCHANT BARON",tier:"2",type:"Social",desc:"An accomplished merchant with a large operation under their command.",motives:"Abuse power, gather resources, mobilize minions",difficulty:"15",thresholdMajor:"9",thresholdSevere:"19",hp:"5",stress:"3",atk:"\u22122",weaponName:"Rapier",weaponRange:"Melee",weaponDamage:"1d6+2 phy",xp:"Nobility +2, Trade +2",source:"core",features:[{name:"Everyone Has a Price",type:"Action",cost:"Spend a Fear",desc:"to off er a target a dangerous bargain for something they want or need. If used on a PC, they must make a Presence Reaction Roll (17). On a failure, they must mark 2 Stress or take the deal."},{name:"The Best Muscle Money Can Buy",type:"Action",cost:"",desc:"Once per scene, mark a Stress to summon 1d4+1 Tier 1 adversaries, who appear at Far range, to enforce the Baron\u2019s will."}]},{id:"CA077",name:"MINOTAUR WRECKER",tier:"2",type:"Bruiser",desc:"A massive bull-headed firbolg with a quick temper.",motives:"Consume, gore, navigate, overpower, pursue",difficulty:"16",thresholdMajor:"14",thresholdSevere:"27",hp:"7",stress:"5",atk:"+2",weaponName:"Battleaxe",weaponRange:"Very Close",weaponDamage:"2d8+5 phy",xp:"Navigation +2",source:"core",features:[{name:"Ramp Up",type:"Passive",cost:"",desc:"You must spend a Fear to spotlight the Minotaur. While spotlighted, they can make their standard attack against all targets within range."},{name:"Charging Bull",type:"Action",cost:"Mark a Stress",desc:"to charge through a group within Close range and make an attack against all targets in the Minotaur\u2019s path. Targets the Minotaur succeeds against take 2d6+8 physical damage and are knocked back to Very Far range. If a target is knocked into a solid object or another creature, they take an extra 1d6 damage (combine the damage)."},{name:"Gore",type:"Action",cost:"",desc:"Make an attack against a target within Very Close range, moving the Minotaur into Melee range of them. On a success, deal 2d8 direct physical damage."}]},{id:"CA078",name:"MORTAL HUNTER",tier:"2",type:"Leader",desc:"An undead figure wearing a heavy leather coat, with searching eyes and a casually cruel demeanor.",motives:"Devour, hunt, track",difficulty:"16",thresholdMajor:"15",thresholdSevere:"27",hp:"6",stress:"4",atk:"+5",weaponName:"Tear at Flesh",weaponRange:"Very Close",weaponDamage:"2d12+1 phy",xp:"Bloodhound +3",source:"core",features:[{name:"Terrifying",type:"Passive",cost:"",desc:"When the Hunter makes a successful attack, all PCs within Far range lose a Hope and you gain a Fear."},{name:"Deathlock",type:"Action",cost:"Spend a Fear",desc:"to curse a target within Very Close range with a necrotic Deathlock until the end of the scene. Attacks made by the Hunter against a Deathlocked target deal direct damage. The Hunter can only maintain one Deathlock at a time."},{name:"Inevitable Death",type:"Action",cost:"Mark a Stress",desc:"to spotlight 1d4 allies. Attacks they make while spotlighted in this way deal half damage."},{name:"Rampage",type:"Reaction",cost:"",desc:"Countdown (Loop 1d6). When the Hunter is in the spotlight for the first time, activate the countdown. When it triggers, move the Hunter in a straight line to a point within Far range and make an attack against all targets in their path. Targets the Hunter succeeds against take 2d8+2 physical damage."}]},{id:"CA079",name:"ROYAL ADVISOR",tier:"2",type:"Social",desc:"A high-ranking courtier with the ear of the local nobility.",motives:"Curry favor, manufacture evidence, scheme",difficulty:"14",thresholdMajor:"8",thresholdSevere:"15",hp:"3",stress:"3",atk:"\u22123",weaponName:"Wand",weaponRange:"Far",weaponDamage:"1d4+3 phy",xp:"Administration +3, Courtier +3",source:"core",features:[{name:"Devastating Retort",type:"Passive",cost:"",desc:"A PC who rolls less than 17 on an action roll targeting the Advisor must mark a Stress."},{name:"Bend Ears",type:"Action",cost:"Mark a Stress",desc:"to influence an NPC within Melee range with whispered words. That target\u2019s opinion on one matter shifts toward the Advisor\u2019s preference unless it is in direct opposition to the target\u2019s motives."},{name:"Scapegoat",type:"Action",cost:"Spend a Fear",desc:"to convince a crowd or notable individual that one person or group is responsible for some problem facing the target. The target becomes hostile to the scapegoat until convinced of their innocence with a successful Presence Roll (17)."}]},{id:"CA080",name:"SECRET-KEEPER",tier:"2",type:"Leader",desc:"A clandestine leader with a direct channel to the Fallen Gods.",motives:"Amass great power, plot, take command",difficulty:"16",thresholdMajor:"13",thresholdSevere:"26",hp:"7",stress:"4",atk:"+3",weaponName:"Sigil-laden Staff ",weaponRange:"Far",weaponDamage:"2d12 mag",xp:"Coercion +2, Fallen Lore +2",source:"core",features:[{name:"Seize Your Moment",type:"Action",cost:"",desc:"Spend 2 Fear to spotlight 1d4 allies. Attacks they make while spotlighted in this way deal half damage."},{name:"Our Master\u2019s Will",type:"Reaction",cost:"",desc:"When you spotlight an ally within Far range, mark a Stress to gain a Fear."},{name:"Summoning Ritual",type:"Reaction",cost:"",desc:"Countdown (6). When the Secret-Keeper is in the spotlight for the first time, activate the countdown. When they mark HP, tick down this countdown by the number of HP marked. When it triggers, summon a Minor Demon who appears at Close range."},{name:"Fallen Hounds",type:"Reaction",cost:"",desc:"Once per scene, when the Secret- Keeper marks 2 or more HP, you can mark a Stress to summon a Demonic Hound Pack, which appears at Close range and is immediately spotlighted."}]},{id:"CA081",name:"SHARK",tier:"2",type:"Bruiser",desc:"A large aquatic predator, always on the move.",motives:"Find the blood, isolate prey, target the weak",difficulty:"14",thresholdMajor:"14",thresholdSevere:"28",hp:"7",stress:"3",atk:"+2",weaponName:"Toothy Maw",weaponRange:"Very Close",weaponDamage:"2d12+1 phy",xp:"Sense of Smell +3",source:"core",features:[{name:"Terrifying",type:"Passive",cost:"",desc:"When the Shark makes a successful attack, all PCs within Far range lose a Hope and you gain a Fear."},{name:"Rending Bite",type:"Passive",cost:"",desc:"When the Shark makes a successful attack, the target must mark an Armor Slot without receiving its benefits (they can still use armor to reduce the damage). If they can\u2019t mark an Armor Slot, they must mark an additional HP."},{name:"Blood in the Water",type:"Reaction",cost:"",desc:"When a creature within Close range of the Shark marks HP from another creature\u2019s attack, you can mark a Stress to immediately spotlight the Shark, moving them into Melee range of the target and making a standard attack."}]},{id:"CA082",name:"SIREN",tier:"2",type:"Skulk",desc:"A half-fish person with shimmering scales and an irresistible voice.",motives:"Consume, lure prey, subdue with song",difficulty:"14",thresholdMajor:"9",thresholdSevere:"18",hp:"5",stress:"3",atk:"+2",weaponName:"Distended Jaw Bite",weaponRange:"Melee",weaponDamage:"2d6+3 phy",xp:"Song Repertoire +3",source:"core",features:[{name:"Captive Audience",type:"Passive",cost:"",desc:"If the Siren makes a standard attack against a target Entranced by their song, the attack deals 2d10+1 damage instead of their standard damage."},{name:"Enchanting Song",type:"Action",cost:"Spend a Fear",desc:"to sing a song that aff ects all targets within Close range. Targets must succeed on an Instinct Reaction Roll or become Entranced until they mark 2 Stress. Other Sirens within Close range of the target can mark a Stress to each add a +1 bonus to the Difficulty of the reaction roll. While Entranced, a target can\u2019t act and is Vulnerable."}]},{id:"CA083",name:"SPECTRAL ARCHER",tier:"2",type:"Ranged",desc:"A ghostly fighter with an ethereal bow, unable to move on while their charge is vulnerable.",motives:"Move through solid objects, stay out of the fray, rehash old battles",difficulty:"13",thresholdMajor:"6",thresholdSevere:"14",hp:"3",stress:"3",atk:"+3",weaponName:"Longbow",weaponRange:"Far",weaponDamage:"2d10+2 phy",xp:"Ancient Knowledge +2",source:"core",features:[{name:"Ghost",type:"Passive",cost:"",desc:"The Archer has resistance to physical damage. Mark a Stress to move up to Close range through solid objects."},{name:"Pick Your Target",type:"Action",cost:"Spend a Fear",desc:"to make an attack within Far range against a PC who is within Very Close range of at least two other PCs. On a success, the target takes 2d8+12 physical damage."}]},{id:"CA084",name:"SPECTRAL CAPTAIN",tier:"2",type:"Leader",desc:"A ghostly commander leading their troops beyond death.",motives:"Move through solid objects, rally troops, rehash old battles",difficulty:"16",thresholdMajor:"13",thresholdSevere:"26",hp:"6",stress:"4",atk:"+3",weaponName:"Longbow",weaponRange:"Far",weaponDamage:"2d10+3 phy",xp:"Ancient Knowledge +3",source:"core",features:[{name:"Ghost",type:"Passive",cost:"",desc:"The Captain has resistance to physical damage. Mark a Stress to move up to Close range through solid objects."},{name:"Unending Battle",type:"Action",cost:"",desc:"Spend 2 Fear to return up to 1d4+1 defeated Spectral allies to the battle at the points where they first appeared (with no marked HP or Stress)."},{name:"Hold Fast",type:"Reaction",cost:"",desc:"When the Captain\u2019s Spectral allies are forced to make a reaction roll, you can mark a Stress to give those allies a +2 bonus to the roll."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Captain makes a successful attack against a PC, you gain a Fear."}]},{id:"CA085",name:"SPECTRAL GUARDIAN",tier:"2",type:"Standard",desc:"A ghostly fighter with spears and swords, anchored by duty.",motives:"Move through solid objects, protect treasure, rehash old battles",difficulty:"15",thresholdMajor:"7",thresholdSevere:"15",hp:"4",stress:"3",atk:"+1",weaponName:"Spear",weaponRange:"Very Close",weaponDamage:"2d8+1 phy",xp:"Ancient Knowledge +2",source:"core",features:[{name:"Ghost",type:"Passive",cost:"",desc:"The Guardian has resistance to physical damage. Mark a Stress to move up to Close range through solid objects."},{name:"Grave Blade",type:"Action",cost:"Spend a Fear",desc:"to make an attack against a target within Very Close range. On a success, deal 2d10+6 physical damage and the target must mark a Stress."}]},{id:"CA086",name:"SPY",tier:"2",type:"Social",desc:"A skilled espionage agent with a knack for being in the right place to overhear secrets.",motives:"Cut and run, disguise appearance, eavesdrop",difficulty:"15",thresholdMajor:"8",thresholdSevere:"17",hp:"4",stress:"3",atk:"\u22122",weaponName:"Dagger",weaponRange:"Melee",weaponDamage:"2d6+3 phy",xp:"Espionage +3",source:"core",features:[{name:"Gathering Secrets",type:"Action",cost:"Spend a Fear",desc:"to describe how the Spy knows a secret about a PC in the scene."},{name:"Fly on the Wall",type:"Reaction",cost:"",desc:"When a PC or group is discussing something sensitive, you can mark a Stress to reveal that the Spy is present in the scene, observing them. If the Spy escapes the scene to report their findings, you gain 1d4 Fear."}]},{id:"CA087",name:"STONEWRAITH",tier:"2",type:"Skulk",desc:"A prowling hunter, like a slinking mountain lion, with a slate-gray stone body.",motives:"Defend territory, isolate prey, stalk",difficulty:"13",thresholdMajor:"11",thresholdSevere:"22",hp:"6",stress:"3",atk:"+3",weaponName:"Bite and Claws",weaponRange:"Melee",weaponDamage:"2d8+6 phy",xp:"Stonesense +3",source:"core",features:[{name:"Stonestrider",type:"Passive",cost:"",desc:"The Stonewraith can move through stone and earth as easily as air. While within stone or earth, they are Hidden and immune to all damage."},{name:"Rocky Ambush",type:"Action",cost:"",desc:"While Hidden, mark a Stress to leap into Melee range with a target within Very Close range. The target must succeed on an Agility or Instinct Reaction Roll (15) or take 2d8 physical damage and become temporarily Restrained."},{name:"Avalanche Roar",type:"Action",cost:"Spend a Fear",desc:"to roar while within a cave and cause a cave-in. All targets within Close range must succeed on an Agility Reaction Roll (14) or take 2d10 physical damage. The rubble can be cleared with a Progress Countdown (8)."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Stonewraith makes a successful attack against a PC, you gain a Fear."}]},{id:"CA088",name:"WAR WIZARD",tier:"2",type:"Ranged",desc:"A battle-hardened mage trained in destructive magic.",motives:"Develop new spells, seek power, shatter formations",difficulty:"16",thresholdMajor:"11",thresholdSevere:"23",hp:"5",stress:"6",atk:"+4",weaponName:"Staff ",weaponRange:"Far",weaponDamage:"2d10+4 mag",xp:"Magical Knowledge +2, Strategize +2",source:"core",features:[{name:"Battle Teleport",type:"Passive",cost:"",desc:"Before or after making a standard attack, you can mark a Stress to teleport to a location within Far range."},{name:"Refresh Warding Sphere",type:"Action",cost:"Mark a Stress",desc:"to refresh the Wizard\u2019s \u201CWarding Sphere\u201D reaction."},{name:"Eruption",type:"Action",cost:"Spend a Fear",desc:"and choose a point within Far range. A Very Close area around that point erupts into impassable terrain. All targets within that area must make an Agility Reaction Roll (14). Targets who fail take 2d10 physical damage and are thrown out of the area. Targets who succeed take half damage and aren\u2019t moved."},{name:"Arcane Artillery",type:"Action",cost:"Spend a Fear",desc:"to unleash a precise hail of magical blasts. All targets in the scene must make an Agility Reaction Roll. Targets who fail take 2d12 magic damage. Targets who succeed take half damage."},{name:"Warding Sphere",type:"Reaction",cost:"",desc:"When the Wizard takes damage from an attack within Close range, deal 2d6 magic damage to the attacker. This reaction can\u2019t be used again until the Wizard refreshes it with their \u201CRefresh Warding Sphere\u201D action."}]},{id:"CA089",name:"ADULT FLICKERFLY",tier:"3",type:"Solo",desc:"A winged insect the size of a large house with iridescent scales and wings that move too fast to track.",motives:"Collect shiny things, hunt, nest, swoop",difficulty:"17",thresholdMajor:"20",thresholdSevere:"35",hp:"12",stress:"6",atk:"+3",weaponName:"Wing Slash",weaponRange:"Very Close",weaponDamage:"3d20 phy",xp:"",source:"core",features:[{name:"Relentless (4)",type:"Passive",cost:"",desc:"The Flickerfly can be spotlighted up to four times per GM turn. Spend Fear as usual to spotlight them."},{name:"Never Misses",type:"Passive",cost:"",desc:"When the Flickerfly makes an attack, the target\u2019s Evasion is halved against the attack."},{name:"Deadly Flight",type:"Passive",cost:"",desc:"While flying, the Flickerfly can move up to Far range instead of Close range before taking an action."},{name:"Whirlwind",type:"Action",cost:"Spend a Fear",desc:"to whirl, making an attack against all targets within Very Close range. Targets the Flickerfly succeeds against take 3d8 direct physical damage."},{name:"Mind Dance",type:"Action",cost:"Mark a Stress",desc:"to create a magically dazzling display that grapples the minds of nearby foes. All targets within Close range must make an Instinct Reaction Roll. For each target who failed, you gain a Fear and the Flickerfly learns one of the target\u2019s fears."},{name:"Hallucinatory Breath",type:"Action",cost:"",desc:"Countdown (Loop 1d6). When the Flickerfly takes damage for the first time, activate the countdown. When it triggers, the Flickerfly breathes hallucinatory gas on all targets in front of them up to Far range. Targets must make an Instinct Reaction Roll or be tormented by fearful hallucinations. Targets whose fears are known to the Flickerfly have disadvantage on this roll. Targets who fail lose 2 Hope and take 3d8+3 direct magic damage."},{name:"Uncanny Reflexes",type:"Reaction",cost:"",desc:"When the Flickerfly takes damage from an attack within Close range, you can mark a Stress to take half damage."}]},{id:"CA090",name:"DEMON OF AVARICE",tier:"3",type:"Support",desc:"A regal cloaked monstrosity with circular horns adorned with treasure.",motives:"Consume, fuel greed, sow dissent",difficulty:"17",thresholdMajor:"15",thresholdSevere:"29",hp:"6",stress:"5",atk:"+2",weaponName:"Hungry Maw",weaponRange:"Melee",weaponDamage:"3d6+5 mag",xp:"Manipulation +3",source:"core",features:[{name:"Money Talks",type:"Passive",cost:"",desc:"Attacks against the Demon are made with disadvantage unless the attacker spends a handful of gold. This Demon starts with a number of handfuls equal to the number of PCs. When a target marks HP from the Demon\u2019s standard attack, they can spend a handful of gold instead of marking HP (1 handful per HP). Add a handful of gold to the Demon for each handful of gold spent by PCs on this feature."},{name:"Numbers Must Go Up",type:"Passive",cost:"",desc:"Add a bonus to the Demon\u2019s attack rolls equal to the number of handfuls of gold they have."},{name:"Money Is Time",type:"Action",cost:"",desc:"Spend 3 handfuls of gold (or a Fear) to spotlight 1d4+1 allies."}]},{id:"CA091",name:"DEMON OF DESPAIR",tier:"3",type:"Skulk",desc:"A cloaked demon-creature with long limbs, seeping shadows.",motives:"Make fear contagious, stick to the shadows, undermine resolve",difficulty:"17",thresholdMajor:"18",thresholdSevere:"35",hp:"6",stress:"5",atk:"+3",weaponName:"Miasma Bolt",weaponRange:"Far",weaponDamage:"3d6+1 mag",xp:"Manipulation +3",source:"core",features:[{name:"Depths of Despair",type:"Passive",cost:"",desc:"The Demon deals double damage to PCs with 0 Hope."},{name:"Your Struggle Is Pointless",type:"Action",cost:"Spend a Fear",desc:"to weigh down the spirits of all PCs within Far range. All targets aff ected replace their Hope Die with a d8 until they roll a success with Hope or their next rest."},{name:"Your Friends Will Fail You",type:"Reaction",cost:"",desc:"When a PC fails with Fear, you can mark a Stress to cause all other PCs within Close range to lose a Hope."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Demon makes a successful attack against a PC, you gain a Fear."}]},{id:"CA092",name:"DEMON OF HUBRIS",tier:"3",type:"Leader",desc:"A perfectly beautiful and infinitely cruel demon with a gleaming spear and elegant robes.",motives:"Condescend, declare premature victory, prove superiority",difficulty:"18",thresholdMajor:"18",thresholdSevere:"36",hp:"7",stress:"5",atk:"+4",weaponName:"Perfect Spear",weaponRange:"Very Close",weaponDamage:"3d10 phy",xp:"Manipulation +2",source:"core",features:[{name:"Terrifying",type:"Passive",cost:"",desc:"When the Demon makes a successful attack, all PCs within Far range must lose a Hope and you gain a Fear."},{name:"Double or Nothing",type:"Passive",cost:"",desc:"When a PC within Far range fails a roll, they can choose to reroll their Fear Die and take the new result. If they still fail, they mark 2 Stress and the Demon clears a Stress."},{name:"Unparalleled Skill",type:"Action",cost:"Mark a Stress",desc:"to deal the Demon\u2019s standard attack damage to a target within Close range."},{name:"The Root of Villainy",type:"Action",cost:"Spend a Fear",desc:"to spotlight two other Demons within Far range."},{name:"You Pale in Comparison",type:"Reaction",cost:"",desc:"When a PC fails a roll within Close range of the Demon, they must mark a Stress."}]},{id:"CA093",name:"DEMON OF JEALOUSY",tier:"3",type:"Ranged",desc:"A fickle creature of spindly limbs and insatiable desires.",motives:"Join in on others\u2019 success, take what belongs to others, hold grudges",difficulty:"17",thresholdMajor:"17",thresholdSevere:"30",hp:"6",stress:"6",atk:"+4",weaponName:"Psychic Assault",weaponRange:"Far",weaponDamage:"3d8+3 mag",xp:"Manipulation +3",source:"core",features:[{name:"Unprotected Mind",type:"Passive",cost:"",desc:"The Demon\u2019s standard attack deals direct damage."},{name:"My Turn",type:"Reaction",cost:"",desc:"When the Demon marks HP from an attack, spend a number of Fear equal to the HP marked by the Demon to cause the attacker to mark the same number of HP."},{name:"Rivalry",type:"Reaction",cost:"",desc:"When a creature within Close range takes damage from a diff erent adversary, you can mark a Stress to add a d4 to the damage roll."},{name:"What\u2019s Yours Is Mine",type:"Reaction",cost:"",desc:"When a PC takes Severe damage within Very Close range of the Demon, you can spend a Fear to cause the target to make a Finesse Reaction Roll. On a failure, the Demon seizes one item or consumable of their choice from the target\u2019s inventory."}]},{id:"CA094",name:"DEMON OF WRATH",tier:"3",type:"Bruiser",desc:"A hulking demon with boulder-sized fists, driven by endless rage.",motives:"Fuel anger, impress rivals, wreak havoc",difficulty:"17",thresholdMajor:"22",thresholdSevere:"40",hp:"7",stress:"5",atk:"+3",weaponName:"Fists",weaponRange:"Very Close",weaponDamage:"3d8+1 mag",xp:"Intimidation +2",source:"core",features:[{name:"Anger Unrelenting",type:"Passive",cost:"",desc:"The Demon\u2019s attacks deal direct damage."},{name:"Battle Lust",type:"Action",cost:"Spend a Fear",desc:"to boil the blood of all PCs within Far range. They use a d20 as their Fear Die until the end of the scene."},{name:"Retaliation",type:"Reaction",cost:"",desc:"When the Demon takes damage from an attack within Close range, you can mark a Stress to make a standard attack against the attacker."},{name:"Blood and Souls",type:"Reaction",cost:"",desc:"Countdown (Loop 6). Activate the first time an attack is made within sight of the Demon. It ticks down when a PC takes a violent action. When it triggers, summon 1d4 Minor Demons, who appear at Close range."}]},{id:"CA095",name:"DIRE BAT",tier:"3",type:"Skulk",desc:"A wide-winged pet endlessly loyal to their vampire owner.",motives:"Dive-bomb, hide, protect leader",difficulty:"14",thresholdMajor:"16",thresholdSevere:"30",hp:"5",stress:"3",atk:"+2",weaponName:"Claws and Teeth",weaponRange:"Melee",weaponDamage:"2d6+7 phy",xp:"Bloodthirsty +3",source:"core",features:[{name:"Flying",type:"Passive",cost:"",desc:"While flying, the Bat gains a +3 bonus to their Difficulty."},{name:"Screech",type:"Action",cost:"Mark a Stress",desc:"to send a high-pitch screech out toward all targets in front of the Bat within Far range. Those targets must mark 1d4 Stress."},{name:"Guardian",type:"Reaction",cost:"",desc:"When an allied Vampire marks HP, you can mark a Stress to fly into Melee range of the attacker and make an attack with advantage against them. On a success, deal 2d6+2 physical damage."}]},{id:"CA096",name:"DRYAD",tier:"3",type:"Leader",desc:"A nature spirit in the form of a humanoid tree.",motives:"Command, cultivate, drive out, preserve the forest",difficulty:"16",thresholdMajor:"24",thresholdSevere:"38",hp:"8",stress:"5",atk:"+4",weaponName:"Deadfall Shortbow",weaponRange:"Far",weaponDamage:"3d10+1 phy",xp:"Forest Knowledge +4",source:"core",features:[{name:"Bramble Patch",type:"Action",cost:"Mark a Stress",desc:"to target a point within Far range. Create a patch of thorns that covers an area within Close range of that point. All targets within that area take 2d6+2 physical damage when they act. A target must succeed on a Finesse Roll or deal more than 20 damage to the Dryad with an attack to leave the area."},{name:"Grow Saplings",type:"Action",cost:"Spend a Fear",desc:"to grow three Treant Sapling Minions, who appear at Close range and immediately take the spotlight."},{name:"We Are All One",type:"Reaction",cost:"",desc:"When an ally dies within Close range, you can spend a Fear to clear 2 HP and 2 Stress as the fallen ally\u2019s life force is returned to the forest."}]},{id:"CA097",name:"ELEMENTAL SPARK",tier:"3",type:"Minion",desc:"A blazing mote of elemental fire.",motives:"Blast, consume, gain mass",difficulty:"15",thresholdMajor:"None",thresholdSevere:"",hp:"1",stress:"1",atk:"+0",weaponName:"Bursts of Fire",weaponRange:"Close",weaponDamage:"5 mag",xp:"",source:"core",features:[{name:"Minion (9)",type:"Passive",cost:"",desc:"The Elemental is defeated when they take any damage. For every 9 damage a PC deals to the Elemental, defeat an additional Minion within range the attack would succeed against."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Elemental Sparks within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 5 physical damage each. Combine this damage."}]},{id:"CA098",name:"GREATER EARTH ELEMENTAL",tier:"3",type:"Bruiser",desc:"A living landslide of boulders and dust, as large as a house.",motives:"Avalanche, knock over, pummel",difficulty:"17",thresholdMajor:"22",thresholdSevere:"40",hp:"10",stress:"4",atk:"+7",weaponName:"Boulder Fist",weaponRange:"Very Close",weaponDamage:"3d10+1 phy",xp:"",source:"core",features:[{name:"Slow",type:"Passive",cost:"",desc:"When you spotlight the Elemental and they don\u2019t have a token on their stat block, they can\u2019t act yet. Place a token on their stat block and describe what they\u2019re preparing to do. When you spotlight the Elemental and they have a token on their stat block, clear the token and they can act."},{name:"Crushing Blows",type:"Passive",cost:"",desc:"When the Elemental makes a successful attack, the target must mark an Armor Slot without receiving its benefits (they can still use armor to reduce the damage). If they can\u2019t mark an Armor Slot, they must mark an additional HP."},{name:"Immovable Object",type:"Passive",cost:"",desc:"An attack that would move the Elemental moves them two fewer ranges (for example, Far becomes Very Close). When the Elemental takes physical damage, reduce it by 7."},{name:"Rockslide",type:"Action",cost:"Mark a Stress",desc:"to create a rockslide that buries the land in front of Elemental within Close range with rockfall. All targets in this area must make an Agility Reaction Roll (19). Targets who fail take 2d12+5 physical damage and become Vulnerable until their next roll with Hope. Targets who succeed take half damage."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Elemental makes a successful attack against a PC, you gain a Fear."}]},{id:"CA099",name:"GREATER WATER ELEMENTAL",tier:"3",type:"Support",desc:"A huge living wave that crashes down upon enemies.",motives:"Deluge, disperse, drown",difficulty:"17",thresholdMajor:"17",thresholdSevere:"34",hp:"5",stress:"5",atk:"+3",weaponName:"Crashing Wave",weaponRange:"Very Close",weaponDamage:"3d4+1 mag",xp:"",source:"core",features:[{name:"Water Jet",type:"Action",cost:"Mark a Stress",desc:"to attack a target within Very Close range. On a success, deal 2d4+7 physical damage and the target\u2019s next action has disadvantage. On a failure, the target must mark a Stress."},{name:"Drowning Embrace",type:"Action",cost:"Spend a Fear",desc:"to make an attack against all targets within Very Close range. Targets the Elemental succeeds against become Restrained and Vulnerable as they begin drowning. A target can break free, ending both conditions, with a successful Strength or Instinct Roll."},{name:"High Tide",type:"Reaction",cost:"",desc:"When the Elemental makes a successful standard attack, you can mark a Stress to knock the target back to Close range."}]},{id:"CA100",name:"HUGE GREEN OOZE",tier:"3",type:"Skulk",desc:"A translucent green mound of acid taller than most humans.",motives:"Camouflage, creep up, envelop, multiply",difficulty:"15",thresholdMajor:"15",thresholdSevere:"30",hp:"7",stress:"4",atk:"+3",weaponName:"Ooze Appendage",weaponRange:"Melee",weaponDamage:"3d8+1 mag",xp:"Blend In +3",source:"core",features:[{name:"Slow",type:"Passive",cost:"",desc:"When you spotlight the Ooze and they don\u2019t have a token on their stat block, they can\u2019t act yet. Place a token on their stat block and describe what they\u2019re preparing to do. When you spotlight the Ooze and they have a token on their stat block, clear the token and they can act."},{name:"Acidic Form",type:"Passive",cost:"",desc:"When the Ooze makes a successful attack, the target must mark an Armor Slot without receiving its benefits (they can still use armor to reduce the damage). If they can\u2019t mark an Armor Slot, they must mark an additional HP."},{name:"Envelop",type:"Action",cost:"",desc:"Make an attack against a target within Melee range. On a success, the Ooze Envelops them and the target must mark 2 Stress. While Enveloped, the target must mark an additional Stress every time they make an action roll. When the Ooze takes Severe damage, all Enveloped targets are freed and the condition is cleared."},{name:"Split",type:"Reaction",cost:"",desc:"When the Ooze has 4 or more HP marked, you can spend a Fear to split them into two Green Oozes (with no marked HP or Stress). Immediately spotlight both of them."}]},{id:"CA101",name:"HYDRA",tier:"3",type:"Solo",desc:"A quadrupedal scaled beast with multiple long-necked heads, each filled with menacing fangs.",motives:"Devour, regenerate, terrify",difficulty:"18",thresholdMajor:"19",thresholdSevere:"35",hp:"10",stress:"5",atk:"+3",weaponName:"Bite",weaponRange:"Close",weaponDamage:"2d12+2 phy",xp:"",source:"core",features:[{name:"Many-Headed Menace",type:"Passive",cost:"",desc:"The Hydra begins with three heads and can have up to five. When the Hydra takes Major or greater damage, they lose a head."},{name:"Relentless (X)",type:"Passive",cost:"",desc:"The Hydra can be spotlighted X times per GM turn, where X is the Hydra\u2019s number of heads. Spend Fear as usual to spotlight them."},{name:"Regeneration",type:"Action",cost:"",desc:"If the Hydra has any marked HP, spend a Fear to clear a HP and grow two heads."},{name:"Terrifying Chorus",type:"Action",cost:"",desc:"All PCs within Far range lose 2 Hope."},{name:"Magical Weakness",type:"Reaction",cost:"",desc:"When the Hydra takes magic damage, they become Dazed until the next roll with Fear. While Dazed, they can\u2019t use their Regeneration action but are immune to magic damage."}]},{id:"CA102",name:"MONARCH",tier:"3",type:"Social",desc:"The sovereign ruler of a nation, wreathed in the privilege of tradition and wielding unmatched power in their domain.",motives:"Control vassals, destroy rivals, forge a legacy",difficulty:"16",thresholdMajor:"16",thresholdSevere:"32",hp:"6",stress:"5",atk:"+0",weaponName:"Warhammer",weaponRange:"Melee",weaponDamage:"3d6+3 phy",xp:"History +3, Nobility +3",source:"core",features:[{name:"Execute Them!",type:"Action",cost:"Spend a Fear",desc:"per PC in the party to have the group condemned for crimes real or imagined. A PC who succeeds on a Presence Roll can demand trial by combat or another special form of trial."},{name:"Crownsguard",type:"Action",cost:"",desc:"Once per scene, mark a Stress to summon six Tier 3 Minions, who appear at Close range to enforce the Monarch\u2019s will."},{name:"Casus Belli",type:"Reaction",cost:"",desc:"Long-Term Countdown (8). Spend a Fear to activate after the Monarch\u2019s desire for war is first revealed. When it triggers, the Monarch has a reason to rally the nation to war and the support to act on that reason. You gain 1d4 Fear."}]},{id:"CA103",name:"STAG KNIGHT",tier:"3",type:"Standard",desc:"A knight with huge, majestic antlers wearing armor made of dangerous thorns.",motives:"Isolate, maneuver, protect the forest, weed the unwelcome",difficulty:"17",thresholdMajor:"19",thresholdSevere:"36",hp:"7",stress:"5",atk:"+3",weaponName:"Bramble Sword",weaponRange:"Melee",weaponDamage:"3d8+3 phy",xp:"Forest Knowledge +3",source:"core",features:[{name:"From Above",type:"Passive",cost:"",desc:"When the Knight succeeds on a standard attack from above a target, they deal 3d12+3 physical damage instead of their standard damage."},{name:"Blade of the Forest",type:"Action",cost:"Spend a Fear",desc:"to make an attack against all targets within Very Close range. Targets the Knight succeeds against take physical damage equal to 3d4 + the target\u2019s Major threshold."},{name:"Thorny Armor",type:"Reaction",cost:"",desc:"When the Knight takes damage from an attack within Melee range, you can mark a Stress to deal 1d10+5 physical damage to the attacker."}]},{id:"CA104",name:"OAK TREANT",tier:"3",type:"Bruiser",desc:"A sturdy animate old-growth tree.",motives:"Hide in plain sight, preserve the forest, root down, swing branches",difficulty:"17",thresholdMajor:"22",thresholdSevere:"40",hp:"7",stress:"4",atk:"+2",weaponName:"Branch",weaponRange:"Very Close",weaponDamage:"3d8+2 phy",xp:"Forest Knowledge +3",source:"core",features:[{name:"Just a Tree",type:"Passive",cost:"",desc:"Before they make their first attack in a fight or after they become Hidden, the Treant is indistinguishable from other trees until they next act or a PC succeeds on an Instinct Roll to identify them."},{name:"Seed Barrage",type:"Action",cost:"Mark a Stress",desc:"and make an attack against up to three targets within Close range, pummeling them with giant acorns. Targets the Treant succeeds against take 2d10+5 physical damage."},{name:"Take Root",type:"Action",cost:"Mark a Stress",desc:"to Root the Treant in place. The Treant is Restrained while Rooted, and can end this eff ect instead of moving while they are spotlighted. While Rooted, the Treant has resistance to physical damage."}]},{id:"CA105",name:"TREANT SAPLING",tier:"3",type:"Minion",desc:"A small, sentient tree sapling.",motives:"Blend in, preserve the forest, pummel, surround",difficulty:"14",thresholdMajor:"None",thresholdSevere:"",hp:"1",stress:"1",atk:"+0",weaponName:"Branches",weaponRange:"Melee",weaponDamage:"8 phy",xp:"",source:"core",features:[{name:"Minion (6)",type:"Passive",cost:"",desc:"The Sapling is defeated when they take any damage. For every 6 damage a PC deals to the Sapling, defeat an additional Minion within range the attack would succeed against."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Treant Saplings within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 8 physical damage each. Combine this damage."}]},{id:"CA106",name:"HEAD VAMPIRE",tier:"3",type:"Leader",desc:"A captivating undead dressed in aristocratic finery.",motives:"Create thralls, charm, command, fly, intimidate",difficulty:"17",thresholdMajor:"22",thresholdSevere:"42",hp:"6",stress:"6",atk:"+5",weaponName:"Rapier",weaponRange:"Melee",weaponDamage:"2d20+4 phy",xp:"Aristocrat +3",source:"core",features:[{name:"Terrifying",type:"Passive",cost:"",desc:"When the Vampire makes a successful attack, all PCs within Far range lose a Hope and you gain a Fear."},{name:"Look into My Eyes",type:"Passive",cost:"",desc:"A creature who moves into Melee range of the Vampire must make an Instinct Reaction Roll. On a failure, you gain 1d4 Fear."},{name:"Feed on Followers",type:"Action",cost:"",desc:"When the Vampire is within Melee range of an ally, they can cause the ally to mark a HP. The Vampire then clears a HP."},{name:"The Hunt Is On",type:"Action",cost:"",desc:"Spend 2 Fear to summon 1d4 Vampires, who appear at Far range and immediately take the spotlight."},{name:"Lifesuck",type:"Reaction",cost:"",desc:"When the Vampire is spotlighted, roll a d8. On a result of 6 or higher, all targets within Very Close range must mark a HP."}]},{id:"CA107",name:"VAMPIRE",tier:"3",type:"Standard",desc:"An intelligent undead with blood-stained lips and a predator\u2019s smile.",motives:"Bite, charm, deceive, feed, intimidate",difficulty:"16",thresholdMajor:"18",thresholdSevere:"35",hp:"5",stress:"4",atk:"+3",weaponName:"Rapier",weaponRange:"Melee",weaponDamage:"3d8 phy",xp:"Nocturnal Hunter +3",source:"core",features:[{name:"Draining Bite",type:"Action",cost:"",desc:"Make an attack against a target within Melee range. On a success, deal 5d4 physical damage. A target who marks HP from this attack loses a Hope and must mark a Stress. The Vampire then clears a HP."},{name:"Mistform",type:"Reaction",cost:"",desc:"When the Vampire takes physical damage, you can spend a Fear to take half damage."}]},{id:"CA108",name:"VAULT GUARDIAN GAOLER",tier:"3",type:"Support",desc:"A boxy, dust-covered construct with thick metallic swinging doors on their torso.",motives:"Carry away, entrap, protect, pummel",difficulty:"16",thresholdMajor:"19",thresholdSevere:"33",hp:"5",stress:"3",atk:"+2",weaponName:"Body Bash",weaponRange:"Very Close",weaponDamage:"3d6+2 phy",xp:"",source:"core",features:[{name:"Blocking Shield",type:"Passive",cost:"",desc:"Creatures within Melee range of the Gaoler have disadvantage on attack rolls against them. Creatures trapped inside the Gaoler are immune to this feature."},{name:"Lock Up",type:"Action",cost:"Mark a Stress",desc:"to make an attack against a target within Very Close range. On a success, the target is Restrained within the Gaoler until freed with a successful Strength Roll (18). While Restrained, the target can only attack the Gaoler."}]},{id:"CA109",name:"VAULT GUARDIAN SENTINEL",tier:"3",type:"Bruiser",desc:"A dust-covered golden construct with boxy limbs and a huge mace for a hand.",motives:"Destroy at any cost, expunge, protect",difficulty:"17",thresholdMajor:"21",thresholdSevere:"40",hp:"6",stress:"3",atk:"+3",weaponName:"Charged Mace",weaponRange:"Very Close",weaponDamage:"2d12+1 phy",xp:"",source:"core",features:[{name:"Kinetic Slam",type:"Passive",cost:"",desc:"Targets who take damage from the Sentinel\u2019s standard attack are knocked back to Very Close range."},{name:"Box In",type:"Action",cost:"Mark a Stress",desc:"to choose a target within Very Close range to focus on. That target has disadvantage on attack rolls when they\u2019re within Very Close range of the Sentinel. The Sentinel can only focus on one target at a time."},{name:"Mana Bolt",type:"Action",cost:"Spend a Fear",desc:"to lob explosive magic at a point within Far range. All targets within Very Close range of that point must make an Agility Reaction Roll. Targets who fail take 2d8+20 magic damage and are knocked back to Close range. Targets who succeed take half damage and aren\u2019t knocked back."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Sentinel makes a successful attack against a PC, you gain a Fear."}]},{id:"CA110",name:"VAULT GUARDIAN TURRET",tier:"3",type:"Ranged",desc:"A massive living turret with reinforced armor and twelve pistondriven mechanical legs.",motives:"Concentrate fire, lock down, mark, protect",difficulty:"16",thresholdMajor:"20",thresholdSevere:"32",hp:"5",stress:"4",atk:"+3",weaponName:"Magitech Cannon",weaponRange:"Far",weaponDamage:"3d10+3 mag",xp:"",source:"core",features:[{name:"Slow Firing",type:"Passive",cost:"",desc:"When you spotlight the Turret and they don\u2019t have a token on their stat block, they can\u2019t make a standard attack. Place a token on their stat block and describe what they\u2019re preparing to do. When you spotlight the Turret and they have a token on their stat block, clear the token and they can attack."},{name:"Mark Target",type:"Action",cost:"Spend a Fear",desc:"to Mark a target within Far range until the Turret is destroyed or the Marked target becomes Hidden. While the target is Marked, their Evasion is halved."},{name:"Concentrate Fire",type:"Reaction",cost:"",desc:"When another adversary deals damage to a target within Far range of the Turret, you can mark a Stress to add the Turret\u2019s standard attack damage to the damage roll."},{name:"Detonation",type:"Reaction",cost:"",desc:"When the Turret is destroyed, they explode. All targets within Close range must make an Agility Reaction Roll. Targets who fail take 3d20 physical damage. Targets who succeed take half damage."}]},{id:"CA111",name:"YOUNG ICE DRAGON",tier:"3",type:"Solo",desc:"A glacier-blue dragon with four powerful limbs and frost-tinged wings.",motives:"Avalanche, defend lair, fly, freeze, defend what is mine, maul",difficulty:"18",thresholdMajor:"21",thresholdSevere:"41",hp:"10",stress:"6",atk:"+7",weaponName:"Bite and Claws",weaponRange:"Close",weaponDamage:"4d10 phy",xp:"Protect What Is Mine +3",source:"core",features:[{name:"Relentless (3)",type:"Passive",cost:"",desc:"The Dragon can be spotlighted up to three times per GM turn. Spend Fear as usual to spotlight them."},{name:"Rend and Crush",type:"Passive",cost:"",desc:"If a target damaged by the Dragon doesn\u2019t mark an Armor Slot to reduce the damage, they must mark a Stress."},{name:"No Hope",type:"Passive",cost:"",desc:"When a PC rolls with Fear while within Far range of the Dragon, they lose a Hope."},{name:"Blizzard Breath",type:"Action",cost:"",desc:"Spend 2 Fear to release an icy whorl in front of the Dragon within Close range. All targets in this area must make an Agility Reaction Roll. Targets who fail take 4d6+5 magic damage and are Restrained by ice until they break free with a successful Strength Roll. Targets who succeed must mark 2 Stress or take half damage."},{name:"Avalanche",type:"Action",cost:"Spend a Fear",desc:"to have the Dragon unleash a huge downfall of snow and ice, covering all other creatures within Far range. All targets within this area must succeed on an Instinct Reaction Roll or be buried in snow and rocks, becoming Vulnerable until they dig themselves out from the debris. For each PC that fails the reaction roll, you gain a Fear."},{name:"Frozen Scales",type:"Reaction",cost:"",desc:"When a creature makes a successful attack against the Dragon from within Very Close range, they must mark a Stress and become Chilled until their next rest or they clear a Stress. While they are Chilled, they have disadvantage on attack rolls."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Dragon makes a successful attack against a PC, you gain a Fear."}]},{id:"CA112",name:"ARCH-NECROMANCER",tier:"4",type:"Leader",desc:"A decaying mage adorned in dark, tattered robes.",motives:"Corrupt, decay, flee to fight another day,resurrect",difficulty:"21",thresholdMajor:"33",thresholdSevere:"66",hp:"9",stress:"8",atk:"+6",weaponName:"Necrotic Blast",weaponRange:"Far",weaponDamage:"4d12+8 mag",xp:"Forbidden Knowledge +3, Wisdom of Centuries +3",source:"core",features:[{name:"Dance of Death",type:"Action",cost:"Mark a Stress",desc:"to spotlight 1d4 allies. Attacks they make while spotlighted in this way deal half damage, or full damage if you spend a Fear."},{name:"Beam of Decay",type:"Action",cost:"",desc:"Mark 2 Stress to cause all targets within Far range to make a Strength Reaction Roll. Targets who fail take 2d20+12 magic damage and you gain a Fear. Targets who succeed take half damage. A target who marks 2 or more HP must also mark 2 Stress and becomes Vulnerable until they roll with Hope."},{name:"Open the Gates of Death",type:"Action",cost:"Spend a Fear",desc:"to summon a Zombie Legion, which appears at Close range and immediately takes the spotlight."},{name:"Not Today, My Dears",type:"Reaction",cost:"",desc:"When the Necromancer has marked 7 or more of their HP, you can spend a Fear to have them teleport away to a safe location to recover. A PC who succeeds on an Instinct Roll can trace the teleportation magic to their destination."},{name:"Your Life Is Mine",type:"Reaction",cost:"",desc:"Countdown (Loop 2d6). When the Necromancer has marked 6 or more of their HP, activate the countdown. When it triggers, deal 2d10+6 direct magic damage to a target within Close range. The Necromancer then clears a number of Stress or HP equal to the number of HP marked by the target from this attack."}]},{id:"CA113",name:"FALLEN SHOCK TROOP",tier:"4",type:"Minion",desc:"A cursed soul bound to the Fallen\u2019s will.",motives:"Crush, dominate, earn relief, punish",difficulty:"18",thresholdMajor:"None",thresholdSevere:"",hp:"1",stress:"1",atk:"+2",weaponName:"Cursed Axe",weaponRange:"Very Close",weaponDamage:"12 phy",xp:"",source:"core",features:[{name:"Minion (12)",type:"Passive",cost:"",desc:"The Shock Troop is defeated when they take any damage. For every 12 damage a PC deals to the Shock Troop, defeat an additional Minion within range the attack would succeed against."},{name:"Aura of Doom",type:"Passive",cost:"",desc:"When a PC marks HP from an attack by the Shock Troop, they lose a Hope."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Fallen Shock Troops within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 12 physical damage each. Combine this damage."}]},{id:"CA114",name:"FALLEN SORCERER",tier:"4",type:"Support",desc:"A powerful mage bound by the bargains they made in life.",motives:"Acquire, dishearten, dominate, torment",difficulty:"19",thresholdMajor:"26",thresholdSevere:"42",hp:"6",stress:"5",atk:"+4",weaponName:"Corrupted Staff ",weaponRange:"Far",weaponDamage:"4d6+10 mag",xp:"Ancient Knowledge +2",source:"core",features:[{name:"Conflagration",type:"Action",cost:"Spend a Fear",desc:"to unleash an all-consuming firestorm and make an attack against all targets within Close range. Targets the Sorcerer succeeds against take 2d10+6 direct magic damage."},{name:"Nightmare Tableau",type:"Action",cost:"Mark a Stress",desc:"to trap a target within Far range in a powerful illusion of their worst fears. While trapped, the target is Restrained and Vulnerable until they break free, ending both conditions, with a successful Instinct Roll."},{name:"Slippery",type:"Reaction",cost:"",desc:"When the Sorcerer takes damage from an attack, they can teleport up to Far range."},{name:"Shackles of Guilt",type:"Reaction",cost:"",desc:"Countdown (Loop 2d6). When the Sorcerer is in the spotlight for the first time, activate the countdown. When it triggers, all targets within Far range become Vulnerable and must mark a Stress as they relive their greatest regrets. A target can break free from their regret with a successful Presence or Strength Roll. When a PC fails to break free, they lose a Hope."}]},{id:"CA115",name:"FALLEN WARLORD:REALM-BREAKER",tier:"4",type:"Solo",desc:"A Fallen God, wreathed in rage and resentment, bearing millennia of experience in breaking heroes\u2019 spirits.",motives:"Corrupt, dominate, punish, break the weak",difficulty:"20",thresholdMajor:"36",thresholdSevere:"66",hp:"8",stress:"5",atk:"+7",weaponName:"Barbed Whip",weaponRange:"Close",weaponDamage:"4d8+7 phy",xp:"Conquest +3, History +2, Intimidation +3",source:"core",features:[{name:"Relentless (2)",type:"Passive",cost:"",desc:"The Realm-Breaker can be spotlighted up to two times per GM turn. Spend Fear as usual to spotlight them."},{name:"Firespite Plate Armor",type:"Passive",cost:"",desc:"When the Realm-Breaker takes damage, reduce it by 2d10."},{name:"Tormenting Lash",type:"Action",cost:"Mark a Stress",desc:"to make a standard attack against all targets within Very Close range. When a target uses armor to reduce damage from this attack, they must mark 2 Armor Slots."},{name:"All-Consuming Rage",type:"Reaction",cost:"",desc:"Countdown (Decreasing 8). When the Realm-Breaker is in the spotlight for the first time, activate the countdown. When it triggers, create a torrent of incarnate rage that rends flesh from bone. All targets within Far range must make a Presence Reaction Roll. Targets who fail take 2d6+10 direct magic damage. Targets who succeed take half damage. For each HP marked from this damage, summon a Fallen Shock Troop within Very Close range of the target who marked that HP. If the countdown ever decreases its maximum value to 0, the Realm-Breaker marks their remaining HP and all targets within Far range must mark all remaining HP and make a death move."},{name:"Doombringer",type:"Reaction",cost:"",desc:"When a target marks HP from an attack by the Realm-Breaker, all PCs within Far range of the target must lose a Hope."},{name:"I Have Never Known Defeat (Phase Change)",type:"Reaction",cost:"",desc:"When the Realm-Breaker marks their last HP, replace them with the Undefeated Champion and immediately spotlight them."}]},{id:"CA116",name:"FALLEN WARLORD:UNDEFEATED CHAMPION",tier:"4",type:"Solo",desc:"That which only the most feared have a chance to fear.",motives:"Dispatch merciless death, punish the defiant, secure victory at any cost",difficulty:"18",thresholdMajor:"35",thresholdSevere:"58",hp:"11",stress:"5",atk:"+8",weaponName:"Heart-Shattering Sword",weaponRange:"Very Close",weaponDamage:"4d12+13 phy",xp:"Conquest +3, History +2, Intimidation +3",source:"core",features:[{name:"Relentless (3)",type:"Passive",cost:"",desc:"The Undefeated Champion can be spotlighted up to three times per GM turn. Spend Fear as usual to spotlight them."},{name:"Faltering Armor",type:"Passive",cost:"",desc:"When the Undefeated Champion takes damage, reduce it by 1d10."},{name:"Shattering Strike",type:"Action",cost:"Mark a Stress",desc:"to make a standard attack against all targets within Very Close range. PCs the Champion succeeds against lose a number of Hope equal to the HP they marked from this attack."},{name:"Endless Legions",type:"Action",cost:"Spend a Fear",desc:"to summon a number of Fallen Shock Troops equal to twice the number of PCs. The Shock Troops appear at Far range."},{name:"Circle of Defilement",type:"Reaction",cost:"",desc:"Countdown (1d8). When the Undefeated Champion is in the spotlight for the first time, activate the countdown. When it triggers, activate a magical circle covering an area within Far range of the Champion. A target within that area is Vulnerable until they leave the circle. The circle can be removed by dealing Severe damage to the Undefeated Champion."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Undefeated Champion makes a successful attack against a PC, you gain a Fear."},{name:"Doombringer",type:"Reaction",cost:"",desc:"When a target marks HP from an attack by the Undefeated Champion, all PCs within Far range of the target lose a Hope."}]},{id:"CA117",name:"HALLOWED ARCHER",tier:"4",type:"Ranged",desc:"Spirit soldiers with sanctified bows.",motives:"Focus fire, obey, reposition, volley",difficulty:"19",thresholdMajor:"25",thresholdSevere:"45",hp:"3",stress:"2",atk:"+4",weaponName:"Sanctified Longbow",weaponRange:"Far",weaponDamage:"4d8+8 phy",xp:"",source:"core",features:[{name:"Punish the Guilty",type:"Passive",cost:"",desc:"The Archer deals double damage to targets marked Guilty by a High Seraph."},{name:"Divine Volley",type:"Action",cost:"Mark a Stress",desc:"to make a standard attack against up to three targets."}]},{id:"CA118",name:"HALLOWED SOLDIER",tier:"4",type:"Minion",desc:"Souls of the faithful, lifted up with divine weaponry.",motives:"Obey, outmaneuver, punish, swarm",difficulty:"18",thresholdMajor:"None",thresholdSevere:"",hp:"1",stress:"2",atk:"+2",weaponName:"Sword and Shield",weaponRange:"Melee",weaponDamage:"10 phy",xp:"",source:"core",features:[{name:"Minion (13)",type:"Passive",cost:"",desc:"The Soldier is defeated when they take any damage. For every 13 damage a PC deals to the Soldier, defeat an additional Minion within range the attack would succeed against."},{name:"Divine Flight",type:"Passive",cost:"",desc:"While the Soldier is flying, spend a Fear to move up to Far range instead of Close range before taking an action."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Hallowed Soldiers within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 10 physical damage each. Combine this damage."}]},{id:"CA119",name:"HIGH SERAPH",tier:"4",type:"Leader",desc:"A divine champion, head of a hallowed host of warriors who enforce their god\u2019s will.",motives:"Enforce dogma, fly, pronounce judgment, smite",difficulty:"20",thresholdMajor:"37",thresholdSevere:"70",hp:"7",stress:"5",atk:"+8",weaponName:"Holy Sword",weaponRange:"Very Close",weaponDamage:"4d10+10 phy",xp:"Divine Knowledge +3",source:"core",features:[{name:"Relentless (2)",type:"Passive",cost:"",desc:"The Seraph can be spotlighted up to three times per GM turn. Spend Fear as usual to spotlight them."},{name:"Divine Flight",type:"Passive",cost:"",desc:"While the Seraph is flying, spend a Fear to move up to Far range instead of Close range before taking an action."},{name:"Judgment",type:"Action",cost:"Spend a Fear",desc:"to make a target Guilty in the eyes of the Seraph\u2019s god until the Seraph is defeated. While Guilty, the target doesn\u2019t gain Hope on a result with Hope. When the Seraph succeeds on a standard attack against a Guilty target, they deal Severe damage instead of their standard damage. The Seraph can only mark one target at a time."},{name:"God Rays",type:"Action",cost:"Mark a Stress",desc:"to reflect a sliver of divinity as a searing beam of light that hits up to twenty targets within Very Far range. Targets must make a Presence Reaction Roll, with disadvantage if they are marked Guilty. Targets who fail take 4d6+12 magic damage. Targets who succeed take half damage."},{name:"We Are One",type:"Action",cost:"",desc:"Once per scene, spend a Fear to spotlight all other adversaries within Far range. Attacks they make while spotlighted in this way deal half damage."}]},{id:"CA120",name:"KRAKEN",tier:"4",type:"Solo",desc:"A legendary beast of the sea, bigger than the largest galleon, with sucker-laden tentacles and a terrifying maw.",motives:"Consume, crush, drown, grapple",difficulty:"20",thresholdMajor:"35",thresholdSevere:"70",hp:"11",stress:"8",atk:"+7",weaponName:"Tentacles",weaponRange:"Close",weaponDamage:"4d12+10 phy",xp:"Swimming +3",source:"core",features:[{name:"Relentless (3)",type:"Passive",cost:"",desc:"The Kraken can be spotlighted up to three times per GM turn. Spend Fear as usual to spotlight them."},{name:"Many Tentacles",type:"Passive",cost:"",desc:"While the Kraken has 7 or fewer marked HP, they can make their standard attack against two targets within range."},{name:"Grapple and Drown",type:"Action",cost:"",desc:"Make an attack roll against a target within Close range. On a success, mark a Stress to grab them with a tentacle and drag them beneath the water. The target is Restrained and Vulnerable until they break free with a successful Strength Roll or the Kraken takes Major or greater damage. While Restrained and Vulnerable in this way, a target must mark a Stress when they make an action roll."},{name:"Boiling Blast",type:"Action",cost:"Spend a Fear",desc:"to spew a line of boiling water at any number of targets in a line up to Far range. All targets must succeed on an Agility Reaction Roll or take 4d6+9 physical damage. If a target marks an Armor Slot to reduce the damage, they must also mark a Stress."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Kraken makes a successful attack against a PC, you gain a Fear."}]},{id:"CA121",name:"ORACLE OF DOOM",tier:"4",type:"Solo",desc:"A towering immortal and incarnation of fate, cursed to only see bad outcomes.",motives:"Change environment, condemn, dishearten,toss aside",difficulty:"20",thresholdMajor:"38",thresholdSevere:"68",hp:"11",stress:"10",atk:"+8",weaponName:"Psychic Attack",weaponRange:"Far",weaponDamage:"4d8+9 mag",xp:"Boundless Knowledge +4",source:"core",features:[{name:"Terrifying",type:"Passive",cost:"",desc:"When the Oracle makes a successful attack, all PCs within Far range lose a Hope and you gain a Fear."},{name:"Walls Closing In",type:"Passive",cost:"",desc:"When a creature rolls a failure while within Very Far range of the Oracle, they must mark a Stress."},{name:"Pronounce Fate",type:"Action",cost:"Spend a Fear",desc:"to present a target within Far range with a vision of their personal nightmare. The target must make a Knowledge Reaction Roll. On a failure, they lose all Hope and take 2d20+4 direct magic damage. On a success, they take half damage and lose a Hope."},{name:"Summon Tormentors",type:"Action",cost:"",desc:"Once per day, spend 2 Fear to summon 2d4 Tier 2 or below Minions relevant to one of the PC\u2019s personal nightmares. They appear at Close range relative to that PC."},{name:"Ominous Knowledge",type:"Reaction",cost:"",desc:"When the Oracle sees a mortal creature, they instantly know one of their personal nightmares."},{name:"Vengeful Fate",type:"Reaction",cost:"",desc:"When the Oracle marks HP from an attack within Very Close range, you can mark a Stress to knock the attacker back to Far range and deal 2d10+4 physical damage."}]},{id:"CA122",name:"OUTER REALMS ABOMINATION",tier:"4",type:"Bruiser",desc:"A chaotic mockery of life, constantly in flux.",motives:"Demolish, devour, undermine",difficulty:"19",thresholdMajor:"35",thresholdSevere:"71",hp:"7",stress:"5",atk:"+2d4",weaponName:"Massive Pseudopod",weaponRange:"Very Close",weaponDamage:"4d6+13 mag",xp:"",source:"core",features:[{name:"Chaotic Form",type:"Passive",cost:"",desc:"When the Abomination attacks, roll 2d4 and use the result as their attack modifier."},{name:"Disorienting Presence",type:"Passive",cost:"",desc:"When a target takes damage from the Abomination, they must make an Instinct Reaction Roll. On a failure, they gain disadvantage on their next action roll and you gain a Fear."},{name:"Reality Quake",type:"Action",cost:"Spend a Fear",desc:"to rattle the edges of reality within Far range of the Abomination. All targets within that area must succeed on a Knowledge Reaction Roll or become Unstuck from reality until the end of the scene. When an Unstuck target spends Hope or marks Armor Slots, HP, or Stress, they must double the amount spent or marked."},{name:"Unreal Form",type:"Reaction",cost:"",desc:"When the Abomination takes damage, reduce it by 1d2 0. If the Abomination marks 1 or fewer Hit Points from a successful attack against them, you gain a Fear."}]},{id:"CA123",name:"OUTER REALMS CORRUPTER",tier:"4",type:"Support",desc:"A shifting, formless mass seemingly made of chromatic light.",motives:"Confuse, distract, overwhelm",difficulty:"19",thresholdMajor:"27",thresholdSevere:"47",hp:"4",stress:"3",atk:"+7",weaponName:"Corroding Pseudopod",weaponRange:"Very Close",weaponDamage:"4d8+5 mag",xp:"",source:"core",features:[{name:"Will-Shattering Touch",type:"Passive",cost:"",desc:"When a PC takes damage from the Corrupter, they lose a Hope."},{name:"Disgorge Reality Flotsam",type:"Action",cost:"Mark a Stress",desc:"to spew partially digested portions of consumed realities at all targets within Close range. Targets must succeed on a Knowledge Reaction Roll or mark 2 Stress."}]},{id:"CA124",name:"OUTER REALMS THRALL",tier:"4",type:"Minion",desc:"A vaguely humanoid form stripped of memory and identity.",motives:"Destroy, disgust, disorient, intimidate",difficulty:"17",thresholdMajor:"None",thresholdSevere:"",hp:"1",stress:"1",atk:"+3",weaponName:"Claws and Teeth",weaponRange:"Very Close",weaponDamage:"11 phy",xp:"",source:"core",features:[{name:"Minion (13)",type:"Passive",cost:"",desc:"The Thrall is defeated when they take any damage. For every 13 damage a PC deals to the Thrall, defeat an additional Minion within range the attack would succeed against."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Outer Realm Thralls within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 11 physical damage each. Combine this damage."}]},{id:"CA125",name:"VOLCANIC DRAGON:MOLTEN SCOURGE",tier:"4",type:"Solo",desc:"Enraged by their wounds, the dragon bursts into molten lava.",motives:"Douse with lava, incinerate, repel Invaders, reposition",difficulty:"20",thresholdMajor:"30",thresholdSevere:"58",hp:"7",stress:"5",atk:"+9",weaponName:"Lava-Coated Claws",weaponRange:"Close",weaponDamage:"4d12+4 phy",xp:"Hunt from Above +5",source:"core",features:[{name:"Relentless (3)",type:"Passive",cost:"",desc:"The Molten Scourge can be spotlighted up to three times per GM turn. Spend Fear as usual to spotlight them."},{name:"Cracked Scales",type:"Passive",cost:"",desc:"When the Molten Scourge takes damage, roll a number of d6s equal to HP marked. For each result of 4 or higher, you gain a Fear."},{name:"Shattering Might",type:"Action",cost:"Mark a Stress",desc:"to make an attack against a target within Very Close range. On a success, the target takes 4d8+1 physical damage, loses a Hope, and is knocked back to Close range. The Molten Scourge clears a Stress."},{name:"Eruption",type:"Action",cost:"Spend a Fear",desc:"to erupt lava from beneath the Molten Scourge\u2019s scales, filling the area within Very Close range with molten lava. All targets in that area must succeed on an Agility Reaction Roll or take 4d6+6 physical damage and be knocked back to Close range. This area remains lava. When a creature other than the Molten Scourge enters that area or acts while inside of it, they must mark 6 HP."},{name:"Volcanic Breath",type:"Reaction",cost:"",desc:"When the Molten Scourge takes Major damage, roll a d1 0. On a result of 8 or higher, the Molten Scourge breathes a flow of lava in front of them within Far range. All targets in that area must make an Agility Reaction Roll. Targets who fail take 2d10+4 physical damage, mark 1d4 Stress, and are Vulnerable until they clear a Stress. Targets who succeed take half damage and must mark a Stress."},{name:"Lava Splash",type:"Reaction",cost:"",desc:"When the Molten Scourge takes Severe damage from an attack within Very Close range, molten blood gushes from the wound and deals 2d10+4 direct physical damage to the attacker."},{name:"Ashen Vengeance (Phase Change)",type:"Reaction",cost:"",desc:"When the Molten Scourge marks their last HP, replace them with the Ashen Tyrant and immediately spotlight them."}]},{id:"CA126",name:"VOLCANIC DRAGON: OBSIDIAN PREDATOR",tier:"4",type:"Solo",desc:"A massive winged creature with obsidian scales and impossibly sharp claws.",motives:"Defend lair, dive-bomb, fly, hunt, intimidate",difficulty:"19",thresholdMajor:"33",thresholdSevere:"65",hp:"6",stress:"5",atk:"+8",weaponName:"Obsidian Claws",weaponRange:"Close",weaponDamage:"4d10+4 phy",xp:"Hunt from Above +5",source:"core",features:[{name:"Relentless (2)",type:"Passive",cost:"",desc:"The Obsidian Predator can be spotlighted up to two times per GM turn. Spend Fear as usual to spotlight them."},{name:"Flying",type:"Passive",cost:"",desc:"While flying, the Obsidian Predator gains a +3 bonus to their Difficulty."},{name:"Obsidian Scales",type:"Passive",cost:"",desc:"The Obsidian Predator is resistant to physical damage."},{name:"Avalanche Tail",type:"Action",cost:"Mark a Stress",desc:"to make an attack against all targets within Close range. Targets the Obsidian Predator succeeds against take 4d6+4 physical damage and are knocked back to Far range and Vulnerable until their next roll with Hope."},{name:"Dive-Bomb",type:"Action",cost:"",desc:"If the Obsidian Predator is flying, mark a Stress to choose a point within Far range. Move to that point and make an attack against all targets within Very Close range. Targets the Obsidian Predator succeeds against take 2d10+6 physical damage and must mark a Stress and lose a Hope."},{name:"Erupting Rage (Phase Change)",type:"Reaction",cost:"",desc:"When the Obsidian Predator marks their last HP, replace them with the Molten Scourge and immediately spotlight them."}]},{id:"CA127",name:"VOLCANIC DRAGON: ASHEN TYRANT",tier:"4",type:"Solo",desc:"No enemy has ever had the insolence to wound the dragon so. As the lava settles, it\u2019s ground to ash like the dragon\u2019s past foes.",motives:"Choke, fly, intimidate, kill or be killed",difficulty:"18",thresholdMajor:"29",thresholdSevere:"55",hp:"8",stress:"5",atk:"+10",weaponName:"Claws and Teeth",weaponRange:"Close",weaponDamage:"4d12+15 phy",xp:"Hunt from Above +5",source:"core",features:[{name:"Relentless (4)",type:"Passive",cost:"",desc:"The Ashen Tyrant can be spotlighted up to four times per GM turn. Spend Fear as usual to spotlight them."},{name:"Cornered",type:"Passive",cost:"Mark a Stress",desc:"instead of spending a Fear to spotlight the Ashen Tyrant."},{name:"Injured Wings",type:"Passive",cost:"",desc:"While flying, the Ashen Tyrant gains a +1 bonus to their Difficulty."},{name:"Ashes to Ashes",type:"Passive",cost:"",desc:"When a PC rolls a failure while within Close range of the Ashen Tyrant, they lose a Hope and you gain a Fear. If the PC can\u2019t lose a Hope, they must mark a HP."},{name:"Desperate Rampage",type:"Action",cost:"Mark a Stress",desc:"to make an attack against all targets within Close range. Targets the Ashen Tyrant succeeds against take 2d20+2 physical damage, are knocked back to Close range of where they were, and must mark a Stress."},{name:"Ashen Cloud",type:"Action",cost:"Spend a Fear",desc:"to smash the ground and kick up ash within Far range. While within the ash cloud, a target has disadvantage on action rolls. The ash cloud clears the next time an adversary is spotlighted."},{name:"Apocalyptic Thrashing",type:"Action",cost:"",desc:"Countdown (1d12). Spend a Fear to activate. It ticks down when a PC rolls with Fear. When it triggers, the Ashen Tyrant thrashes about, causing environmental damage (such as an earthquake, avalanche, or collapsing walls). All targets within Far range must make a Strength Reaction Roll. Targets who fail take 2d10+10 physical damage and are Restrained by the rubble until they break free with a successful Strength Roll. Targets who succeed take half damage. If the Ashen Tyrant is defeated while this countdown is active, trigger the countdown immediately as the destruction caused by their death throes."}]},{id:"CA128",name:"PERFECTED ZOMBIE",tier:"4",type:"Bruiser",desc:"A towering, muscular zombie with magically infused strength and skill.",motives:"Consume, hound, maim, terrify",difficulty:"20",thresholdMajor:"40",thresholdSevere:"70",hp:"9",stress:"4",atk:"+4",weaponName:"Greataxe",weaponRange:"Very Close",weaponDamage:"4d12+15 phy",xp:"",source:"core",features:[{name:"Terrifying",type:"Passive",cost:"",desc:"When the Zombie makes a successful attack, all PCs within Far range lose a Hope and you gain a Fear."},{name:"Fearsome Presence",type:"Passive",cost:"",desc:"PCs can\u2019t spend Hope to use features against the Zombie."},{name:"Perfect Strike",type:"Action",cost:"Mark a Stress",desc:"to make a standard attack against all targets within Very Close range. Targets the Zombie succeeds against are Vulnerable until their next rest."},{name:"Skilled Opportunist",type:"Reaction",cost:"",desc:"When another adversary deals damage to a target within Very Close range of the Zombie, you can spend a Fear to add the Zombie\u2019s standard attack damage to the damage roll."}]},{id:"CA129",name:"ZOMBIE LEGION",tier:"4",type:"Horde (3/HP)",desc:"A large pack of undead, still powerful despite their rotting flesh.",motives:"Consume brain, shred flesh, surround",difficulty:"17",thresholdMajor:"25",thresholdSevere:"45",hp:"8",stress:"5",atk:"+2",weaponName:"Tentacles",weaponRange:"Close",weaponDamage:"4d6+10 phy",xp:"",source:"core",features:[{name:"Horde (2d6+5)",type:"Passive",cost:"",desc:"When the Legion has marked half or more of their HP, their standard attack deals 2d6+5 physical damage instead."},{name:"Unyielding",type:"Passive",cost:"",desc:"The Legion has resistance to physical damage."},{name:"Relentless (2)",type:"Passive",cost:"",desc:"The Legion can be spotlighted up to two times per GM turn. Spend Fear as usual to spotlight them."},{name:"Overwhelm",type:"Reaction",cost:"",desc:"When the Legion takes Minor damage from an attack within Melee range, you can mark a Stress to make a standard attack with advantage against the attacker."}]}];var advvoid_default=[{id:"VA001",name:"MOUNTAIN TROLL",tier:"1",type:"Solo",desc:"A hideous, twisted giant born out of a rock, wearing purloined armor and a belt of severed heads.",motives:"Ambush from behind, attack from above, bellow, smash enemies against the rocks, throw large boulders",difficulty:"14",thresholdMajor:"8",thresholdSevere:"15",hp:"8",stress:"3",atk:"+2",weaponName:"Skull Flail",weaponRange:"Very Close",weaponDamage:"1d10+3 phy",xp:"Mountains +2",source:"void",features:[{name:"Relentless (3)",type:"Passive",cost:"",desc:"The Troll can be spotlighted up to three times per GM turn. Spend Fear as usual to spotlight them."},{name:"Stolen Armor",type:"Passive",cost:"",desc:"When combat begins, active a Countdown equal to the number of PCs. Whenever the Troll takes damage, tick down the countdown and reduce the HP the Troll marks by 1. When it triggers, the Troll evolves into an Enraged Mountain Troll (see \u201CEnraged Mountain Troll - Evolution\u201D)."},{name:"Flail Swipe",type:"Action",cost:"",desc:"The Troll swings their skull fl ail in a wide arc. Mark a Stress to make an attack against all targets in front of the Troll within Very Close range. On a success, the Troll deals 2d10+3 instead of its normal damage. The Troll cannot use this action while evolved. Enraged Mountain Troll - Evolution: The Troll gains a +1 bonus to their Difficulty and their standard attack changes to the following: Claw Swipe: Very Close | 1d8+1 phy"},{name:"Double Swipe",type:"Action",cost:"Spend a Fear",desc:"to move the Troll up to Close range and immediately make two standard attacks against a single target within Melee range. If both attacks hit, combine the damage and the target also loses a Hope."}]},{id:"VA002",name:"RABBLE MAWB",tier:"1",type:"Horde (3/HP)",desc:"These cat-sized balls of hair, limbs, and teeth travel in a \u201Cmawb\u201D of about a dozen.",motives:"Chitter and chew, clump together, roll around",difficulty:"8",thresholdMajor:"4",thresholdSevere:"8",hp:"4",stress:"2",atk:"\u22122",weaponName:"Chomp",weaponRange:"Melee",weaponDamage:"1d6+3 phy",xp:"Underground +2",source:"void",features:[{name:"Horde (1d4)",type:"Passive",cost:"",desc:"When the Rabble Mawb has marked half or more of their HP, their standard attack deals 1d4 physical damage instead."},{name:"Come Back Worse",type:"Reaction",cost:"",desc:"When a Rabble Mawb is defeated, you can spend a Fear to bring this Rabble Mawb back to life. This new Rabble Mawb gains a +X bonus to all rolls, where X is the number of times this feature has been used by this adversary."}]},{id:"VA003",name:"REDCAP CANDLEMAKER",tier:"1",type:"Leader",desc:"A pale, gaunt cult leader holding a seven-foot-tall rod with a candle made from a hanged man\u2019s hand atop it.",motives:"Cast long shadows, keep out of the fray, show them the light",difficulty:"13",thresholdMajor:"7",thresholdSevere:"13",hp:"6",stress:"3",atk:"+3",weaponName:"Burning Candlestick",weaponRange:"Very Close",weaponDamage:"1d10+2 mag",xp:"Vigilance +3",source:"void",features:[{name:"Hand of Glory",type:"Passive",cost:"",desc:"When the Candlemaker appears, put fi ve tokens on this stat block. Remove one token whenever the Candlemaker marks a HP. While this stat block has one or more tokens on it, the Candlemaker is Hidden."},{name:"Torchbearer",type:"Passive",cost:"",desc:"The light of the Candlemaker\u2019s hand of glory inspires bloodlust in their allies. While this stat block has one or more tokens on it, any Redcap within Close range gains a +1 bonus to their damage rolls."},{name:"Dance in the Flames",type:"Action",cost:"",desc:"Spend a token from this stat block. The Candlemaker conjures a ball of fi re at a point within Far range. All creatures within Very Close range of that point must make an Agility Reaction Roll. Targets who fail take 2d10 magic damage. Targets who succeed take half damage."}]},{id:"VA004",name:"REDCAP BUTCHER",tier:"1",type:"Standard",desc:"A halfl ing-sized fey creature who hacks their victims apart with a variety of cutting implements.",motives:"Give them the runaround, grin disconcertingly, hack and slash, scramble",difficulty:"12",thresholdMajor:"5",thresholdSevere:"10",hp:"4",stress:"3",atk:"+1",weaponName:"Meat Cleaver",weaponRange:"Melee",weaponDamage:"1d8+1 phy",xp:"Scurry +2",source:"void",features:[{name:"Chop Happy",type:"Action",cost:"Mark a Stress",desc:"to make a standard attack against up to three targets within range. For each target who marks a HP, you gain a Fear."},{name:"Knife Thrower",type:"Action",cost:"Mark a Stress",desc:"to make a standard attack against a target within Far range. If the Butcher makes this attack while Hidden, they have advantage on the attack roll. DOPPELH\xDCND Tier 2 Skulk A vicious magical six-legged hellhound with glowing red eyes and two long, toothy squid arms. They confuse enemies by conjuring an illusory duplicate of themself. Motives & Tactics: Ambush prey, kill for sport, play with food, trick and deceive Difficulty: 14 | Thresholds: 9/17 | HP: 4 | Stress: 5 ATK: +3 | Toothy Arms: Very Close | 2d8+2 phy Experience: Shadows +3 FEATURES"},{name:"Blink Beast",type:"Passive",cost:"",desc:"When combat begins, place a duplicate within Close range of the Doppelh\xFCnd. The duplicate can move when the Doppelh\xFCnd is spotlighted, and the Doppelh\xFCnd can target enemies with attacks as if they\u2019re in the same place as their duplicate. The Doppelh\xFCnd occupies both places until attacked, at which point you roll a d6 to determine whether the attack is targeting the Doppelh\xFCnd (the result is an even number) or their duplicate (the result is an odd number). Attacks against the duplicate automatically fail. A successful attack against the Doppelh\xFCnd dispels the duplicate until you spend a Fear to conjure it again."},{name:"Double Lash",type:"Reaction",cost:"",desc:"When the Doppelh\xFCnd makes a standard attack, you can mark a Stress to make an additional standard attack. If both attacks target the same creature, combine the damage."}]},{id:"VA005",name:"DRAGON KNIGHT",tier:"2",type:"Bruiser",desc:"A knight clad in dragonplate armor and a helmet in the shape of a dragon\u2019s head.",motives:"Exploit an opening, get some distance, knock off -balance, strike from above",difficulty:"15",thresholdMajor:"15",thresholdSevere:"30",hp:"5",stress:"3",atk:"+2",weaponName:"Lance",weaponRange:"Very Close",weaponDamage:"2d12+3 phy",xp:"Acrobatics +2",source:"void",features:[{name:"High Ground",type:"Passive",cost:"",desc:"The Knight gains a +2 bonus to attack rolls when attacking a target from above."},{name:"Enhanced Critical",type:"Passive",cost:"",desc:"The Knight\u2019s attack roll counts as a critical success if the result on the d20 is a 19 or a 20."},{name:"Leaping Strike",type:"Action",cost:"Mark a Stress",desc:"and choose a target within Far range. The Knight moves into Melee range of the target and make a standard attack against them. On a success, gain a +1d12 bonus to the damage roll and the target must mark an Armor Slot without receiving its benefi ts (they can still use armor to reduce the damage)."}]},{id:"VA006",name:"GOBSTALKER",tier:"2",type:"Solo",desc:"A fl eshy, fl oating ball of teeth with ten jointed antennae rising from its crown, each bearing a diff erent-colored eye.",motives:"Ambush, dispose of rivals, seek riches, use magic at long range",difficulty:"15",thresholdMajor:"10",thresholdSevere:"20",hp:"8",stress:"6",atk:"+2",weaponName:"Bite",weaponRange:"Melee",weaponDamage:"2d6+3 phy",xp:"Magic +3",source:"void",features:[{name:"Relentless (3)",type:"Passive",cost:"",desc:"The Gobstalker can be spotlighted up to three times per GM turn. Spend Fear as usual to spotlight them."},{name:"Anti-mystica-halitosis",type:"Passive",cost:"",desc:"A Gobstalker\u2019s breath is so rancid it creates an invisible miasma that negates magical eff ects. Any attack that deals magic damage or creates a magical eff ect in front of the Gobstalker within Close range automatically fails. This feature does not aff ect the Gobstalker\u2019s own features."},{name:"Eyestalks",type:"Action",cost:"Mark a Stress",desc:"to attack a target within Far range. On a hit, spend a Fear to choose an eff ect or roll a d10 for a random eff ect. The Gobstalker uses the corresponding magical beam: 1. Beguile. The target is Beguiled and sees the Gobstalker as a friend. A Beguiled creature cannot attack the Gobstalker. Additionally, a Beguiled PC must mark a Stress or make a standard attack against their nearest ally whenever someone rolls with Fear. This eff ect lasts until the targets succeeds on a Presence or Knowledge Roll (16). 2. Corrode. The target takes 2d8 magical damage and marks an Armor Slot without receiving its benefi ts (they can still use armor to reduce the damage). If all the target\u2019s Armor Slots are already marked, double the damage. 3. Doom. The target immediately marks all cleared HP, but can reduce the number of HP marked this way by spending any number of Hope. For each Hope spent in this way, reduce the number of HP marked by 1. 4. Hypnosis. The target falls into a deep, sleeplike trance and can\u2019t take any actions except for trying to wake up. The target wakes up when they are hit by an attack, mark 1 or more HP, or succeed on an Instinct Roll (16) to wake up. 5. Paralyze. The target freezes in place, becoming Vulnerable and Restrained until they mark 2 Stress. 6. Petrify. Place a Petrifi cation Countdown (6) on the target. It ticks down when a PC rolls with Fear. When it triggers, the target turns to stone until the Gobstalker is defeated or they take a long rest. While stone, the target is immune to all damage and aware of their surroundings, but cannot take actions. 7. Push. The target is thrown up to Far range and takes 3d6 physical damage from whatever they hit. 8. Sear. The target takes 2d8 direct magical damage. 9. Slow. The target is Vulnerable and must mark a Stress to move. The target can spend 2 Hope at any time to end this eff ect. 1 0. Terrify. The target can\u2019t act except to fl ee the battle or try to shake off their fear with a successful Insight Roll (16). Additionally, whenever you spend Fear, the target must mark a Stress. This eff ect lasts until the Gobstalker is defeated or the target takes a rest."}]},{id:"VA007",name:"GARGOYLE",tier:"2",type:"Bruiser",desc:"A magically animated statue in the form of a terrifying beast or devil.",motives:"Hide in plain sight, overwatch, swoop down",difficulty:"13",thresholdMajor:"14",thresholdSevere:"28",hp:"8",stress:"2",atk:"+2",weaponName:"Stone Claws",weaponRange:"Melee",weaponDamage:"2d10+3 phy",xp:"Ruins +2",source:"void",features:[{name:"Stone Body",type:"Passive",cost:"",desc:"The Gargoyle is resistant to physical damage."},{name:"Just a Statue",type:"Passive",cost:"",desc:"Before they make their fi rst attack in a fi ght or after they become Hidden, the Gargoyle is indistinguishable from a normal statue until they next act or a PC succeeds on an Instinct Roll to identify them."},{name:"Swooping Strike",type:"Action",cost:"",desc:"Choose a point within Far range. The Gargoyle moves to that point in a straight line and makes an attack against one target along its path."}]},{id:"VA008",name:"CHIMERA",tier:"3",type:"Bruiser",desc:"A giant, fi re-breathing monster with a lion\u2019s head, a goat\u2019s body, and a serpent\u2019s tail.",motives:"Play with their food, prowl their territory, reveal their bestial nature, slay cattle",difficulty:"17",thresholdMajor:"22",thresholdSevere:"40",hp:"9",stress:"5",atk:"+5",weaponName:"Claws",weaponRange:"Melee",weaponDamage:"3d12 phy",xp:"Predator +3",source:"void",features:[{name:"Rending Jaws",type:"Passive",cost:"",desc:"When the Chimera makes a successful attack, the target must mark 2 Armor Slots instead of 1 to reduce the damage by one threshold."},{name:"Breath of Fire",type:"Action",cost:"Spend a Fear",desc:"to target up to three PCs in front of the Chimera within Close range. All targets must make an Agility Reaction Roll (20). Targets who fail take 3d12 magic damage. Targets who succeed must to either mark an Armor Slot or mark a Stress."},{name:"Serpent Strike",type:"Reaction",cost:"",desc:"When the Chimera is attacked by a PC within Very Close range, you can mark a Stress to make an attack against them. On a success, deal 4d4+10 physical damage and Poison them until their next rest or they succeed on a Knowledge Roll (20). While Poisoned, the target must roll a d6 before they make an action roll. On a result of 3 or lower, they must mark a Stress."},{name:"Double Claw",type:"Reaction",cost:"",desc:"After the Chimera makes a standard attack, you can mark a Stress to make an additional standard attack. If both attacks target the same creature, combine the damage."}]},{id:"VA009",name:"WHISPER WRAITH",tier:"3",type:"Ranged",desc:"The echoes of broken promises and dreams unfulfi lled, these wraiths appear as fl oating, translucent shrouds of tattered black velvet in a vaguely humanoid shape.",motives:"Bind limbs, drop from a great height, lift off the ground, swirl through the air, wrap around heads",difficulty:"18",thresholdMajor:"20",thresholdSevere:"36",hp:"6",stress:"6",atk:"+4",weaponName:"Shadow Touch",weaponRange:"Melee",weaponDamage:"3d8+5 mag",xp:"Dreams +3",source:"void",features:[{name:"Spectral",type:"Passive",cost:"",desc:"The Wraith is immune to physical damage and weak against magic damage. Additionally, the Wraith can move through solid objects."},{name:"Spooky",type:"Passive",cost:"",desc:"When the Wraith makes a successful attack, all PCs within Close range must mark a Stress and you gain a Fear."},{name:"Nightmare Shroud",type:"Action",cost:"Spend a Fear",desc:"to have the Wraith wrap themself around a PC within Melee range, making them Shrouded until they or an ally succeed on a Strength or Attack Roll (20) to dislodge the Wraith. If it\u2019s an attack roll, the Shrouded PC takes the damage. While Shrouded, a PC has disadvantage on all attacks and marks a Stress when they roll with Fear."}]},{id:"VA010",name:"FELLMOUNTED SHADOW KING",tier:"3",type:"Support",desc:"The shade of a forgotten ruler, cursed to patrol the skies atop a winged eel in the service of an evil demiurge.",motives:"Acquire magical items for master, inspire fear, patrol the skies",difficulty:"16",thresholdMajor:"24",thresholdSevere:"38",hp:"8",stress:"5",atk:"+4",weaponName:"Cursed Lance",weaponRange:"Close",weaponDamage:"3d10+6 phy/mag",xp:"Seeker +3",source:"void",features:[{name:"Light and Shadow",type:"Passive",cost:"",desc:"The Shadow King gains a +1 bonus to attack and damage rolls while in shadow or darkness and a \u22121 penalty to attack and damage rolls while in bright light."},{name:"Relic Hunter",type:"Passive",cost:"",desc:"The Shadow King has advantage on attacks against PCs with magical weapons or armor equipped."},{name:"Hellsong",type:"Action",cost:"",desc:"Spend 2 Fear to have the Shadow King\u2019s mount unleash a spine-chilling screech that echoes over the battlefi eld. All PCs within Far range must make a Presence Reaction Roll (18). Targets who succeed must mark a Stress. Targets who fail must mark a Stress and lose a Hope. If the PC can\u2019t lose a Hope, you gain 2 Fear."},{name:"Air Support",type:"Reaction",cost:"",desc:"Three times per scene, you can spend a Fear to have an adversary within Far range of the Shadow King reroll a missed attack with advantage."}]},{id:"VA011",name:"LAMPLIGHT BEGUILER",tier:"3",type:"Skulk",desc:"A huge mer-creature who lures unwary prey into eating range with their dangling, shapeshifting head stalk.",motives:"Entice with secret knowledge, snap the trap shut, speak through their shapeshifted head stalk",difficulty:"16",thresholdMajor:"16",thresholdSevere:"32",hp:"6",stress:"5",atk:"+0",weaponName:"Jaws",weaponRange:"Melee",weaponDamage:"3d8+2 phy",xp:"Secrets +3, Charm +3",source:"void",features:[{name:"Doppel-Dangler",type:"Action",cost:"",desc:"The membranous cluster at the end of the Beguiler\u2019s head stalk can shapeshift into any humanoid form. Mark a Stress and choose a PC within Close range. Their player must tell you what form their PC would fi nd most trustworthy (such as a relative, mentor, or lover). The Beguiler\u2019s head stalk transforms into that shape."},{name:"Entice",type:"Action",cost:"Spend a Fear",desc:"to play an alluring overture to a PC within Close range. The PC must succeed on a Presence Reaction Roll (18) or move into Melee range with the Beguiler. If the Beguiler\u2019s head stalk is in a form the PC would fi nd trustworthy, they have disadvantage on the reaction roll."},{name:"Entangle",type:"Reaction",cost:"",desc:"When a PC moves within Melee range, you can spend a Fear to make an attack against them. On a successful attack, the target is Swallowed. While Swallowed, a creature is Restrained and can only take actions to attack the Beguiler. The Beguiler disgorges all Swallowed creatures when they take Major damage."},{name:"Rest and Digest",type:"Reaction",cost:"",desc:"When the Beguiler takes the spotlight with a Swallowed creature inside them, they move to Far range away from the PCs."}]},{id:"VA012",name:"HALLOWED CHOIR",tier:"4",type:"Horde (6/HP)",desc:"A heavenly host of winged humanoids whose song calls forth tears of religious awe.",motives:"Drown out disbelief, raise voices",difficulty:"17",thresholdMajor:"24",thresholdSevere:"48",hp:"7",stress:"6",atk:"+2",weaponName:"Choral Blast",weaponRange:"Far",weaponDamage:"4d10 mag",xp:"Music +2",source:"void",features:[{name:"Horde (2d8+3)",type:"Passive",cost:"",desc:"When the Choir has marked half or more of their HP, their standard attack deals 2d8+3 magic damage instead."},{name:"Aural Assault",type:"Action",cost:"Spend a Fear",desc:"to have the Choir unleash divine energy. Remove all tokens from this stat block (see \u201CCelestia Coda\u201D). For each token removed, deal 1d12 direct magic damage to all enemies within Close range."},{name:"Celestial Coda",type:"Reaction",cost:"",desc:"Countdown (Loop 3). The Choir\u2019s divine song builds on itself with each refrain. Activate the countdown when the Choir is fi rst spotlighted. It ticks down on every action roll. When it triggers, place a token on this stat block. The Choir gains a bonus to their Difficulty and standard attack damage equal to the number of tokens on this stat block."}]},{id:"VA013",name:"OWL WITCH",tier:"4",type:"Social",desc:"A giant, vengeful barn owl with a 15-foot wingspan and a human face.",motives:"Consume essence, curse, predict death",difficulty:"19",thresholdMajor:"27",thresholdSevere:"47",hp:"4",stress:"3",atk:"+7",weaponName:"Razor Talons",weaponRange:"Very Close",weaponDamage:"4d8+5 phy",xp:"Magic +2, Night Stalker +2",source:"void",features:[{name:"Ill Omen",type:"Passive",cost:"",desc:"When a PC within Close range makes an action roll, their Fear Die gains a bonus equal to the amount of Fear you currently have."},{name:"Witch Barrier",type:"Passive",cost:"",desc:"The Owl Witch is resistant to magic damage."},{name:"Alluring Voice",type:"Action",cost:"",desc:"The Owl Witch can perfectly mimic the voice of a loved one or trusted fi gure. Spend a Fear to have the Owl Witch call out to a creature within earshot. The target must succeed on an Instinct Reaction Roll or move up to Far range toward the Owl Witch."},{name:"Nightmare Stare",type:"Action",cost:"Spend a Fear",desc:"to have the Owl Witch Affl ict a target within Far range with waking nightmares. Until a PC uses a downtime move to comfort the Affl icted creature and clear the condition, the Affl icted creature can\u2019t clear Stress or HP by any means."},{name:"Visions of a Violent End",type:"Reaction",cost:"",desc:"When the Owl Witch is targeted by an attack, you can spend a Fear to force the attacker to make a Presence Reaction Roll. On a failure, they mark 1d4 Stress as their mind is fl ooded with visions of their own violent death. XERO, CASTLE KILLER Tier 4 Solo A castle-sized, bipedal reptile. Motives & Tactics: Leave a wake of destruction, level buildings, stomp through settlements Difficulty: 20 | Thresholds: 35/70 | HP: 12 | Stress: 10 ATK: +8 | Tail Swipe: Close | 4d12+6 phy Experience: Destruction +5 FEATURES"},{name:"Relentless (X)",type:"Passive",cost:"",desc:"Xero can be spotlighted up to X times per GM turn, where X is the number of PCs in the scene. Spend Fear as usual to spotlight them."},{name:"Collateral Damage",type:"Passive",cost:"",desc:"Xero\u2019s movement cannot be hindered, impeded, or aff ected by any external eff ect. All destructible terrain or obstacles in Xero\u2019s path are destroyed when Xero moves through them."},{name:"Gigaton Stomp",type:"Action",cost:"Spend a Fear",desc:"to have Xero bring their foot down hard, creating a localized earthquake. All creatures within Melee range take 4d12 physical damage and are Restrained until they succeed on a Finesse Roll to slide out from underfoot. All creatures outside of Melee range and within Close range must succeed on an Instinct Reaction Roll or be knocked back up to Far range. If a target is knocked back, they must mark an Armor Slot or take 4d12 physical damage as they land."},{name:"Power Slide",type:"Action",cost:"Mark a Stress",desc:"to move Xero up to Close range. All creatures Xero moves through must make a Strength Reaction Roll. Targets who fail must mark 2 Armor Slots or take Severe Damage."},{name:"Radioactive Breath",type:"Action",cost:"Spend a Fear",desc:"to have Xero charge up a nuclear beam and place a token on this stat block. The next time Xero takes the spotlight, you can spend this token and unleash the beam. Draw a line with a Close range width from Xero to the edge of the battlefi eld. All PCs within this path must make an Agility Reaction Roll. Targets who faill take 4d12+12 direct magic damage. Targets who succeed take half damage. Xero can\u2019t use this action again until they take Severe damage."},{name:"Regeneration",type:"Action",cost:"",desc:"Up to three times per scene, spend any number of Fear to clear an equal number of HP."}]},{id:"VA014",name:"CEPHILITH PRIEST",tier:"4",type:"Leader",desc:"A robe-wearing, squid-headed humanoid from the Outer Realms.",motives:"Attack the weak-minded, avoid melee, lord over, oppress",difficulty:"20",thresholdMajor:"37",thresholdSevere:"70",hp:"7",stress:"5",atk:"+8",weaponName:"Psychic Strike",weaponRange:"Far",weaponDamage:"4d10+10 mag",xp:"Outer Realms +3",source:"void",features:[{name:"Psychic Blast",type:"Action",cost:"Spend a Fear",desc:"and choose up to three targets within Close range to make a Knowledge or Instinct Reaction Roll (20). Targets who succeed take 2d10+5 direct magical damage. Targets who fail take 4d10+10 direct magical damage and are Vulnerable until spotlighted."},{name:"Cerebral Suction",type:"Action",cost:"Spend a Fear",desc:"to choose a Vulnerable target within Melee range. The Priest grabs the target and tries to insert their face tentacles into the target\u2019s ears, nose, and mouth. The target must succeed on a Strength Reaction Roll or mark 1d6 Stress. The Priest clears a number of Stress equal to the number of Stress the target marked."},{name:"Telekinetic Grasp",type:"Reaction",cost:"",desc:"When the Priest succeeds on a standard attack, you can mark a Stress to Restrain the target until they spend a Hope to clear this condition."}]}];var advumbra_default=[{id:"UA001",name:"THE GATE GUARDIAN",tier:"1",type:"Leader (Umbra-Touched)",desc:"An ancient warrior, buried with the gate to protect entry; their skeletal mass is armored and their curved blade is deadly.",motives:"Push into groups, swing at multiple targets, raise allies to help",difficulty:"13",thresholdMajor:"6",thresholdSevere:"13",hp:"7",stress:"3",atk:"+2",weaponName:"Curved Blade",weaponRange:"Very Close",weaponDamage:"1d10+3 phy",xp:"",source:"umbra",features:[{name:"Holy Buckler",type:"Passive",cost:"",desc:"The Guardian has resistance to physical damage. When the Guardian takes physical damage from a PC within Melee range, the PC is pushed anywhere up to Very Close range of where it stood."},{name:"Sweeping Strike",type:"Action",cost:"Spend a Fear",desc:"to make an attack against every PC within Very Close range in front of the Guardian."},{name:"Hallowed Cry",type:"Reaction",cost:"",desc:"When the Guardian takes physical damage from an attack, you can spend a Fear to call a Skeleton Dredge from a near"}]},{id:"UA002",name:"VELK THE FORSAKEN",tier:"1",type:"Solo (Umbra-Touched)",desc:"Velk Dravenmoor, wounded and corrupted by dark powers, swells into a feral terror, frenzied and murderous.",motives:"Focus fire, leap to vulnerable targets, throw off ledges",difficulty:"14",thresholdMajor:"7",thresholdSevere:"14",hp:"10",stress:"4",atk:"+3",weaponName:"Gravesword",weaponRange:"Very Close",weaponDamage:"1d12+3 phy",xp:"Push +2",source:"umbra",features:[{name:"Relentless (2)",type:"Passive",cost:"",desc:"Velk can be spotlighted up to two times per GM turn. Spend Fear as usual to spotlight him."},{name:"Leaping Strike",type:"Action",cost:"Spend a Fear",desc:"to allow Velk to leap anywhere within Far range and make an attack. On a success, he deals an additional 1d12 damage."},{name:"Spinning Blade",type:"Action",cost:"Spend a Fear",desc:"to make a standard attack against all targets within Very Close range."},{name:"Throw",type:"Action",cost:"Mark a Stress",desc:"to make an attack against a target within Melee range. On a success, deal 1d8+3 physical damage and the target must make a Strength Reaction Roll (13) or be moved anywhere within Close range."},{name:"Momentum",type:"Reaction",cost:"",desc:"When Velk makes a successful attack against a PC, you gain a Fear. ERYN (LIMB WREATH) Tier 1 Leader (Umbra-Touched) Eryn has become something of nightmares, a host for numerous tentacle limbs that grasp and spear, tearing apart all she once loved. Motives & Tactics: Multiply tentacles, devour Difficulty: 13 | Thresholds: 6/13 | HP: 8 | Stress: 5 ATK: +3 | Limb Slam: Close | 2d6+2 phy Experience: Slimy +2 FEATURES"},{name:"Horrifying",type:"Passive",cost:"",desc:"Targets who mark HP from the Limb Wreath's attacks must also mark a Stress."},{name:"Barrage of Tendrils",type:"Action",cost:"Spend a Fear",desc:"to make an attack roll against up to 3 targets within Close range. Any you succeed against take 1d8+2 physical damage and must succeed on a Strength Reaction Roll (13) or be pulled in Melee range of the Limb Wreath."},{name:"Taste for Blood",type:"Action",cost:"Spend a Fear",desc:"to make an attack against a target within Melee range. On a success, the target takes 2d8 physical damage, and the Limb Wreath clears 2 HP."},{name:"Living Tentacles",type:"Reaction",cost:"",desc:"When the Limb Wreath marks 2 or more HP from an attack, you can mark a Stress to create a Living Tentacle within Very Close range. The Tentacle is immediately spotlighted."}]},{id:"UA003",name:"LIVING TENTACLE",tier:"1",type:"Minion (Umbra-Touched)",desc:"A part of the Limb Wreath is severed, twitching and moving on its own.",motives:"Rush, surround",difficulty:"14",thresholdMajor:"None",thresholdSevere:"",hp:"1",stress:"1",atk:"+1",weaponName:"Whip",weaponRange:"Very Close",weaponDamage:"2 phy",xp:"",source:"umbra",features:[{name:"Horrifying",type:"Passive",cost:"",desc:"Targets who mark HP from the Tentacle's attacks must also mark a Stress."},{name:"Minion (5)",type:"Passive",cost:"",desc:"The Tentacle is defeated when they take any damage. For every 5 damage a PC deals to a Tentacle, defeat an additional Minion within range the attack would succeed against."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Tentacles within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 2 physical damage each. Combine this damage."}]},{id:"UA004",name:"PAIN BEAST",tier:"1",type:"Bruiser",desc:"Mutated, feral predators covered in patchy fur and scales, their claws deadly and their barbed tails venomous.",motives:"Pounce, gang up, bite and drag off",difficulty:"13",thresholdMajor:"7",thresholdSevere:"14",hp:"7",stress:"3",atk:"+2",weaponName:"Claws",weaponRange:"Very Close",weaponDamage:"1d12+3 phy",xp:"",source:"umbra",features:[{name:"Paired Hunters",type:"Passive",cost:"",desc:"When a Pain Beast attacks a target within Very Close range of another Pain Beast, the attack has advantage."},{name:"Pounce",type:"Action",cost:"Mark a Stress",desc:"to move anywhere within Far range and make an attack against a target within Very Close range. On a success, the target takes 2d8+4 physical damage and marks a Stress."},{name:"Venomous Tail",type:"Action",cost:"Spend a Fear",desc:"to make an attack roll against a target within Close range. On a success, the target takes 2d8 physical damage and, if they mark any number of HP, becomes Infected until they heal any number of HP. While Infected, they have disadvantage on action rolls."},{name:"Hide Spines",type:"Reaction",cost:"",desc:"If an attacker is within Very Close range when the Pain Beast marks 2 or more HP, spend a Fear to deal 1d8+3 physical damage to the attacker."}]},{id:"UA005",name:"ROTLORD",tier:"1",type:"Bruiser",desc:"A massive nexus of forest will and dark magic, this tower of rotting flesh and fungal might seeks to increase its mass.",motives:"Charge, swallow, spore the battlefield",difficulty:"11",thresholdMajor:"9",thresholdSevere:"18",hp:"11",stress:"2",atk:"+2",weaponName:"Limb Slam",weaponRange:"Very Close",weaponDamage:"1d20+3 phy",xp:"Slimy +2",source:"umbra",features:[{name:"Horrid Smell",type:"Passive",cost:"",desc:"Targets who fail an action or roll with Fear within Close range of the Rotlord must mark a Stress."},{name:"Envelop",type:"Action",cost:"",desc:"Make an attack against a target within Melee range. On a success, the Rotlord Envelops them and the target must mark a Stress. While Enveloped, the target must mark an additional Stress every time they make an action roll. When the Rotlord takes Severe damage, all Enveloped targets are freed and the condition is cleared."},{name:"Funky Backup",type:"Action",cost:"Spend a Fear",desc:"to conjure 2 Caustic Fungus anywhere within Close range. These Fungus are immediately spotlighted."},{name:"Fear Spores",type:"Reaction",cost:"",desc:"When a creature within Close range cannot mark a Stress and instead must mark HP, you gain a Fear."}]},{id:"UA006",name:"CAUSTIC FUNGUS",tier:"1",type:"Minion",desc:"The underbrush of the Screaming Forest has a hive mind of its own.",motives:"Swarm, destroy armor",difficulty:"12",thresholdMajor:"None",thresholdSevere:"",hp:"1",stress:"1",atk:"+0",weaponName:"Slam",weaponRange:"Melee",weaponDamage:"2 phy",xp:"",source:"umbra",features:[{name:"Minion (4)",type:"Passive",cost:"",desc:"Caustic Fungus is defeated when they take any damage. For every 4 damage a PC deals to a Caustic Fungus, defeat an additional Minion within range the attack would succeed against."},{name:"Corrosive",type:"Passive",cost:"",desc:"Targets who are successfully hit by the Fungus' attacks must also mark an Armor Slot without receiving its benefits."},{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Caustic Fungus within Close range of them. Those Minions move into Melee range of the target and make one shared attack roll. On a success, they deal 2 physical damage each. Combine this damage."}]},{id:"UA007",name:"HIVE COLLECTOR",tier:"1",type:"Standard",desc:"Seekers for Mother, they collect what might please her.",motives:"Envenom, ensnare, capture",difficulty:"14",thresholdMajor:"7",thresholdSevere:"16",hp:"8",stress:"3",atk:"+2",weaponName:"Face Stinger",weaponRange:"Very Close",weaponDamage:"1d8+3 phy",xp:"",source:"umbra",features:[{name:"Sleeping Sting",type:"Action",cost:"",desc:"Make an attack against a target within Very Close range. On a success, they take 1d8+3 physical damage and must make a Instinct Reaction Roll (13). On a failure, they become Asleep until they take damage, or until 1d4 hours have passed. While Asleep, a PC cannot be spotlighted."},{name:"Tangle Net",type:"Action",cost:"Mark a Stress",desc:"to make a target within Close range roll an Agility Reaction Roll (13). On a failure, they are Restrained and Vulnerable until they succeed on a Strength or Agility Action Roll (15)."}]},{id:"UA008",name:"MOTHER",tier:"2",type:"Solo",desc:"The Mother of the Hive, she seeks materials and subjects to conduct her strange biological experiments on.",motives:"Envenom, ensnare, capture",difficulty:"15",thresholdMajor:"14",thresholdSevere:"28",hp:"9",stress:"4",atk:"+3",weaponName:"Surgical Glaive",weaponRange:"Close",weaponDamage:"2d12+8 phy",xp:"",source:"umbra",features:[{name:"Surgical Accuracy",type:"Passive",cost:"",desc:"Before Mother makes an attack, roll a d6. On a result of 4 or higher, the target's Evasion is halved against the attack."},{name:"To Me, My Children!",type:"Action",cost:"Mark a Stress",desc:"to spotlight 1d4+1 allies. Attacks they make while spotlighted in this way deal half damage."},{name:"Sweeping Incision",type:"Action",cost:"Spend a Fear",desc:"to make an attack against all targets within Close range. On a success, Mother deals 2d6+10 physical damage."},{name:"Acidic Mist",type:"Reaction",cost:"",desc:"When Mother marks 2 or more HP from an attack within Very Close range, a cloud of caustic mist emits from her abdomen and all PCs within Very Close range mark an Armor Slot."},{name:"Momentum",type:"Reaction",cost:"",desc:"When Mother makes a successful attack against a PC, you gain a Fear."}]},{id:"UA009",name:"GLOMTOWER THRALL",tier:"2",type:"Solo",desc:"A towering being of sorrow and service, forever doomed to wander at Terrorgut's behest.",motives:"Ram, capture, batter against allies",difficulty:"15",thresholdMajor:"13",thresholdSevere:"26",hp:"9",stress:"3",atk:"+3",weaponName:"Chain Swing",weaponRange:"Close",weaponDamage:"2d20+10 phy",xp:"Overwhelming +3",source:"umbra",features:[{name:"Slow",type:"Passive",cost:"",desc:"When you spotlight the Thrall and they don't have a token on their stat block, they can't act yet. Place a token on their stat block and describe what they're preparing to do. When you spotlight the Thrall and they have a token on their stat block, clear the token and they can act."},{name:"Dense But Clumsy",type:"Passive",cost:"",desc:"An attack that would move the Thrall moves them two fewer range steps, and the Thrall must succeed on a Reaction Roll (10). On a failure, it falls over and becomes temporarily Restrained and Vulnerable. When it is no longer Restrained, it also is no longer Vulnerable."},{name:"Cage The Judged",type:"Action",cost:"Spend a Fear",desc:"to make an attack against a target within Very Close range. On a success, the target takes 2d12+7 physical damage, is Restrained, and has disadvantage on attack rolls until they succeed on a Strength or Agility Action Roll (16)."},{name:"Cage Slam",type:"Action",cost:"Spend a Fear",desc:"to make an attack against a target within Very Close range. On a success, the target and any PCs in the cage take 2d12+15 physical damage."},{name:"Momentum",type:"Reaction",cost:"",desc:"When the Thrall makes a successful attack against a PC, you gain a Fear."},{name:"Kick",type:"Reaction",cost:"Mark a Stress",desc:"when the Thrall marks 2 or more HP from a PC attack within Very Close range. Then, immediately make an attack against the attacker. On a success, they take 2d6+7 physical damage and are pushed to Far range."}]},{id:"UA010",name:"ELITE HIVE COLLECTOR",tier:"2",type:"Standard",desc:"Seekers for Mother, they collect what might please her.",motives:"Envenom, ensnare, capture",difficulty:"15",thresholdMajor:"8",thresholdSevere:"19",hp:"8",stress:"3",atk:"+2",weaponName:"Face Stinger",weaponRange:"Very Close",weaponDamage:"2d6+7 phy",xp:"",source:"umbra",features:[{name:"Sleeping Sting",type:"Action",cost:"",desc:"Make an attack against a target within Very Close range. On a success, they take 2d6+8 physical damage and must make a Instinct Reaction Roll (15). On a failure, they become Asleep until they take damage, or until 1d4 hours have passed. While Asleep, a PC cannot be spotlighted."},{name:"Tangle Net",type:"Action",cost:"Mark a Stress",desc:"to make a target within Close range roll an Agility Reaction Roll (13). On a failure, they are Restrained and Vulnerable until they succeed on a Strength or Agility Action Roll (15)."}]},{id:"UA011",name:"TERRORGUT",tier:"2",type:"Solo (Umbra-Touched)",desc:"A ravenous demon unleashed through dark magic, it claims its domain to enslave and devour the souls of those who fail to bend to its will.",motives:"Consume, whip and pull, release zombies",difficulty:"15",thresholdMajor:"14",thresholdSevere:"28",hp:"10",stress:"4",atk:"+3",weaponName:"Bone Whip",weaponRange:"Close",weaponDamage:"2d12+8 phy",xp:"Infernal Strength +3",source:"umbra",features:[{name:"Terrifying",type:"Passive",cost:"",desc:"When Terrorgut makes a successful attack, all PCs within Far range lose a Hope and you gain a Fear."},{name:"Demon Armor",type:"Passive",cost:"",desc:"When Terrorgut takes physical damage, reduce it by 3."},{name:"Release Shambling Zombie",type:"Action",cost:"Spend a Fear",desc:"to create a Shambling Zombie within Very Close range. The Shambling Zombie is immediately spotlighted."},{name:"Devour",type:"Action",cost:"Spend a Fear",desc:"to make an attack against a PC within Very Close range. On a success, they take 2d8+10 physical damage and must succeed on a Strength Reaction Roll (16). On a failure, they are eaten and become Restrained until they succeed on a Strength or Agility Action Roll (16). Along with having the Restrained condition, every time they attempt an action roll, or an ally attempts an action roll to help them escape, they take 2d8+10 magical damage."},{name:"Get Over Here",type:"Reaction",cost:"",desc:"When you mark 2 or more HP from a PC attack within Close range, you can mark a Stress and roll an attack against the attacker. On a success, they take 2d10+10 physical damage, mark a Stress, and are pulled into Melee range."}]},{id:"UA012",name:"DAMASK AMBUSHER",tier:"2",type:"Skulk",desc:"A hardened cutthroat and thief who hunts for the Queens.",motives:"Evade, hide, ambush, pilfer",difficulty:"14",thresholdMajor:"8",thresholdSevere:"17",hp:"5",stress:"4",atk:"+2",weaponName:"Long Knife",weaponRange:"Melee",weaponDamage:"2d6+6 phy",xp:"",source:"umbra",features:[{name:"Backstab",type:"Passive",cost:"",desc:"When the Ambusher succeeds on a standard attack that has advantage, they deal 2d10+8 physical damage instead of their standard damage."},{name:"Cloaked",type:"Action",cost:"",desc:"Become Hidden until after the Ambusher's next attack. Attacks made while Hidden from this feature have advantage."}]},{id:"UA013",name:"DAMASK MARAUDER BAND",tier:"2",type:"Horde (2/HP)",desc:"A crew of cackling killers relishing in chaos and plunder.",motives:"Surround, gang up, divide and conquer",difficulty:"14",thresholdMajor:"10",thresholdSevere:"21",hp:"6",stress:"4",atk:"+1",weaponName:"Long Blade",weaponRange:"Melee",weaponDamage:"2d8+5 phy",xp:"",source:"umbra",features:[{name:"Horde (2d4+2)",type:"Passive",cost:"",desc:"When the Band has marked half or more of their HP, their standard attack deals 2d4+2 physical damage instead."},{name:"Sadistic Laughter",type:"Reaction",cost:"",desc:"When a target of the Band's attack marks 2 or more HP, you can mark a Stress to make all targets within Very Close range lose a Hope. If a target is not able to lose a Hope, they must instead mark 2 Stress."}]},{id:"UA014",name:"DAMASK ARCHER SQUAD",tier:"2",type:"Horde (2/HP)",desc:"Ranged raiders of the Damask Queens.",motives:"Stick together, survive, volley fire",difficulty:"13",thresholdMajor:"8",thresholdSevere:"16",hp:"4",stress:"3",atk:"+0",weaponName:"Bow",weaponRange:"Far",weaponDamage:"2d6+5 phy",xp:"",source:"umbra",features:[{name:"Horde (1d6+3)",type:"Passive",cost:"",desc:"When the Squad has marked half or more of their HP, their standard attack deals 1d6+3 physical damage instead."},{name:"Focused Volley",type:"Action",cost:"Spend a Fear",desc:"to target a point within Far range. Make an attack with advantage against all targets within Close range of that point. Any you succeed against take 1d10+4 physical damage."},{name:"Suppressing Fire",type:"Action",cost:"Mark a Stress",desc:"to target a point within Far range. Until the next roll with Fear, a creature who moves within Close range of that point must make an Agility Reaction Roll (14). On a failure, they take 2d6+3 physical damage. On a success, they take half."}]},{id:"UA015",name:"CORRUPTED FANE WARDEN",tier:"2",type:"Solo (Umbra-Touched)",desc:"The once beloved protector of the weald now stews in corruption, half-mad and seeking blood for their blade as penance for the land's decay.",motives:"Hunt, punish",difficulty:"15",thresholdMajor:"13",thresholdSevere:"25",hp:"8",stress:"4",atk:"+3",weaponName:"Blade of the Fane",weaponRange:"Very Close",weaponDamage:"2d10+5 phy",xp:"",source:"umbra",features:[{name:"Relentless (2)",type:"Passive",cost:"",desc:"The Fane Guardian can be spotlighted up to two times per GM turn. Spend Fear as usual to spotlight them."},{name:"Glimmer Within",type:"Passive",cost:"",desc:"A flame of ancient magic still burns within the Fane Warden. Whenever a PC would cause the Fane Warden to heal HP or Stress, start a Progress Countdown (4), reducing it by 1 each additional time it would be healed one HP or Stress. When this countdown would count below 1, the Warden is restored."},{name:"Overwhelming Arc",type:"Action",cost:"Spend a Fear",desc:"to make an attack against every target within Very Close range. On a success, they take 2d10+8 physical damage and must make a Strength Reaction Roll (15). On a failure, they are pushed away to Far range of their location."},{name:"Vine Spear",type:"Action",cost:"Spend a Fear",desc:"to have a target within Far range make a Strength Reaction Roll (15). On a failure, they are pulled to anywhere within Very Close range of the Fane Warden and the Fane Warden immediately makes an attack against them."},{name:"Take Root",type:"Action",cost:"Mark a Stress",desc:"to Root the Fane Warden in place. Fane Warden is Restrained while Rooted, and can end this effect instead of moving while they are spotlighted. While Rooted, Fane Warden has resistance to physical damage."},{name:"Righteous Vengeance",type:"Reaction",cost:"",desc:"When the Fane Warden marks 2 or more HP from an attack within Very Close range, mark a Stress to make a standard attack against the attacker. On a success, the Fane Warden deals 2d10+8 physical damage and the target is pushed to Far range."}]},{id:"UA016",name:"BLASPHEMOUS ANGEL EVELYAR",tier:"2",type:"Solo (Umbra-Touched)",desc:"Her holy mission slandered and her compassion punished for audacity, a darker power became seeded within her buried and bound soul. The Grand Ordinants created their own dark prophesy.",motives:"Punish many, dishearten, void stare.",difficulty:"14",thresholdMajor:"12",thresholdSevere:"24",hp:"10",stress:"6",atk:"+3",weaponName:"Malediction Axe",weaponRange:"Very Close",weaponDamage:"2d10+4 phy",xp:"Unholy Strength +3",source:"umbra",features:[{name:"Relentless (2)",type:"Passive",cost:"",desc:"Evelyar can be spotlighted up to two times per GM turn. Spend Fear as usual to spotlight her."},{name:"Unholy Aura",type:"Passive",cost:"",desc:"When Evelyar takes damage, reduce it by the number of Profane Disciples within Close range. When a PC marks their last HP within Close range of Evelyar, she heals a HP and clears a Stress."},{name:"Arc of Judgement",type:"Action",cost:"Spend a Fear",desc:"to make an attack against all targets within Very Close range. On a success, they take 2d8+5 physical damage."},{name:"The Flock's Call",type:"Action",cost:"Mark a Stress",desc:"to spotlight 1d4+1 allies. Attacks they make during this spotlight deal half damage."},{name:"Look Into The Void",type:"Action",cost:"Mark a Stress",desc:"to have a PC within Very Close range make an Insight or Presence Reaction Roll. On a failure, they mark a Stress, they become Vulnerable until they roll a success with Hope, and Evelyar heals 2 HP."},{name:"Blasphemous Choir",type:"Reaction",cost:"",desc:"Countdown (Loop 1d8). When Evelyar is in the spotlight for the first time, activate the countdown. When it triggers, a choir of discordant voices covers an area within Far range of Evelyar. When a target marks HP from an attack by Evelyar within the dark song, all PCs within Far range of the target lose a Hope. This song can be ended by dealing Severe damage to Evelyar, after which the countdown restarts."},{name:"Momentum",type:"Reaction",cost:"",desc:"When Evelyar makes a successful attack against a PC, you gain a Fear."}]},{id:"UA017",name:"PROFANE DISCIPLE",tier:"2",type:"Standard",desc:"One of the disciples of Evelyar, betrayed by the clergy and forgotten with their heretical Saint. Their vengeful furvor is fueled by Evelyar's madness.",motives:"Protect Evelyar, condemn, pass judgement",difficulty:"14",thresholdMajor:"10",thresholdSevere:"20",hp:"6",stress:"3",atk:"+2",weaponName:"Sorrowscythe",weaponRange:"Very Close",weaponDamage:"2d6+4 mag",xp:"",source:"umbra",features:[{name:"Dance of Condemnation",type:"Passive",cost:"",desc:"When the Disciple is within Melee range of a creature and at least one other Disciple is within Close range, all attacks against that creature have advantage."},{name:"Retaliation",type:"Reaction",cost:"",desc:"When Evelyar takes damage from an attack within Very Close range of the Disciple, mark a Stress to make a standard attack against the attacker."}]}];var advSablewood_default=[{id:"SA001",name:"THISTLEFOLK THIEF",tier:"1",type:"Leader",desc:"Description: A nimble folk with serrated blades and cunning tactics.",motives:"Strike and scatter, use magic to blast enemies away",difficulty:"14",thresholdMajor:"7",thresholdSevere:"14",hp:"4",stress:"2",atk:"+3",weaponName:"Serrated Blade",weaponRange:"Melee",weaponDamage:"2d4+3 phy",xp:"",source:"sablewood",features:[{name:"Back Off",type:"Action",cost:"Spend a Fear",desc:"to make an attack roll against all targets within Melee range. Any they succeed against are blasted backwards, dealing 2d6+3 magic damage and pushing them into Far range."}]},{id:"SA002",name:"THISTLEFOLK AMBUSHER",tier:"1",type:"Standard",desc:"A quick and deadly striker who waits for the perfect moment to strike.",motives:"Ambush, backstab, disappear",difficulty:"13",thresholdMajor:"6",thresholdSevere:"12",hp:"3",stress:"2",atk:"+1",weaponName:"Dagger",weaponRange:"Melee",weaponDamage:"1d8+5 phy",xp:"",source:"sablewood",features:[{name:"Ambush",type:"Reaction",cost:"",desc:"When the Ambusher enters the scene without being spotted first, they can immediately move into Melee with a target and make an attack against them. On a success, they strike with their dagger for 2d4+8 physical damage."}]},{id:"SA003",name:"STRIXWOLF",tier:"1",type:"Skulk",desc:"A wolf-owl pack hunter with wings and a rotating head.",motives:"Stalk, surround, protect pack",difficulty:"13",thresholdMajor:"5",thresholdSevere:"10",hp:"4",stress:"2",atk:"+2",weaponName:"Bite and Claw",weaponRange:"Melee",weaponDamage:"1d6+3 phy",xp:"Tracker +4",source:"sablewood",features:[{name:"Pack Tactics",type:"Passive",cost:"",desc:"When making a Bite and Claw attack, if another Strixwolf is also in Melee range of the target, deal 2d8+2 physical damage instead."},{name:"Powerful Senses",type:"Passive",cost:"",desc:"This creature ignores the Hidden condition on anyone within Close range."},{name:"Fly",type:"Action",cost:"Mark a Stress",desc:"to make the Strixwolf take flight, increasing their Difficulty by +2 and making their attacks worth +2 damage until the Strixwolf lands."}]},{id:"SA004",name:"ANCIENT SKELETON",tier:"1",type:"Standard",desc:"The weathered remains of a long-forgotten warrior, animated by dark magic.",motives:"Attack in numbers, overwhelm through coordination",difficulty:"12",thresholdMajor:"7",thresholdSevere:"None",hp:"2",stress:"1",atk:"+0",weaponName:"Rusted Sword",weaponRange:"Melee",weaponDamage:"1d6+1 phy",xp:"",source:"sablewood",features:[{name:"Group Attack",type:"Action",cost:"Spend a Fear",desc:"to choose a target and spotlight all Ancient Skeletons within Close range of them. Those creatures move into Melee range of the target and make one shared attack roll. On a success, they deal 4 physical damage each. Combine this damage."}]},{id:"SA005",name:"FOREST WRAITH",tier:"1",type:"Bruiser",desc:"A spectral entity born from ancient sorrow, feeding on fear and memory.",motives:"Haunt, delve into trauma, untether souls",difficulty:"13",thresholdMajor:"7",thresholdSevere:"14",hp:"6",stress:"3",atk:"+3",weaponName:"Lifedrain",weaponRange:"Far",weaponDamage:"2d6+8 mag",xp:"",source:"sablewood",features:[{name:"Spectral Body",type:"Passive",cost:"",desc:"The Forest Wraith has resistance to physical damage."},{name:"Memory Delve",type:"Action",cost:"",desc:"Make an attack roll against a Close target. On a success, the Forest Wraith flies into Melee and places their hand upon the target's cheek. Ask the player to describe a terrifying moment from their character's childhood. Then deal 3d4+9 magic damage and make them Vulnerable until their next rest."},{name:"Pass-Through",type:"Action",cost:"Spend a Fear",desc:"and make an attack roll against a target in Melee. On a success, the Forest Wraith passes through the target, pushing their soul from their body momentarily, making them Untethered. They cannot act again until the Ritual Countdown ticks down, clearing this condition. If the entire party becomes Untethered at the same time, they all mark 2 Hit Points and their souls return, clearing the condition."}]},{id:"SA006",name:"BULLFROG",tier:"1",type:"Bruiser",desc:"An amphibious bull-sized hybrid with springing legs and a powerful tongue.",motives:"Leap out of danger, spear with horns, lash with tongue",difficulty:"11",thresholdMajor:"8",thresholdSevere:"13",hp:"4",stress:"2",atk:"+1",weaponName:"Horns",weaponRange:"Melee",weaponDamage:"1d8+6 phy",xp:"Territorial +5",source:"sablewood",features:[{name:"Tongue Strike",type:"Action",cost:"",desc:"Make an attack against a target within Close range. On a success, deal 1d8+4 physical damage and pull the target into Melee."},{name:"Powerful Gore",type:"Action",cost:"Mark a Stress",desc:"to leap forward, making an attack with the Bullfrog's horns against all enemies in a straight line within Close range. Any that are hit take 2d4+8 physical damage and mark one armor slot that does not reduce any damage. The PC may still mark armor to reduce damage."},{name:"Leaping Dodge",type:"Reaction",cost:"",desc:"Whenever an attack against this creature misses, the Bullfrog may leap anywhere within Far range."}]},{id:"SA007",name:"EELIGATOR",tier:"1",type:"Solo",desc:"A large reptile-fish hybrid with a powerful jaw and predatory instincts.",motives:"Hide, hunt, subsume prey beneath the waters",difficulty:"14",thresholdMajor:"12",thresholdSevere:"25",hp:"7",stress:"5",atk:"+3",weaponName:"Bite",weaponRange:"Very Close",weaponDamage:"1d12+4 phy",xp:"",source:"sablewood",features:[{name:"Healing Skin",type:"Action",cost:"Mark a Stress",desc:"to heal 1 HP."},{name:"Pull Under",type:"Action",cost:"",desc:"If a target is within Close range of a body of water, you can spend a Fear to make an attack against them. On a success, deal 1d20 physical damage, then move both the Eeligator and the target into the water that's within Close range. The Eeligator pulls the target under, making them Restrained and Drowning. While Drowning, that target must mark a Stress for every action roll that is made."},{name:"Death Grip",type:"Action",cost:"",desc:"On a successful Bite attack, mark a Stress to lock this creature's jaw onto the target, dealing 1 additional hit point and making them Restrained until the Eeligator is dealt Major damage. When released, the target must mark a Stress."}]}];var ADVERSARIES=[...advcore_default,...advvoid_default,...advumbra_default,...advSablewood_default];var envcore_default=[{id:"CE001",name:"ABANDONED GROVE",tier:1,type:"Exploration",desc:"A former druidic grove lying fallow and fully reclaimed by nature.",impulse:"Draw in the curious, echo the past",difficulty:"11",potentialAdversaries:"Beasts (Bear, Dire Wolf, Glass Snake), Grove Guardians (Minor Treant, Sylvan Soldier, Young Dryad)",source:"core",features:[{name:"Overgrown Battlefield",type:"Passive",text:"There has been a battle here. A PC can make an Instinct Roll to identify evidence of that fight. On a success with Hope, learn all three pieces of information below. On a success with Fear, learn two. On a failure, a PC can mark a Stress to learn one and gain advantage on the next action roll to investigate this environment. A PC with an appropriate background or Experience can learn an additional detail and ask a follow-up question about the scene and get a truthful (if not always complete) answer.",bullets:["Traces of a battle (broken weapons and branches, gouges in the ground) litter the ground.","A moss-covered tree trunk is actually the corpse of a treant.","Still-standing trees are twisted in strange ways, as if by powerful magic."],questions:["Why did these groups come to blows?","Why is the grove unused now?"]},{name:"Barbed Vines",type:"Action",text:"Pick a point within the grove. All targets within Very Close range of that point must succeed on an Agility Reaction Roll or take 1d8+3 physical damage and become Restrained by barbed vines. Restrained creatures until they\u2019re freed with a successful Finesse or Strength roll or by dealing at least 6 damage to the vines.",bullets:null,questions:["How many vines are there?","Where do they grab you?","Do they pull you down or lift you off the ground?"]},{name:"You Are Not Welcome Here",type:"Action",text:"A Young Dryad, two Sylvan Soldiers, and a number of Minor Treants equal to the number of PCs appear to confront the party for their intrusion.",bullets:null,questions:["What are the grove guardians concealing?","What threat to the forest could the PCs confront to appease the Dryad?"]},{name:"Defiler",type:"Action",cost:"Spend a Fear",text:"to summon a Minor Chaos Elemental drawn to the echoes of violence and discord. They appear within Far range of a chosen PC and immediately take the spotlight.",bullets:null,questions:["What color does the grass turn as the elemental appears?","How does the chaos warp insects and small wildlife within the grove?"]}]},{id:"CE002",name:"AMBUSHED",tier:1,type:"Event",desc:"An ambush is set to catch an unsuspecting party off-guard.",impulse:"Overwhelm, scatter, surround",difficulty:"Special (see \u201CRelative Strength\u201D)",potentialAdversaries:"Any",source:"core",features:[{name:"Relative Strength",type:"Passive",text:"The Difficulty of this environment equals that of the adversary with the highest Difficulty.",bullets:null,questions:["Who cues the ambush?","What makes it clear they\u2019re in charge?"]},{name:"Surprise!",type:"Action",text:"The ambushers reveal themselves to the party, you gain 2 Fear, and the spotlight immediately shifts to one of the ambushing adversaries.",bullets:null,questions:["What do the ambushers want from the party?","How do their tactics in the ambush reflect that?"]}]},{id:"CE003",name:"AMBUSHERS",tier:1,type:"Event",desc:"An ambush is set by the PCs to catch unsuspecting adversaries off-guard.",impulse:"Escape, group up, protect the most vulnerable",difficulty:"Special (see \u201CRelative Strength\u201D)",potentialAdversaries:"Any",source:"core",features:[{name:"Relative Strength",type:"Passive",text:"The Difficulty of this environment equals that of the adversary with the highest Difficulty.",bullets:null,questions:["Which adversary is the least prepared?","Which one is the most?"]},{name:"Where Did They Come From?",type:"Reaction",text:"When a PC starts the ambush on unsuspecting adversaries, you lose 2 Fear and the first attack roll a PC makes has advantage.",bullets:null,questions:["What are the adversaries in the middle of doing when the ambush starts?","How does this impact their approach to the fight?"]}]},{id:"CE004",name:"BUSTLING MARKETPLACE",tier:1,type:"Social",desc:"The economic heart of the settlement, with local artisans, traveling merchants, and patrons across social classes.",impulse:"Buy low, and sell high, tempt and tantalize with wares from near and far",difficulty:"10",potentialAdversaries:"Guards (Bladed Guard, Head Guard), Masked Thief, Merchant",source:"core",features:[{name:"Tip the Scales",type:"Passive",text:"PCs can gain advantage on a Presence Roll by off ering a handful of gold as part of the interaction.",bullets:null,questions:["Will any coin be accepted, or only local currency?","How overt are the PCs in off ering this bribe?"]},{name:"Unexpected Find",type:"Action",text:"Reveal to the PCs that one of the merchants has something they want or need, such as food from their home, a rare book, magical components, a dubious treasure map, or a magical key.",bullets:null,questions:["What cost beyond gold will the merchant ask for in exchange for this rarity?"]},{name:"Sticky Fingers",type:"Action",text:"A thief tries to steal something from a PC. The PC must succeed on an Instinct Roll to notice the thief or lose an item of the GM\u2019s choice as the thief escapes to a Close distance. To retrieve the stolen item, the PCs must complete a Progress Countdown (6) to chase down the thief before the thief completes a Consequence Countdown (4) and escapes to their hideout.",bullets:null,questions:["What drove this person to pickpocketing?","Where is the thief\u2019s hideout and how has it avoided notice?"]},{name:"Crowd Closes In",type:"Reaction",text:"When one of the PCs splits from the group, the crowds shift and cut them off from the party.",bullets:null,questions:["Where does the crowd\u2019s movement carry them?","How do they feel about being alone but surrounded?"]}]},{id:"CE005",name:"CLIFFSIDE ASCENT",tier:1,type:"Traversal",desc:"A steep, rocky cliff side tall enough to make traversal dangerous.",impulse:"Cast the unready down to a rocky doom, draw people in with promise of what lies at the top",difficulty:"12",potentialAdversaries:"Construct, Deeproot Defender, Giant Scorpion, Glass Snake",source:"core",features:[{name:"The Climb",type:"Passive",text:"Climbing up the cliff side uses a Progress Countdown (12). It ticks down according to the following criteria when the PCs make an action roll to climb:",bullets:["Critical Success: Tick down 3","Success with Hope: Tick down 2","Success with Fear: Tick down 1","Failure with Hope: No advancement","Failure with Fear: Tick up 1"],textAfter:"When the countdown triggers, the party has made it to the top of the cliff .",questions:["What strange formations are the stones arranged in?","What ominous warnings did previous adventurers leave?"]},{name:"Pitons Left Behind",type:"Passive",text:"Previous climbers left behind large metal rods that climbers can use to aid their ascent. If a PC using the pitons fails an action roll to climb, they can mark a Stress instead of ticking the countdown up.",bullets:null,questions:["What do the shape and material of these pitons tell you about the previous climbers?","How far apart are they from one another?"]},{name:"Fall",type:"Action",cost:"Spend a Fear",text:"to have a PC\u2019s handhold fail, plummeting them toward the ground. If they aren\u2019t saved on the next action, they hit the ground and tick up the countdown by 2. The PC takes 1d12 physical damage if the countdown is between 8 and 12, 2d12 between 4 and 7, and 3d12 at 3 or lower.",bullets:null,questions:["How can you tell many others have fallen here before?","What lives in these walls that might try to scare adventurers into falling for an easy meal?"]}]},{id:"CE006",name:"LOCAL TAVERN",tier:1,type:"Social",desc:"A lively tavern that serves as the social hub for its town.",impulse:"Provide opportunities for adventurers, nurture community",difficulty:"10",potentialAdversaries:"Guards (Bladed Guard, Head Guard), Mercenaries (Harrier, Sellsword, Spellblade, Weaponmaster), Merchant",source:"core",features:[{name:"What\u2019s the Talk of the Town?",type:"Passive",text:"A PC can ask the bartender, staff , or patrons about local events, rumors, and potential work with a Presence Roll. On a success, they can pick two of the below details to learn\u2014or three if they critically succeed. On a failure, they can pick one and mark a Stress as the local carries on about something irrelevant.",bullets:["A fascinating rumor with a connection to a PC\u2019s background","A promising job for the party involving a nearby threat or situation","Local folklore that relates to something they\u2019ve seen","Town gossip that hints at a community problem"],questions:["Who has what kind of information?","What gossip do the locals start spreading about the PCs?"]},{name:"Sing For Your Supper",type:"Passive",text:"A PC can perform one time for the guests by making a Presence Roll. On a success, they earn 1d4 handfuls of gold (2d4 if they critically succeed). On a failure, they mark a Stress.",bullets:null,questions:["What piece do you perform?","What does that piece mean to you?","When\u2019s the last time you performed it for a crowd?"]},{name:"Mysterious Stranger",type:"Action",text:"Reveal a stranger concealing their identity, lurking in a shaded booth.",bullets:null,questions:["What do they want?","What\u2019s their impression of the PCs?","What mannerisms or accessories do they have?"]},{name:"Someone Comes to Town",type:"Action",text:"Introduce a significant NPC who wants to hire the party for something or who relates to a PC\u2019s background.",bullets:null,questions:["Did they know the PCs were here?","What do they want in this town?"]},{name:"Bar Fight!",type:"Action",cost:"Spend a Fear",text:"to have a bar fight erupt in the tavern. When a PC tries to move through the tavern while the fight persists, they must succeed on an Agility or Presence Roll or take 1d6+2 physical damage from a wild swing or thrown object. A PC can try to activate this feature by succeeding on an action roll that would provoke tavern patrons.",bullets:null,questions:["Who started the fight?","What will it take to stop it?"]}]},{id:"CE007",name:"OUTPOST TOWN",tier:1,type:"Social",desc:"A small town on the outskirts of a nation or region, close to a dungeon, tombs, or other adventuring destinations.",impulse:"Drive the desperate to certain doom, profit off of ragged hope",difficulty:"12",potentialAdversaries:"Jagged Knife Bandits (Hexer, Kneebreaker, Lackey, Lieutenant, Shadow, Sniper), Masked Thief, Merchant",source:"core",features:[{name:"Rumors Abound",type:"Passive",text:"Gossip is the fastest-traveling currency in the realm. A PC can inquire about major events by making a Presence Roll. What they learn depends on the outcome of their roll, based on the following criteria:",bullets:["Critical Success: Learn about two major events. The PC can ask one follow-up question about one of the rumors and get atruthful (if not always complete) answer.","Success with Hope: Learn about two events, at least one of which is relevant to the character\u2019s background.","Success with Fear: Learn an alarming rumor related to the character\u2019s background.","Any Failure: The locals respond poorly to their inquiries. The PC must mark a Stress to learn one relevant rumor."],questions:["What news do the PCs have that they could pass along to curious travelers?","What do the locals think about these events?"]},{name:"Society of the Broken Compass",type:"Passive",text:"An adventuring society maintains a chapterhouse here, where heroes trade boasts and rumors, drink to their imagined successes, and scheme to undermine their rivals.",bullets:null,questions:["What boasts do the adventurers here make, and which do you think are true?"]},{name:"Rival Party",type:"Passive",text:"Another adventuring party is here, seeking the same treasure or leads as the PCs.",bullets:null,questions:["Which PC has a connection to one of the rival party members?","Do they approach the PC first or do they wait for the PC to move?"]},{name:"It\u2019d Be a Shame If Something Happened to Your Store",type:"Action",text:"The PCs witness as agents of a local crime boss shake down a general goods store.",bullets:null,questions:["What trouble does it cause if the PCs intervene?"]},{name:"Wrong Place, Wrong Time",type:"Reaction",text:"At night, or when the party is alone in a back alley, you can spend a Fear to introduce a group of thieves who try to rob them. The thieves appear at Close range of a chosen PC and include a Jagged Knife Kneebreaker, as many Lackeys as there are PCs, and a Lieutenant. For a larger party, add a Hexer or Sniper.",bullets:null,questions:["What details show the party that these people are desperate former adventurers?"]}]},{id:"CE008",name:"RAGING RIVER",tier:1,type:"Traversal",desc:"A swift-moving river without a bridge crossing, deep enough to sweep away most people.",impulse:"Bar crossing, carry away the unready, divide the land",difficulty:"10",potentialAdversaries:"Beasts (Bear, Glass Snake), Jagged Knife Bandits (Hexer, Kneebreaker, Lackey, Lieutenant, Shadow, Sniper)",source:"core",features:[{name:"Dangerous Crossing",type:"Passive",text:"Crossing the river requires the party to complete a Progress Countdown (4). A PC who rolls a failure with Fear is immediately targeted by the \u201CUndertow\u201D action without requiring a Fear to be spent on the feature.",bullets:null,questions:["Have any of the PCs forded rivers like this before?","Are any of them afraid of drowning?"]},{name:"Undertow",type:"Action",cost:"Spend a Fear",text:"to catch a PC in the undertow. They must make an Agility Reaction Roll. On a failure, they take 1d6+1 physical damage and are moved a Close distance down the river, becoming Vulnerable until they get out of the river. On a success, they must mark a Stress.",bullets:null,questions:["What trinkets and baubles lie along the bottom of the riverbed?","Do predators swim these rivers?"]},{name:"Patient Hunter",type:"Action",cost:"Spend a Fear",text:"to summon a Glass Snake within Close range of a chosen PC. The Snake appears in or near the river and immediately takes the spotlight to use their \u201CSpinning Serpent\u201D action.",bullets:null,questions:["What treasures does the beast have in their burrow?","What travelers have already fallen victim to this predator?"]}]},{id:"CE009",name:"CULT RITUAL",tier:2,type:"Event",desc:"A Fallen cult assembles around a sigil of the defeated gods and a bonfire that burns a sickly shade of green.",impulse:"Profane the land, unite the Mortal Realm with the Circles Below",difficulty:"14",potentialAdversaries:"Cult of the Fallen (Cult Adept, Cult Fang, Cult Initiate, Secret-Keeper)",source:"core",features:[{name:"Desecrated Ground",type:"Passive",text:"Cultists dedicated this place to the Fallen Gods, and their foul influence seeps into it. Reduce the PCs\u2019 Hope Die to a d10 while in this environment. The desecration can be removed with a Progress Countdown (6).",bullets:null,questions:["How do the PCs first notice that something is wrong about this place?","What fears resurface while hope is kept at bay?"]},{name:"Blasphemous Might",type:"Action",text:"A portion of the ritual\u2019s power is diverted into a cult member to fight off interlopers. Choose one adversary to become Imbued with terrible magic until the scene ends or they\u2019re defeated. An Imbued adversary immediately takes the spotlight and gains one of the following benefits, or all three if you spend a Fear:",bullets:["They gain advantage on all attacks.","They deal an extra 1d10 damage on a successful attack.","They gain the following feature:"],textAfter:"Relentless (2) - Passive. This adversary can be spotlighted up to two times per GM turn. Spend Fear as usual to spotlight them.",questions:["How does the enemy change in appearance?","What fears do their blows bring to the surface?"]},{name:"The Summoning",type:"Reaction",text:"Countdown (6). When the PCs enter the scene or the cult begins the ritual to summon a demon, activate the countdown. Designate one adversary to lead the ritual. The countdown ticks down when a PC rolls with Fear. When it triggers, summon a Minor Demon within Very Close range of the ritual\u2019s leader. If the leader is defeated, the countdown ends with no eff ect as the ritual fails.",bullets:null,questions:["What will the cult do with this leashed demon if they succeed?","What will they try to summon next?"]},{name:"Complete the Ritual",type:"Reaction",text:"If the ritual\u2019s leader is targeted by an attack or spell, an ally within Very Close range of them can mark a Stress to be targeted by that attack or spell instead.",bullets:null,questions:["What does it feel like to see such devotion turned to the pursuit of fear and domination?"]}]},{id:"CE010",name:"HALLOWED TEMPLE",tier:2,type:"Social",desc:"A bustling but well-kept temple that provides healing and hosts regular services, overseen by a priest or seraph.",impulse:"Connect the Mortal Realm with the Hallows Above, display the power of the divine, provide aid and succor to the faithful",difficulty:"13",potentialAdversaries:"Guards (Archer Guard, Bladed Guard, Head Guard)",source:"core",features:[{name:"A Place of Healing",type:"Passive",text:"A PC who takes a rest in the Hallowed Temple automatically clears all HP.",bullets:null,questions:["What does the incense smell like?","What kinds of songs do the acolytes sing?"]},{name:"Divine Guidance",type:"Passive",text:"A PC who prays to a deity while in the Hallowed Temple can make an Instinct Roll to receive answers. If the god they beseech isn\u2019t welcome in this temple, the roll is made with disadvantage.",bullets:["Critical Success: The PC gains clear information. Additionally, they gain 1d4 Hope, which can be distributed between the party if they share the vision and guidance they received.","Success with Hope: The PC receives clear information.","Success with Fear: The PC receives brief flashes of insight and an emotional impression conveying an answer.","Any Failure: The PC receives only vague flashes. They can mark a Stress to receive one clear image without context."],questions:["What does it feel like as you are touched by this vision?","What feeling lingers after the images have passed?"]},{name:"Relentless Hope",type:"Reaction",text:"Once per scene, each PC can mark a Stress to turn a result with Fear into a result with Hope.",bullets:null,questions:["What emotions or memories do you connect with when fear presses in?"]},{name:"Divine Censure",type:"Reaction",text:"When the PCs have trespassed, blasphemed, or off ended the clergy, you can spend a Fear to summon a High Seraph and 1d4 Bladed Guards within Close range of the senior priest to reinforce their will.",bullets:null,questions:["What symbols or icons do they bear that signal they are anointed agents of the divinity?","Who leads the group and what led them to this calling?"]}]},{id:"CE011",name:"HAUNTED CITY",tier:2,type:"Exploration",desc:"An abandoned city populated by the restless spirits of eras past.",impulse:"Misdirect and disorient, replay apocalypses both public and personal",difficulty:"14",potentialAdversaries:"Ghosts (Spectral Archer, Spectral Captain, Spectral Guardian), ghostly versions of other adversaries (see \u201CGhostly Form\u201D)",source:"core",features:[{name:"Buried Knowledge",type:"Passive",text:"The city has countless mysteries to unfold. A PC who seeks knowledge about the fallen city can make an Instinct or Knowledge Roll to learn about this place and discover (potentially haunted) loot.",bullets:["Critical Success: Gain valuable information and a related useful item.","Success with Hope: Gain valuable information.","Success with Fear: Uncover vague or incomplete information.","Any Failure: Mark a Stress to find a lead after an exhaustive search."],questions:["What greater secrets does the city contain?","Why have so many ghosts lingered here?","What doomed adventurers have met a bad fate here already?"]},{name:"Ghostly Form",type:"Passive",text:"Adversaries who appear here are of a ghostly form. They have resistance to physical damage and can mark a Stress to move up to Close range through solid objects.",bullets:null,questions:["What injuries to their physical form speak to their cause of death?","What unfulfilled purpose holds them in the Mortal Plane?"]},{name:"Dead Ends",type:"Action",text:"The ghosts of an earlier era manifest scenes from their bygone era, such as a street festival, a revolution, or a heist. These hauntings change the layout of the city around the PCs, blocking the way behind them, forcing a detour, or presenting them with a challenge, such as mistaking them for rival thieves during the heist.",bullets:null,questions:["What do the ghosts want from you?","What do you need from them?"]},{name:"Apocalypse Then",type:"Action",cost:"Spend a Fear",text:"to manifest the echo of a past disaster that ravaged the city. Activate a Progress Countdown (5) as the disaster replays around the PCs. To complete the countdown and escape the catastrophe, the PCs must overcome threats such as rampaging fires, stampeding civilians, collapsing buildings, or crumbling streets, while recalling history and finding clues to escape the inevitable.",bullets:null,questions:["Is this the disaster that led the city to be abandoned?","What is known about this disaster, and how could that help the PCs escape?"]}]},{id:"CE012",name:"MOUNTAIN PASS",tier:2,type:"Traversal",desc:"Stony peaks that pierce the clouds, with a twisting path winding its way up and over through many switchbacks.",impulse:"Exact a chilling toll in supplies and stamina, reveal magical tampering, slow down travel",difficulty:"15",potentialAdversaries:"Beasts (Bear, Giant Eagle, Glass Snake), Chaos Skull, Minotaur Wrecker, Mortal Hunter",source:"core",features:[{name:"Engraved Sigils",type:"Passive",text:"Large markings and engravings have been made in the mountainside. A PC with a relevant background or Experience identifies them as weather magic increasing the power of the icy winds. A PC who succeeds on a Knowledge Roll can recall information about the sigils, potential information about their creators, and the knowledge of how to dispel them. If a PC critically succeeds, they recognize that the sigils are of a style created by ridgeborne enchanters and they gain advantage on a roll to dispel the sigils.",bullets:null,questions:["Who laid this enchantment?","Are they nearby?","Why did they want the weather to be more daunting?"]},{name:"Avalanche",type:"Action",cost:"Spend a Fear",text:"to carve the mountain with an icy torrent, causing an avalanche. All PCs in its path must succeed on an Agility or Strength Reaction Roll or be bowled over and carried down the mountain. A PC using rope, pitons, or other climbing gear gains advantage on this roll. Targets who fail are knocked down the mountain to Far range, take 2d20 physical damage, and must mark a Stress. Targets who succeed must mark a Stress.",bullets:null,questions:["How do the PCs try to weather the avalanche?","What approach do the characters take to find one another when their companions go hurtling down the mountainside?"]},{name:"Raptor Nest",type:"Reaction",text:"When the PCs enter the raptors\u2019 hunting grounds, two Giant Eagles appear at Very Far range of a chosen PC, identifying the PCs as likely prey.",bullets:null,questions:["How long has it been since the eagles last found prey?","Do they have eggs in their nest, or unfledged young?"]},{name:"Icy Winds",type:"Reaction",text:"Countdown (Loop 4). When the PCs enter the mountain pass, activate the countdown. When it triggers, all characters traveling through the pass must succeed on a Strength Reaction Roll or mark a Stress. A PC wearing clothes appropriate for extreme cold gains advantage on these rolls.",bullets:null,questions:["What parts of the PC\u2019s bodies go numb first?","How do they try to keep warm as they press forward?"]}]},{id:"CE013",name:"BURNING HEART OF THE WOODS",tier:3,type:"Exploration",desc:"Thick indigo ash fills the air around a towering moss-covered tree that burns eternally with flames a sickly shade of blue.",impulse:"Beat out an uncanny rhythm for all to follow, corrupt the woods",difficulty:"16",potentialAdversaries:"Beasts (Bear, Glass Snake), Elementals (Elemental Spark), Verdant Defenders (Dryad, Oak Treant, Stag Knight)",source:"core",features:[{name:"Chaos Magic Locus",type:"Passive",text:"When a PC makes a Spellcast Roll, they must roll two Fear Dice and take the higher result.",bullets:null,questions:["What does it feel like to work magic in this chaos-touched place?","What do you fear will happen if you lose control of the spell?"]},{name:"The Indigo Flame",type:"Passive",text:"PCs who approach the central tree can make a Knowledge Roll to try to identify the magic that consumed this environment.",bullets:["On a success: They learn three of the below details. On a success with Fear, they learn two.","On a failure: They can mark a Stress to learn one and gain advantage on the next action roll to investigate this environment.","Details: This is a result of Fallen magic. The corruption is spread through the ashen moss. It can be cleansed only by a ritual of nature magic with a Progress Countdown (8)."],questions:["What Fallen cult corrupted these woods?","What have they already done with the cursed wood and sap from this tree?"]},{name:"Grasping Vines",type:"Action",text:"Animate vines bristling with thorns whip out from the underbrush to ensnare the PCs. A target must succeed on an Agility Reaction Roll or become Restrained and Vulnerable until they break free, clearing both conditions, with a successful Finesse or Strength Roll or by dealing 10 damage to the vines. When the target makes a roll to escape, they take 1d8+4 physical damage and lose a Hope.",bullets:null,questions:["What painful memories do the vines bring to the surface as they pierce flesh?"]},{name:"Charcoal Constructs",type:"Action",text:"Warped animals wreathed in indigo flame trample through a point of your choice. All targets within Close range of that point must make an Agility Reaction Roll. Targets who fail take 3d12+3 physical damage. Targets who succeed take half damage instead.",bullets:null,questions:["Are these real animals consumed by the flame or merely constructs of the corrupting magic?"]},{name:"Choking Ash",type:"Reaction",text:"Countdown (Loop \uE546). When the PCs enter the Burning Heart of the Woods, activate the countdown. When it triggers, all characters must make a Strength or Instinct Reaction Roll. Targets who fail take 4d6+5 direct physical damage. Targes who succeed take half damage. Protective masks or clothes give advantage on the reaction roll.",bullets:null,questions:["What hallucinations does the ash induce?","What incongruous taste does it possess?"]}]},{id:"CE014",name:"CASTLE SIEGE",tier:3,type:"Event",desc:"An active siege with an attacking force fighting to gain entry to a fortified castle.",impulse:"Bleed out the will to fight, breach the walls, build tension",difficulty:"17",potentialAdversaries:"Mercenaries (Harrier, Sellsword, Spellblade, Weaponmaster), Noble Forces (Archer Squadron, Conscript, Elite Soldier, Knight of the Realm)",source:"core",features:[{name:"Secret Entrance",type:"Passive",text:"A PC can find or recall a secret way into the castle with a successful Instinct or Knowledge Roll.",bullets:null,questions:["How do they get in without revealing the pathway to the attackers?","Are any of the defenders monitoring this path?"]},{name:"Siege Weapons (Environment Change)",type:"Action",text:"Consequence Countdown (6). The attacking force deploys siege weapons to try to raze the defenders\u2019 fortifications. Activate the countdown when the siege begins (for a protracted siege, make this a long-term countdown instead). When it triggers, the defenders\u2019 fortifications have been breached and the attackers flood inside. You gain 2 Fear, then shift to the Pitched Battle environment and spotlight it.",bullets:null,questions:["What siege weapons are being deployed?","Are they magical, mundane, or a mixture of both?","What defenses must the characters overcome to storm the castle?"]},{name:"Reinforcements!",type:"Action",text:"Summon a Knight of the Realm, a number of Tier 3 Minions equal to the number of PCs, and two adversaries of your choice within Far range of a chosen PC as reinforcements. The Knight of the Realm immediately takes the spotlight.",bullets:null,questions:["Who are they targeting first?","What formation do they take?"]},{name:"Collateral Damage",type:"Reaction",text:"When an adversary is defeated, you can spend a Fear to have a stray attack from a siege weapon hit a point on the battlefield. All targets within Very Close range of that point must make an Agility Reaction Roll.",bullets:["Targets who fail take 3d8+3 physical or magic damage and must mark a Stress.","Targets who succeed must mark a Stress."],questions:["What debris is scattered by the attack?","What is broken by the strike that can\u2019t be easily mended?"]}]},{id:"CE015",name:"PITCHED BATTLE",tier:3,type:"Event",desc:"A massive combat between two large groups of armed combatants.",impulse:"Seize people, land, and wealth, spill blood for greed and glory",difficulty:"17",potentialAdversaries:"Mercenaries (Sellsword, Harrier, Spellblade, Weaponmaster), Noble Forces (Archer Squadron, Conscript, Elite Soldier, Knight of the Realm)",source:"core",features:[{name:"Adrift on a Sea of Steel",type:"Passive",text:"Traversing a battlefield during an active combat is extremely dangerous. A PC must succeed on an Agility Roll to move at all, and can only go up to Close range on a success. If an adversary is within Melee range of them, they must mark a Stress to make an Agility Roll to move.",bullets:null,questions:["Do the combatants mistake you for the enemy or consider you interlopers?","Can you tell the diff erence between friend and foe in the fray?"]},{name:"Raze and Pillage",type:"Action",text:"The attacking force raises the stakes by lighting a fire, stealing a valuable asset, kidnapping an important person, or killing the populace.",bullets:null,questions:["What is valuable here?","Who is most vulnerable?"]},{name:"War Magic",type:"Action",cost:"Spend a Fear",text:"as a mage from one side uses large-scale destructive magic. Pick a point on the battlefield within Very Far range of the mage. All targets within Close range of that point must make an Agility Reaction Roll. Targets who fail take 3d12+8 magic damage and must mark a Stress.",bullets:null,questions:["What form does the attack take\u2014fireball, raining acid, a storm of blades?","What tactical objective is this attack meant to accomplish, and what comes next?"]},{name:"Reinforcements!",type:"Action",text:"Summon a Knight of the Realm, a number of Tier 3 Minions equal to the number of PCs, and two adversaries of your choice within Far range of a chosen PC as reinforcements. The Knight of the Realm immediately takes the spotlight.",bullets:null,questions:["Who are they targeting first?","What formation do they take?"]}]},{id:"CE016",name:"CHAOS REALM",tier:4,type:"Traversal",desc:"An otherworldly space where the laws of reality are unstable and dangerous.",impulse:"Annihilate certainty, consume power, defy logic",difficulty:"20",potentialAdversaries:"Outer Realms Monstrosities (Abomination, Corruptor, Thrall)",source:"core",features:[{name:"Impossible Architecture",type:"Passive",text:"Up is down, down is right, right is starward. Gravity and directionality themselves are in flux, and any attempt to move through this realm is an odyssey unto itself, requiring a Progress Countdown (8). On a failure, a PC must mark a Stress in addition to the roll\u2019s other consequences.",bullets:null,questions:["What does it feel like to move in a space so alien to the Mortal Realm?","What landmark or point do you fixate on to maintain your balance?","What bizarre landmarks do you traverse on your journey?"]},{name:"Everything You Are This Place Will Take from You",type:"Action",text:"Countdown (Loop 1d4). Activate the countdown. When it triggers, all PCs must succeed on a Presence Reaction Roll or their highest trait is temporarily reduced by 1d4 unless they mark a number of Stress equal to its value. Any lost trait points are regained if the PC critically succeeds or escapes the Chaos Realm.",bullets:null,questions:["How does this place try to steal from you that which makes you legendary?","What does it feel to have this power taken from you?"]},{name:"Unmaking",type:"Action",cost:"Spend a Fear",text:"to force a PC to make a Strength Reaction Roll. On a failure, they take 4d10 direct magic damage. On a success, they must mark a Stress.",bullets:null,questions:["What glimpse of other worlds do you catch while this place tries to unmake you?","What core facet of your personality does the unmaking try to erase?"]},{name:"Outer Realms Predators",type:"Action",cost:"Spend a Fear",text:"to summon an Outer Realms Abomination, an Outer Realms Corruptor, and 2d6 Outer Realms Thralls, who appear at Close range of a chosen PC in defiance of logic and causality. Immediately spotlight one of these adversaries, and you can spend an additional Fear to automatically succeed on that adversary\u2019s standard attack.",bullets:null,questions:["What half-consumed remnants of the shattered world do these monstrosities cast aside in pursuit of living flesh?","What jagged reflections of former personhood do you catch between moments of unquestioning malice?"]},{name:"Disorienting Reality",type:"Reaction",text:"On a result with Fear, you can ask the PC to describe which of their fears the Chaos Realm evokes as a vision of reality unmakes and reconstitutes itself to the PC. The PC loses a Hope. If it is their last Hope, you gain a Fear.",bullets:null,questions:["What moment do they see?","If it\u2019s a memory, how is it warped by this place?","How hard will it be to hold on to the real memory?"]}]},{id:"CE017",name:"DIVINE USURPATION",tier:4,type:"Event",desc:"A massive ritual designed to breach the gates of the Hallows Above and unseat the New Gods themselves.",impulse:"Collect power, overawe, silence dissent",difficulty:"20",potentialAdversaries:"Arch-Necromancer, Fallen Shock Troops, Mortal Hunter, Oracle of Doom, Perfected Zombie",source:"core",features:[{name:"Final Preparations",type:"Passive",text:"When the environment first takes the spotlight, designate one adversary as the Usurper seeking to overthrow the gods. Activate a Long-Term Countdown (8) as the Usurper assembles what they need to conduct the ritual. When it triggers, spotlight this environment to use the \u201CBeginning of the End\u201D feature. While this environment remains in play, you can hold up to 15 Fear.",bullets:null,questions:["What does the Usurper still require: The heart of a High Seraph?","The lodestone of an ancient waygate?","The loyalty of two archenemies?","The heartbroken tears of a pure soul?"]},{name:"Divine Blessing",type:"Passive",text:"When a PC critically succeeds, they can spend 2 Hope to refresh an ability normally limited by uses (such as once per rest, once per session).",bullets:null,questions:["What god favors you as you fight against this usurpation?","How does your renewed power reflect their influence?"]},{name:"Defilers Abound",type:"Action",text:"Spend 2 Fear to summon 1d4+2 Fallen Shock Troops that appear within Close range of the Usurper to assist their divine siege. Immediately spotlight the Shock Troops to use a \u201CGroup Attack\u201D action.",bullets:null,questions:["Which High Fallen do these troops serve?","Which god\u2019s flesh do they wish to feast upon?"]},{name:"Godslayer",type:"Action",text:"If the Divine Siege Countdown (see \u201CBeginning of the End\u201D) has triggered, you can spend 3 Fear to describe the Usurper slaying one of the gods of the Hallows Above, feasting upon their power and growing stronger. The Usurper clears 2 HP. Increase their Difficulty, damage, attack modifier, or give them a new feature from the slain god.",bullets:null,questions:["Which god meets their end?","What are their last words?","How does the Usurper\u2019s new stolen power manifest?"]},{name:"Beginning of the End",type:"Reaction",text:"When the \u201CFinal Preparations\u201D long-term countdown triggers, the Usurper begins hammering on the gates of the Hallows themselves. Activate a Divine Siege Countdown (10). Spotlight the Usurper to describe the Usurper\u2019s assault and tick down this countdown by 1. If the Usurper takes Major or greater damage, tick up the countdown by 1. When it triggers, the Usurper shatters the barrier between the Mortal Realm and the Hallows Above to slay the gods and take their place. You gain a Fear for each unmarked HP the Usurper has. You can immediately use the \u201CGodslayer\u201D feature without spending Fear to make an additional GM move.",bullets:null,questions:["How does the Mortal Realm writhe as the natural order is violated?","What mortals witness this blasphemy from afar?"]},{name:"Ritual Nexus",type:"Reaction",text:"On any failure with Fear against the Usurper, the PC must mark 1d4 Stress from the backlash of magical power.",bullets:null,questions:["What visions of failures past torment you as your eff orts fall short?","How are these memories twisted by the Usurper?"]}]},{id:"CE018",name:"IMPERIAL COURT",tier:4,type:"Social",desc:"The majestic domain of a powerful empire, lavishly appointed with stolen treasures.",impulse:"Justify and perpetuate imperial rule, seduce rivals with promises of power and comfort",difficulty:"20",potentialAdversaries:"Bladed Guard, Courtesan, Knight of the Realm, Monarch, Spy",source:"core",features:[{name:"All Roads Lead Here",type:"Passive",text:"While in the Imperial Court, a PC has disadvantage on Presence Rolls made to take actions that don\u2019t fit the imperial way of life or support the empire\u2019s dominance.",bullets:null,questions:["How does the way language is used make even discussing alternative ways of living difficult?","What obvious benefits for loyalty create friction when you try to discuss alternatives?"]},{name:"Rival Vassals",type:"Passive",text:"The PCs can find imperial subjects, vassals, and supplicants in the court, each vying for favor, seeking proximity to power, exchanging favors for loyalty, and elevating their status above others\u2019. Some might be desperate to undermine their rivals, while others might even be open to discussions that verge on sedition.",bullets:null,questions:["How do they benefit from vassalage, and what has it cost them?","What exploitation drives them to consider opposing the unstoppable?"]},{name:"The Gravity of Empire",type:"Action",cost:"Spend a Fear",text:"to present a PC with a golden opportunity or off er to satisfy a major goal in exchange for obeying or supporting the empire. The target must make a Presence Reaction Roll. On a failure, they must mark all their Stress or accept the off er. If they have already marked all their Stress, they must accept the off er or exile themselves from the empire. On a success, they must mark 1d4 Stress as they\u2019re taxed by temptation.",bullets:null,questions:["What do the PCs want so desperately they might consider throwing in with this ruthless power?","How did imperial agents learn the PC\u2019s greatest desires?"]},{name:"Imperial Decree",type:"Action",cost:"Spend a Fear",text:"to tick down a long-term countdown related to the empire\u2019s agenda by 1d4. If this triggers the countdown, a proclamation related to the agenda is announced at court as the plan is executed.",bullets:null,questions:["What display of power or transfer of wealth was needed to expedite this plan?","Whose lives were disrupted or upended to make this happen?"]},{name:"Eyes Everywhere",type:"Reaction",text:"On a result with Fear, you can spend a Fear to have someone loyal to the empire overhear seditious talk within the court. A PC must succeed on an Instinct Reaction Roll to notice that the group has been overheard so they can try to intercept the witness before the PCs are exposed. NECROMANCER\u2019S OSSUARY Tier 4 Exploration A dusty crypt with a library, twisting corridors, and abundant sarcophagi, spattered with the blood of ill-fated invaders. Impulses: Confound intruders, delve into secrets best left buried, manifest unlife, unleash a tide of undead Difficulty: 19 Potential Adversaries: Arch-Necromancer\u2019s Host (Perfected Zombie, Zombie Legion) FEATURES",bullets:null,questions:["How has the empire compromised this witness?","Why is their first impulse to protect the empire, even if doesn\u2019t treat them well?"]},{name:"No Place for the Living",type:"Passive",text:"A feature or action that clears HP requires spending a Hope to use. If it already costs Hope, a PC must spend an additional Hope.",bullets:null,questions:["What does it feel like to try to heal in a place so antithetical to life?"]},{name:"Centuries of Knowledge",type:"Passive",text:"A PC can investigate the library and laboratory and make a Knowledge Roll to learn information related to arcana, local history, and the Necromancer\u2019s plans.",bullets:null,questions:["What are the names of the tomes?","What project is the necromancer working on and what does it communicate about their plans?"]},{name:"Skeletal Burst",type:"Action",text:"All targets within Close range of a point you choose in this environment must succeed on an Agility Reaction Roll or take 4d8+8 physical damage from skeletal shrapnel as part of the ossuary detonates around them.",bullets:null,questions:["What ancient skeletal architecture is destroyed?","What bones stick in your armor?"]},{name:"Aura of Death",type:"Action",text:"Once per scene, roll a d4. Each undead within Far range of the Necromancer can clear HP and Stress equal to the result rolled. The undead can choose how that number is divided between HP and Stress.",bullets:null,questions:["How does their renewed vigor manifest?","Do they look more lifelike or, paradoxically, are they more decayed but vigorous?"]},{name:"They Just Keep Coming!",type:"Action",cost:"Spend a Fear",text:"to summon 1d6 Rotted Zombies, two Perfected Zombies, or a Zombie Legion, who appear at Close range of a chosen PC.",bullets:null,questions:["Who were these people before they became the necromancer\u2019s pawns?","What vestiges of those lives remain for the heroes to see?"]}]}];var envvoid_default=[{id:"VE001",name:"GRAND FEAST",tier:1,type:"Social",desc:"A community-wide celebration featuring way too much drink, food, and fun.",impulse:"Bring everyone together, celebrate a momentous occasion, encourage revelrous abandon",difficulty:"11",potentialAdversaries:"Apprentice Assassin, Guard, Merchant, Petty Noble, Sellsword, Spy",source:"void",features:[{name:"Loose Lips and Fast Friends",type:"Passive",text:"Everyone is here to have a good time. PCs have advantage on Presence rolls to socialize with other revelers.",bullets:null,questions:["What is everyone celebrating?","Where\u2019s the party?","Who\u2019s footing the bill?"]},{name:"Are You Not Entertained?",type:"Action",text:"Spend the spotlight to have the host of the feast kick off the entertainment portion of the evening. All PCs can make an action roll to initiate a performance, competition, or other lighthearted diversion. Each PC who succeeds becomes an Honored Guest. Until the grand feast ends, an Honored Guest can claim one boon from the host, then clear the condition.",bullets:null,questions:["What does the host want to see or hear more than anything else?","What can they off er the PCs in return?"]},{name:"There\u2019s Always That One...",type:"Action",cost:"Spend a Fear",text:"to Trap a PC in conversation with the most unpleasant person at the party until they succeed on an action roll to extricate themself from this social black hole. A Trapped PC can\u2019t make any other action rolls except to try and remove this condition. When a Trapped PC fails an action roll, they must mark a Stress.",bullets:null,questions:["What makes this dud so unpleasant?","What\u2019s something the PC cares about that the dud constantly diminishes or dismisses?","What boring or awful thing can the dud not shut up about?"]},{name:"Last Call",type:"Reaction",text:"After a long night, the partygoers start fi ltering out. When the feast concludes, all PCs who participated in the festivities clear all Stress and gain a Hope. Additionally, each Honored Guest clears all HP and gains an additional Hope, then clears the condition. PCs who overindulged must succeed on a Strength Reaction Roll or become Hungover until their next rest. Hungover PCs take a \u22121 penalty to all action rolls.",bullets:null,questions:["What crazy stories do the PCs share with one another as they leave the party?","Who do the PCs see unexpectedly canoodling afterward?"]}]},{id:"VE002",name:"HEIST",tier:2,type:"Event",desc:"The party must gain access to a hidden or well-protected location to acquire the information or items secured within.",impulse:"Make the party prepare, split them up, throw up obstacles, trap them inside, use up their resources",difficulty:"14",potentialAdversaries:"Head Guard, Minotaur Wrecker, SecretKeeper, Spectral Guardian",source:"void",features:[{name:"Prep Work",type:"Passive",text:"Prior to the Heist, each PC has the opportunity to gather a key piece of information, surveil the location, or acquire a helpful tool or resource. Give each player the opportunity to describe one obstacle they expect to encounter and how they set themselves up to overcome it, then have them make an action roll. On a success, they get the advantage or asset they sought. On a success with Fear, it\u2019s less useful than they expected (for example, they discover the location of a hidden access point but learn that breaching it will likely be diffi cult and noisy).",bullets:null,questions:["How does the PC gain this advantage?","Do they go it alone or ask for help?","What unforeseen complications arise during the Heist itself?"]},{name:"Infi ltration",type:"Passive",text:"Establish the goal of the Heist and start two dynamic countdowns: a Progress Countdown (12) to represent the party\u2019s work toward their goal and a Consequence Countdown (10) to represent the rising risk of discovery and capture. Advance both according to the Dynamic Countdown Advancement table as the PCs make action rolls to complete the Heist. If the Progress Countdown triggers fi rst, spotlight this environment to use the \u201CExfi ltration\u201D feature. If the Consequence Countdown triggers fi rst, gain 1d4 Fear, splotlight this environment, and use the \u201CSound the Alarm\u201D feature.",bullets:null,questions:["What is the party going after, and where is it located?","What unexpected obstacles will they encounter?","What happens if the party gets caught?"]},{name:"Saw This Coming",type:"Passive",text:"Once per session, a PC can spend a Hope to explain how they prepared for the current situation and reveal a key piece of information (such as the location of a hidden passage or the password to a restricted area) or produce a helpful item (such as a cultist\u2019s uniform left unattended or a common consumable hidden in their boot).",bullets:null,questions:["What did the PC prepare in advance?","How did they know they\u2019d need it?","What did it cost them to set up, or whom do they owe a favor to?"]},{name:"Exfi ltration",type:"Reaction",text:"When the Progress Countdown triggers, the party acquires the object of the Heist and must succeed on a group action roll to escape without being caught. On a failure, each PC marks a Stress and takes 2d12 direct damage.",bullets:null,questions:["What makes getting out even more dangerous than getting in?","What unforeseen developments stymie the party\u2019s original escape plan?"]},{name:"Sound the Alarm",type:"Reaction",text:"When the Consequence Countdown triggers, the party is discovered and the location enters High Alert. Immediately summon a number of Tier 2 adversaries equal to the number of PCs in the scene and spotlight one. While this environment is on High Alert, all adversaries gain a +1 bonus to their Difficulty.",bullets:null,questions:["What makes these adversaries uniquely suited to guard this location?","What do they know about this place that gives them an edge?"]}]},{id:"VE003",name:"CRYSTAL WASTELAND",tier:3,type:"Traversal",desc:"A harsh and alien landscape that shines with towers of glittering crystal.",impulse:"Cut them to their core, fracture their psyches, show their true refl ection",difficulty:"16",potentialAdversaries:"Adult Flickerfl y, Constructs, Crystal Guardians (Vault Guardians), Elemental Spark, Whisper Wraiths",source:"void",features:[{name:"Harmonic Resonance",type:"Passive",text:"The crystals here reverberate with magical energy. A PC can make a downtime move to try and Attune to the environment with a successful Spellcast Roll. Spellcast Rolls made by an Attuned PC inside the Crystal Wasteland have advantage. A PC clears the condition when they leave the wasteland.",bullets:null,questions:["How does attunement to this place alter your sensory experience of it?","What sound or song from your childhood does this place conjure?"]},{name:"Gravitational Anomalies",type:"Action",text:"Strange, localized phenomena dot the landscape, warping distance and direction. Spend a Fear to alter the gravity at a point of your choice. All targets within Close range of that point must make a Knowledge Reaction Roll to calculate their new trajectories. Targets who fail take 3d8+4 physical damage as they are thrown up and away. Targets who succeed must mark a Stress or take half damage.",bullets:null,questions:["What does it feel like as your body and mind fi ght to re-establish equilibrium?","Is there any way to use this to your advantage?"]},{name:"Arcane Refl ection",type:"Action",cost:"Spend a Fear",text:"to have any number of PCs glimpse a refl ection in the crystal of who they once were or might become. Each target makes a Fate Roll. Targets who succeed see a vision of their better self and can replace one Experience. Targets see a vision of their dark past\u2013or an even darker future\u2013and must mark a Stress, and you gain a fear.",bullets:null,questions:["Who do the PCs see on the other side of the crystal?","How does it make them feel?"]},{name:"Razor-Sharp Terrain",type:"Reaction",text:"When a PC fails a roll to navigate the wasteland, they make a Finesse Reaction Roll. On a failure, they cut themselves on the sharp edges of the terrain. Shards of magic crystal become embedded in their wound and slowly grow, Crystallizing them. Activate a Crystal Countdown (1) for that PC. Until they remove the condition with a successful Knowledge Roll, a Crystallizing PC ticks up their Crystal Countdown at the start of each rest and has a penalty to their Evasion equal to its value. The countdown ends with the condition is cleared.",bullets:null,questions:["What does the crystal look like as it grows?","What does it feel like?"]},{name:"Psychic Shuffl e",type:"Reaction",text:"When the PCs take a long rest, you can spend a Fear to swap their psyches. Collect all the players\u2019 character sheets, then shuffl e and randomly redistribute them. Each character sheet comes with that PC\u2019s Domain cards and player aids. A PC can regain their psyche with a successful Knowledge Roll, at which point they trade sheets with the player who has their original character sheet.",bullets:null,questions:["How does it feel being in someone else\u2019s skin?","If you could choose to stay like them in one way, what would it be?"]}]},{id:"VE004",name:"CONVERGENCE, THE CITY OF PORTALS",tier:4,type:"Social",desc:"A sprawling metropolis at the nexus of creation, where influential fi gures from across the realms gather.",impulse:"Confront tthem with alien customs, dazzle them with infi nite variety, tempt them with the impossible",difficulty:"20",potentialAdversaries:"Power Players (Monarch, Demon Lord Orthrax, Fire Giant Warlord, Arch-Necromancer, High Seraph, Vampire Lord, Oracle of Doom), Travelers and Residents (any)",source:"void",features:[{name:"Impossibilities Abound",type:"Passive",text:"Convergence is a nexus of gods, monsters, aliens, and all manner of dimension-hoppers. Because mortal life is generally beneath these beings\u2019 concern, PCs have disadvantage on action rolls to infl uence them unless they have leverage against them or know what the NPC cares about.",bullets:null,questions:["What manner of being currently holds sway in the city?","What strange customs do they practice?","Which PC is most confused or off ended by them, and which PC adopts these customs as their own?"]},{name:"Into the Multiverse",type:"Passive",text:"The city of Convergence has a portal or door to every plane of existence.",bullets:null,questions:["Where (or when) does the party want to go?","Where is that portal located, and who controls that area?"]},{name:"Everything Everywhere All at Once",type:"Passive",text:"This city has the solution to any problem, if you can fi nd it. A PC seeking a particular item with wondrous properties can make an Instinct or Presence Roll to fi nd it in the city\u2019s pandimensional marketplace.",bullets:["Critical Success: The PC fi nds the perfect item, and the merchant who has it only wants something the PC considers inconsequential in exchange.","Success with Hope: The PC fi nds the perfect item, and can exchange something of equal value for it.","Success with Fear: The PC fi nds the perfect item, but the merchant who has it will only exchange it for something the party can\u2019t give them... yet.","Any Failure: The PC must mark a Stress as they go on a wild goose chase but come up empty-handed. The PC can mark an additional Stress to change this result into a success with Fear."],questions:["Who has the item the party needs?","What do they want in return?"]},{name:"Don\u2019t Make Waves",type:"Passive",text:"Countdown (6). Because anything is possible in Convergence, the city maintains a labyrinthine bureacracy that issues and enforces ordinances regarding all exchanges and interactions between the Realms. When the party arrives in Convergence, start a Countdown (6) that ticks down whenever a PC does something that upsets the city\u2019s delicate political equilibrium. When it triggers, the PCs become Wanted until they clear their names with the authorities. When a Wanted PC rolls with Fear, you can summon 1d4 Temporal Enforcers who appear within Very Close range, immediately take the spotlight, and try to apprehend the party.",bullets:null,questions:["What has the party done (or what do they plan to do) that draws the attention and ire of the Consortium?","How can they fi x the problem they caused?"]},{name:"An Off er You Can\u2019t Refuse",type:"Action",text:"Convergence is home to a tenuous network of rival factions. Spend a Fear to have one of them present the party with an easy solution to a diffi cult problem in exchange for their allegiance. If the party refuses, each PC must mark a Stress and they can\u2019t return to that faction for help in the future.",bullets:null,questions:["Which faction off ers the party their support?","Who do they want the party to act against?"]}]}];var envsablewood_default=[{id:"SE001",name:"BANDIT HIDEOUT",tier:1,type:"Exploration",desc:"A shabby but well-defended hideout nestled among the brambles of the Sablewood.",impulse:"Keep out intruders, take watch, maintain readiness to fight",difficulty:"12",potentialAdversaries:"Jagged Knife Bandits (Bandit, Shadow, Hexer, Sniper, Lieutenant, Lackey, Kneebreaker)",source:"sablewood",features:[{name:"Thorn Fence",type:"Passive",text:"Make an attack against a target within Close range. On a success, deal 1d8+4 physical damage and pull the target into Melee.",bullets:null,questions:["How would the bandits notice the brambles have been disturbed?","How did the wall get there\u2014do they have a druid or ranger among their number?"]},{name:"Patrols",type:"Passive",text:"The bandits post a constant watch, mostly directed outside the camp. Entrance will require stealth (Finesse), deception (Presence), or special information (Knowledge).",bullets:null,questions:["When do they change the watch?","What weapons do they have prepared in case of attack?"]},{name:"Fight Your Way Through",type:"Passive",text:"If the party decides to fight their way through but you want to abstract the battle to save time, call for a Group Action, asking each member of the party how they contribute to the fight, with one PC making the main roll for the group. On a success with Fear, each PC must mark Stress and 1 HP or 1 armor slot. On a failure, each PC must mark 2 Stress and some combination of 2 HP and/or armor slots.",bullets:null,questions:["What defenses do the bandits have to bring to bear?","Does anyone notice the combat or is it over before other bandits take notice?"]},{name:"On The Hunt",type:"Action",cost:"Spend a Fear",text:"to have a pack of 1d4+2 hungry Strixwolves infiltrate the hideout, desperate for food.",bullets:null,questions:["Do the PCs avoid the animals?","Do they try to use them as a distraction or backup?","Do the PCs have food on them that would draw the animals' attention?"]},{name:"Alarm",type:"Reaction",text:"On a failure or success with fear, some of the bandits grow suspicious and more actively patrol. Attempts to pass through the hideout using stealth have disadvantage for the rest of the scene or until the actively patrolling bandits are defeated or distracted by something else.",bullets:null,questions:["How is it clear the bandits are on higher alert?","What additional defense tactics are they preparing?"]}]},{id:"SE002",name:"UNDERROOT TUNNELS",tier:1,type:"Traversal",desc:"Fortified and well-kept tunnels leading to underborne communities within the great forest.",impulse:"Confound travelers, bar passage, connect communities",difficulty:"11",potentialAdversaries:"Acid Burrower, Stonewraith, Jagged Knife Bandits",source:"sablewood",features:[{name:"Hidden Entrance",type:"Passive",text:"The first challenge of the Underroot Tunnels is finding them. PCs must complete a Progress Countdown (3) to find a viable entrance to the tunnels (Instinct and Knowledge are most applicable, though Finesse could be used to search manually for a seam or switch and Presence could be used to gain information from a denizen of the Sablewood).",bullets:null,questions:["How do they camouflage the tunnels so well?","What traps might they leave in the way?"]},{name:"A Series of Passageways, All Alike",type:"Passive",text:"Navigating to a particular location in the tunnels requires a Progress Countdown (4 for most known settlements, 6 for less well-known or more-remote destinations). Potential Challenges include identical passageways, damaged stairwells leading to a lower level, root blockage, flooded tunnel.",bullets:null,questions:["How was this place built to purposefully confuse outsiders?","How are patrols run within the tunnels?"]},{name:"Root Blockage",type:"Action",text:"Reveal that the path ahead has been blocked by the shifting of a great Sablewood tree. The party can dig around the root (Finesse), try to cut through it (Strength), or double back to find another path (Instinct).",bullets:null,questions:["What other obstacles did the Underroot community build their passages around?","What unique approach have they taken to dealing with them?"]},{name:"Toll-Keepers",type:"Action",cost:"Spend a Fear",text:`to introduce a number of Jagged Knife Lackeys equal to the size of the party plus two Jagged Knife Bandits and a Jagged Knife Lieutenant seeking a 'toll' of two handfuls of gold per character for passing through their "protected territory".`,bullets:null,questions:["How do the Underroot folk feel about these toll-keepers?","What else might they be guarding?"]}]},{id:"SE003",name:"THE VILLAGE OF HUSH",tier:1,type:"Social",desc:"A small but friendly village nestled into the heart of the Sablewood.",impulse:"Display hospitality, provide respite from danger",difficulty:"10",potentialAdversaries:"Merchant, Bladed Guards, Strixwolves",source:"sablewood",features:[{name:"Guest Privileges",type:"Passive",text:"Any overnight visitor is taken in by a family and given shelter for three nights. During this time, the guest's needs have priority and they can use anything that belongs to their hosts. After three nights, the visitors must trade families or leave the town.",bullets:null,questions:["Which family takes in the PCs?","What visitor has been abusing guest privileges and what do they want here?"]},{name:"Clover's Tavern",type:"Passive",text:"At the center of the town is a massive six-story tavern built around the trunk of an ancient tree. The tavern is where most of the village gathers in the evening. Here, PCs can learn rumors, meet the villagers, and relax. When they leave, the shoes they put up on the clothing line have minor trinkets inside that reflect how the villagers see them or that provide some minor portent of challenges to come.",bullets:null,questions:["What's the talk of the tavern?","What clues do the trinkets left in the PC's shoes/boots provide?"]},{name:"Preparations",type:"Action",text:"A prominent member of the community approaches the PCs asking for help with unique preparations for the arrival of the town's leaders, the Faceless Six.",bullets:null,questions:["Why are the Faceless Six coming to town?","What preparations must be done that the party is particularly equipped to help with?"]},{name:"Leave it to the Trees",type:"Reaction",cost:"Spend a Fear",text:"when someone abuses guest privileges to summon twelve Young Dryads. They kidnap the culprit and drag them off to face the justice of the Sablewoods.",bullets:null,questions:["Do the villagers notice when this happens?","How do they alert the guardians to these abuses, or do the dryads just know?","What is the origin of the guest privilege custom?"]}]},{id:"SE004",name:"THE OPEN VALE",tier:1,type:"Exploration",desc:"A vast, windswept expanse of rolling grassland and ancient stone monuments.",impulse:"Guard the fallen, rise against trespassers",difficulty:"11",potentialAdversaries:"Ancient Skeletons",source:"sablewood",features:[{name:"Vengeance of the Vale",type:"Action",cost:"Spend a Fear",text:"to summon two additional Ancient Skeletons from the ground within Very Close range of a PC.",bullets:null,questions:null}]}];var ENVIRONMENTS=[...envcore_default,...envvoid_default,...envsablewood_default];var createField=(parent,inputs,label,key,type="input",customClass,savedValues)=>{let wrapper=parent.createDiv({cls:"df-field-row"});wrapper.createEl("label",{text:label,cls:"df-field-label"});let field=type==="input"?wrapper.createEl("input",{cls:["df-field-input",customClass].filter(Boolean)}):wrapper.createEl("textarea",{cls:["df-field-textarea",customClass].filter(Boolean)});return inputs[key]=field,savedValues?.[key]!==void 0&&(field.value=savedValues[key]),field},createShortTripleFields=(parent,inputs,label1,key1,label2,key2,label3,key3,dropdownFieldKey,dropdownOptions,savedValues)=>{let row=parent.createDiv({cls:"df-triple-fields-row"}),createField2=(label,key)=>{let wrapper=row.createDiv({cls:"df-triple-field-item"});if(wrapper.createEl("label",{text:label,cls:"df-field-label"}),dropdownFieldKey===key){let select=wrapper.createEl("select",{cls:"df-field-select"});dropdownOptions?.forEach(opt=>{select.createEl("option",{text:opt,value:opt,cls:"df-select-option"})}),inputs[key]=select,savedValues?.[key]!==void 0&&(select.value=savedValues[key])}else{let input=wrapper.createEl("input",{cls:"df-field-input",attr:{type:"text"}});inputs[key]=input,savedValues?.[key]!==void 0&&(input.value=savedValues[key])}};createField2(label1,key1),createField2(label2,key2),createField2(label3,key3)},createInlineField=(parent,inputs,config)=>{let wrapper=parent.createDiv({cls:"df-inline-field-wrapper"});if(wrapper.createEl("label",{text:config.label,cls:"df-field-label"}),config.type==="select"&&config.options){let select=wrapper.createEl("select",{cls:["df-field-select",config.customClass].filter(Boolean)});return config.options.forEach(opt=>{select.createEl("option",{text:opt,value:opt,cls:"df-select-option"})}),inputs[config.key]=select,config.savedValues?.[config.key]!==void 0?select.value=config.savedValues[config.key]:select.selectedIndex=0,select}else{let input=wrapper.createEl("input",{cls:["df-field-input",config.customClass].filter(Boolean)});return inputs[config.key]=input,config.savedValues?.[config.key]!==void 0&&(input.value=config.savedValues[config.key]),input}};var adversaryCount=1;function getAdversaryCount(){return adversaryCount}function incrementAdversaryCount(difference){adversaryCount+=difference}function decrementAdversaryCount(){adversaryCount>1&&adversaryCount--}function setAdversaryCount(count){count>0&&(adversaryCount=count)}function resetAdversaryCount(){adversaryCount=1}var import_obsidian=require("obsidian");function getActiveViewType(app){if(app.workspace.getActiveViewOfType(import_obsidian.MarkdownView))return"markdown";let view=app.workspace.getMostRecentLeaf()?.view;if(!view)return null;let type=view.getViewType?.();if(type==="canvas"||view.constructor?.name==="CanvasView")return"canvas";let file=view.file;return file?.extension==="canvas"?"canvas":file?.extension==="md"?"markdown":type??null}function isCanvasActive(app){return getActiveViewType(app)==="canvas"}function isMarkdownActive(app){return getActiveViewType(app)==="markdown"}function getActiveCanvas(app){let activeLeaf=app.workspace.activeLeaf;if(activeLeaf?.view){let canvas=activeLeaf.view.canvas;if(canvas)return canvas}let canvasLeaves=app.workspace.getLeavesOfType("canvas");if(canvasLeaves.length>0){let canvas=canvasLeaves[0].view.canvas;if(canvas)return canvas}return null}function createCanvasCard(app,htmlContent,options){let canvas=getActiveCanvas(app);if(!canvas)return!1;try{let viewport=canvas.viewport,defaultX=options?.x??viewport.x+viewport.width/2-200,defaultY=options?.y??viewport.y+viewport.height/2-150,node=canvas.createTextNode({pos:{x:defaultX,y:defaultY},text:htmlContent,size:{width:options?.width??400,height:options?.height??600}});return canvas.requestSave?canvas.requestSave():console.warn("\u26A0 requestSave not available on canvas"),!0}catch(error){return console.error("Error creating canvas card:",error),new import_obsidian.Notice(`Error creating canvas card: ${error.message}`),!1}}function getAvailableCanvasPosition(app){let canvas=getActiveCanvas(app);if(!canvas)return console.warn("No canvas found, returning default position"),{x:0,y:0};try{let centerX=canvas.tx??0,centerY=canvas.ty??0,zoom=canvas.zoom??1,x=centerX-200,y=centerY-300,nodes=canvas.nodes?Array.from(canvas.nodes.values()):[],overlaps=(testX,testY)=>nodes.some(node=>{let nodeX=node.x,nodeY=node.y,nodeWidth=node.width,nodeHeight=node.height;return testX<nodeX+nodeWidth&&testX+400>nodeX&&testY<nodeY+nodeHeight&&testY+600>nodeY}),attempts=0;for(;overlaps(x,y)&&attempts<20;)x+=50,y+=50,attempts++;return{x,y}}catch(error){return console.error("Error calculating position:",error),{x:0,y:0}}}var SearchEngine=class{constructor(items=[]){this.items=[];this.filters={query:"",tier:null,source:null,type:null};this.items=items}setItems(items){this.items=items}setFilters(filters){this.filters={...this.filters,...filters}}getFilters(){return{...this.filters}}clearFilters(){this.filters={query:"",tier:null,source:null,type:null}}search(){return this.items.filter(item=>this.matchesAllFilters(item))}searchWith(filters){let oldFilters=this.filters;this.filters={...this.filters,...filters};let results=this.search();return this.filters=oldFilters,results}matchesAllFilters(item){return this.matchesQuery(item)&&this.matchesTier(item)&&this.matchesSource(item)&&this.matchesType(item)}matchesQuery(item){if(!this.filters.query.trim())return!0;let query=this.filters.query.toLowerCase();return[item.name,item.type,item.desc].filter(Boolean).some(field=>field.toLowerCase().includes(query))}matchesTier(item){return this.filters.tier===null?!0:item.tier===this.filters.tier}matchesSource(item){return this.filters.source?(item.source||"core").toLowerCase()===this.filters.source.toLowerCase():!0}matchesType(item){if(!this.filters.type)return!0;let filterType=this.filters.type.toLowerCase(),itemType=(item.type||"").toLowerCase(),itemDisplayType=(item.displayType||"").toLowerCase();return itemType===filterType||itemDisplayType===filterType}getAvailableOptions(filterName){let options=new Set;return this.items.forEach(item=>{filterName==="tier"&&item.tier!==void 0?options.add(String(item.tier)):filterName==="source"?options.add(item.source||"core"):filterName==="type"&&(item.type&&options.add(item.type),item.displayType&&options.add(item.displayType))}),Array.from(options).filter(opt=>opt!=="").sort()}getResultCount(){return this.search().length}getCountWith(filters){return this.searchWith(filters).length}};var SearchControlsUI=class{constructor(config={}){this.container=null;this.config={placeholderText:"Search by name...",showTypeFilter:!1,availableTiers:[],availableSources:[],availableTypes:[],...config}}create(parentContainer){this.container=parentContainer.createDiv({cls:"df-search-controls"});let searchRow=this.container.createDiv({cls:"df-search-row"});this.createSearchInput(searchRow);let filterRow=this.container.createDiv({cls:"df-filter-row"});return this.createTierFilter(filterRow),this.createSourceFilter(filterRow),this.config.showTypeFilter&&this.createTypeFilter(filterRow),this.createClearButton(filterRow),this.container}createSearchInput(container){let input=container.createEl("input",{attr:{type:"text",placeholder:this.config.placeholderText||""},cls:"df-search-input"});return this.config.onSearchChange&&input.addEventListener("input",()=>{this.config.onSearchChange?.(input.value)}),input}createTierFilter(container){let wrapper=container.createDiv({cls:"df-filter-wrapper"});wrapper.createEl("label",{cls:"df-filter-label"});let select=wrapper.createEl("select",{cls:"df-tier-filter"}),allOption=document.createElement("option");return allOption.value="",allOption.textContent="All Tiers",select.appendChild(allOption),this.config.availableTiers&&this.config.availableTiers.forEach(tier=>{let option=document.createElement("option");option.value=String(tier),option.textContent=`Tier ${tier}`,select.appendChild(option)}),this.config.onTierChange&&select.addEventListener("change",()=>{let value=select.value?parseInt(select.value,10):null;this.config.onTierChange?.(value)}),select}createSourceFilter(container){let wrapper=container.createDiv({cls:"df-filter-wrapper"});wrapper.createEl("label",{cls:"df-filter-label"});let select=wrapper.createEl("select",{cls:"df-source-filter"}),allOption=document.createElement("option");return allOption.value="",allOption.textContent="All Sources",select.appendChild(allOption),this.config.availableSources&&this.config.availableSources.length>0&&this.config.availableSources.forEach(source=>{let option=document.createElement("option");option.value=source;let label=source.charAt(0).toUpperCase()+source.slice(1);option.textContent=label,select.appendChild(option)}),this.config.onSourceChange&&select.addEventListener("change",()=>{let value=select.value||null;this.config.onSourceChange?.(value)}),select}createTypeFilter(container){let wrapper=container.createDiv({cls:"df-filter-wrapper"});wrapper.createEl("label",{cls:"df-filter-label"});let select=wrapper.createEl("select",{cls:"df-type-filter"}),allOption=document.createElement("option");return allOption.value="",allOption.textContent="All Types",select.appendChild(allOption),this.config.availableTypes&&this.config.availableTypes.length>0&&this.config.availableTypes.forEach(type=>{let option=document.createElement("option");option.value=type,option.textContent=type,select.appendChild(option)}),this.config.onTypeChange&&select.addEventListener("change",()=>{let value=select.value||null;this.config.onTypeChange?.(value)}),select}createClearButton(container){let button=container.createEl("button",{text:"Clear",cls:"df-clear-filters-btn"});return button.addEventListener("click",()=>{this.container?.querySelectorAll("input, select")?.forEach(el=>{(el instanceof HTMLInputElement||el instanceof HTMLSelectElement)&&(el.value="")}),this.config.onSearchChange?.(""),this.config.onTierChange?.(null),this.config.onSourceChange?.(null),this.config.onTypeChange?.(null),this.config.onClear?.()}),button}restoreFiltersUI(filters){let selects=this.container?.querySelectorAll("select");if(!selects)return;selects.forEach(select=>{select.classList.contains("df-tier-filter")?select.value=filters.tier?String(filters.tier):"":select.classList.contains("df-source-filter")?select.value=filters.source||"":select.classList.contains("df-type-filter")&&(select.value=filters.type||"")});let searchInput=this.container?.querySelector(".df-search-input");searchInput&&(searchInput.value=filters.query||"")}updateAvailableOptions(filterName,options){filterName==="tiers"?this.config.availableTiers=options:filterName==="sources"?this.config.availableSources=options:filterName==="types"&&(this.config.availableTypes=options)}};function generateAdvUniqueId(){let timestamp=Date.now(),random=Math.random().toString(36).substring(2,10);return`CUA_${timestamp}_${random}`}function generateEnvUniqueId(){let timestamp=Date.now(),random=Math.random().toString(36).substring(2,10);return`CUE_${timestamp}_${random}`}var DataManager=class{constructor(plugin){this.data={version:"2.0",adversaries:[],environments:[],lastUpdated:Date.now()};this.plugin=plugin}async load(){try{let saved=await this.plugin.loadData();if(!saved)return;this.data={...this.data,...saved};let allAdversaries=[],allEnvironments=[];Array.isArray(saved.custom_Adversaries)&&allAdversaries.push(...saved.custom_Adversaries),Array.isArray(saved.incredible_Adversaries)&&allAdversaries.push(...saved.incredible_Adversaries),Array.isArray(saved.custom_Broskies)&&allAdversaries.push(...saved.custom_Broskies.map(a=>({...a,source:"broskies"}))),Array.isArray(saved.custom_Environments)&&allEnvironments.push(...saved.custom_Environments),Array.isArray(saved.incredible_Environments)&&allEnvironments.push(...saved.incredible_Environments),allAdversaries.length>0&&this.data.adversaries.push(...allAdversaries),allEnvironments.length>0&&this.data.environments.push(...allEnvironments),delete this.data.custom_Adversaries,delete this.data.incredible_Adversaries,delete this.data.custom_Environments,delete this.data.incredible_Environments,delete this.data.custom_Broskies,this.ensureAdversariesHaveIds(),this.ensureEnvironmentsHaveIds(),await this.save()}catch(err){console.error("DataManager: Error loading data",err)}}async save(){this.data.lastUpdated=Date.now(),await this.plugin.saveData(this.data)}async addAdversary(adversary){adversary.id||(adversary.id=generateAdvUniqueId()),this.data.adversaries.push(adversary),await this.save()}getAdversaries(){return this.data.adversaries}getAdversariesBySource(source){return this.data.adversaries.filter(a=>a.source?.toLowerCase()===source.toLowerCase())}async updateAdversary(index,adversary){index<0||index>=this.data.adversaries.length||(this.data.adversaries[index]=adversary,await this.save())}async deleteAdversaryById(id){let index=this.data.adversaries.findIndex(a=>a.id===id);if(index===-1)throw new Error(`Adversary with ID ${id} not found`);this.data.adversaries.splice(index,1),await this.save()}searchAdversaries(query){return this.data.adversaries.filter(a=>a.name.toLowerCase().includes(query.toLowerCase()))}async addEnvironment(env){env.id||(env.id=generateEnvUniqueId()),this.data.environments.push(env),await this.save()}getEnvironments(){return this.data.environments}getEnvironmentsBySource(source){return this.data.environments.filter(e=>e.source?.toLowerCase()===source.toLowerCase())}async updateEnvironment(index,env){index<0||index>=this.data.environments.length||(this.data.environments[index]=env,await this.save())}async deleteEnvironmentById(id){let index=this.data.environments.findIndex(e=>e.id===id);if(index===-1)throw new Error(`Environment with ID ${id} not found`);this.data.environments.splice(index,1),await this.save()}searchEnvironments(query){return this.data.environments.filter(e=>e.name.toLowerCase().includes(query.toLowerCase()))}ensureAdversariesHaveIds(){this.data.adversaries=this.data.adversaries.map(adv=>({...adv,id:adv.id||generateAdvUniqueId()}))}ensureEnvironmentsHaveIds(){this.data.environments=this.data.environments.map(env=>({...env,id:env.id||generateEnvUniqueId()}))}async exportData(){return JSON.stringify(this.data,null,2)}async importData(jsonString){let imported=JSON.parse(jsonString),newAdversaries=[...imported.adversaries??[],...imported.custom_Adversaries??[],...imported.incredible_Adversaries??[],...(imported.custom_Broskies??[]).map(a=>({...a,source:"broskies"}))],newEnvironments=[...imported.environments??[],...imported.custom_Environments??[],...imported.incredible_Environments??[]];this.data.adversaries.push(...newAdversaries),this.data.environments.push(...newEnvironments),this.ensureAdversariesHaveIds(),this.ensureEnvironmentsHaveIds(),await this.save()}async clearAllData(){this.data={version:"2.0",adversaries:[],environments:[],lastUpdated:Date.now()},await this.save()}async deleteDataFile(){try{this.data={version:"2.0",adversaries:[],environments:[],lastUpdated:Date.now()},await this.plugin.saveData(null)}catch(err){throw console.error("DataManager: Error deleting data.json file",err),err}}getStatistics(){let advBySource=this.groupBySource(this.data.adversaries),envBySource=this.groupBySource(this.data.environments);return{totalAdversaries:this.data.adversaries.length,adversariesBySource:advBySource,totalEnvironments:this.data.environments.length,environmentsBySource:envBySource,lastUpdated:new Date(this.data.lastUpdated).toLocaleString(),version:this.data.version}}groupBySource(list){return list.reduce((acc,item)=>{let src=item.source||"unknown";return acc[src]=(acc[src]||0)+1,acc},{})}};var import_obsidian3=require("obsidian");var ADVERSARY_VIEW_TYPE="adversary-view",AdversaryView=class extends import_obsidian3.ItemView{constructor(leaf){super(leaf);this.adversaries=[];this.lastActiveMarkdown=null;this.searchEngine=new SearchEngine;this.searchControlsUI=null;this.resultsDiv=null}getViewType(){return ADVERSARY_VIEW_TYPE}getDisplayText(){return"Adversary Browser"}getIcon(){return"venetian-mask"}async deleteCustomAdversary(adversary){try{let plugin=this.app.plugins?.plugins?.daggerforge;if(!plugin||!plugin.dataManager){new import_obsidian3.Notice("DaggerForge plugin not found.");return}let adversaryId=adversary.id;if(!adversaryId){new import_obsidian3.Notice("Cannot delete adversary: missing ID.");return}await plugin.dataManager.deleteAdversaryById(adversaryId),new import_obsidian3.Notice(`Deleted adversary: ${adversary.name}`),this.refresh()}catch(error){console.error("Error deleting custom adversary:",error),new import_obsidian3.Notice("Failed to delete adversary.")}}async onOpen(){this.initializeView(),this.registerEventListeners(),this.loadAdversaryData()}async refresh(){let currentFilters=this.searchEngine.getFilters();this.loadAdversaryData(),this.searchEngine.setFilters(currentFilters),this.renderResults(this.searchEngine.search())}initializeView(){let container=this.containerEl.children[1];container.empty(),container.createEl("h2",{text:"Adversary Browser",cls:"df-adv-title"});let counterContainer=container.createDiv({cls:"df-adversary-counter-container"});this.createCounterControls(counterContainer),this.searchControlsUI=new SearchControlsUI({placeholderText:"Search by name, type, or description...",showTypeFilter:!0,availableTiers:[1,2,3,4],availableSources:["core","sablewood","umbra","void","custom"],availableTypes:["Bruiser","Horde","Leader","Minion","Ranged","Skulk","Social","Solo","Standard","Support","Leader (Umbra-Touched)","Minion (Umbra-Touched)","Solo (Umbra-Touched)"],onSearchChange:query=>this.handleSearchChange(query),onTierChange:tier=>this.handleTierChange(tier),onSourceChange:source=>this.handleSourceChange(source),onTypeChange:type=>this.handleTypeChange(type),onClear:()=>this.handleClearFilters()}),this.searchControlsUI.create(container),this.resultsDiv=container.createEl("div",{cls:"df-adversary-results"})}registerEventListeners(){this.registerEvent(this.app.workspace.on("active-leaf-change",leaf=>{let view=leaf?.view;view instanceof import_obsidian3.MarkdownView&&(this.lastActiveMarkdown=view)}))}normalizeAdversary(a){let raw=a,fullType=raw.type||raw.Type||"",baseType=this.extractBaseType(fullType);return{id:raw.id||generateAdvUniqueId(),name:raw.name||raw.Name||"",type:baseType,displayType:fullType!==baseType?fullType:void 0,tier:typeof(raw.tier||raw.Tier)=="string"?parseInt(raw.tier||raw.Tier,10):raw.tier||raw.Tier||1,desc:raw.desc||raw.Desc||"",motives:raw.motives||raw.Motives||"",difficulty:raw.difficulty||raw.Difficulty||"",thresholdMajor:raw.thresholdMajor||(raw.Thresholds?raw.Thresholds.split("/")[0]:"")||"",thresholdSevere:raw.thresholdSevere||(raw.Thresholds?raw.Thresholds.split("/")[1]:"")||"",hp:raw.hp||raw.HP||"",stress:raw.stress||raw.Stress,atk:raw.atk||raw.ATK||"",weaponName:raw.weaponName||raw.WeaponName||"",weaponRange:raw.weaponRange||raw.WeaponRange||"",weaponDamage:raw.weaponDamage||raw.WeaponDamage||"",xp:raw.xp||raw.XP||"",features:raw.features||raw.Features||[],source:raw.source||raw.Source||"core",isCustom:raw.isCustom||!1}}extractBaseType(fullType){let match=fullType.match(/^([^(]+)/);return match?match[1].trim():fullType}loadCustomAdversaries(){try{let plugin=this.app.plugins?.plugins?.daggerforge;return!plugin||!plugin.dataManager?(console.warn("DaggerForge plugin or dataManager not found"),[]):plugin.dataManager.getAdversaries().map(adv=>{let fullType=adv.type||"",baseType=this.extractBaseType(fullType);return{...adv,id:adv.id||generateAdvUniqueId(),type:baseType,displayType:fullType!==baseType?fullType:void 0,tier:typeof adv.tier=="string"?parseInt(adv.tier,10):adv.tier,isCustom:!0,source:adv.source||"custom"}})}catch(error){return console.error("Error loading custom adversaries from DataManager:",error),[]}}loadAdversaryData(){try{let builtInAdversaries=ADVERSARIES.map(a=>this.normalizeAdversary(a)),custom=this.loadCustomAdversaries();if(this.adversaries=[...builtInAdversaries,...custom],this.adversaries=this.adversaries.map(adv=>({...adv,tier:typeof adv.tier=="string"?parseInt(adv.tier,10):adv.tier})),this.searchEngine.setItems(this.adversaries),this.searchControlsUI){let sources=this.searchEngine.getAvailableOptions("source"),types=this.searchEngine.getAvailableOptions("type"),tiers=this.searchEngine.getAvailableOptions("tier").map(t=>parseInt(t,10)).sort((a,b)=>a-b);this.searchControlsUI.updateAvailableOptions("sources",sources),this.searchControlsUI.updateAvailableOptions("types",types),this.searchControlsUI.updateAvailableOptions("tiers",tiers)}this.renderResults(this.adversaries)}catch(e){console.error("Error loading adversary data:",e),new import_obsidian3.Notice("Failed to load adversary data."),this.resultsDiv&&this.resultsDiv.setText("Error loading adversary data.")}}handleSearchChange(query){this.searchEngine.setFilters({query}),this.renderResults(this.searchEngine.search())}handleTierChange(tier){this.searchEngine.setFilters({tier}),this.renderResults(this.searchEngine.search())}handleSourceChange(source){this.searchEngine.setFilters({source}),this.renderResults(this.searchEngine.search())}handleTypeChange(type){this.searchEngine.setFilters({type}),this.renderResults(this.searchEngine.search())}handleClearFilters(){resetAdversaryCount(),this.containerEl.querySelectorAll(".count-input").forEach(input=>{input instanceof HTMLInputElement&&(input.value="1")})}createCounterControls(container){let minusBtn=container.createEl("button",{text:"-",cls:"df-adversary-counter-btn"}),counterInput=container.createEl("input",{attr:{type:"number",min:"1",value:getAdversaryCount().toString(),placeholder:"Count"},cls:"df-inline-input count-input"}),plusBtn=container.createEl("button",{text:"+",cls:"df-adversary-counter-btn"});minusBtn.onclick=()=>{decrementAdversaryCount(),counterInput.value=getAdversaryCount().toString()},plusBtn.onclick=()=>{incrementAdversaryCount(1),counterInput.value=getAdversaryCount().toString()},counterInput.addEventListener("focus",()=>{counterInput.select()}),counterInput.addEventListener("input",()=>{if(counterInput.value===""||counterInput.value==="-")return;let value=parseInt(counterInput.value,10);(isNaN(value)||value<1)&&(value=1),setAdversaryCount(value)}),counterInput.addEventListener("blur",()=>{let value=parseInt(counterInput.value,10);(isNaN(value)||value<1)&&(value=1),counterInput.value=value.toString()})}renderResults(adversaries){if(this.resultsDiv){if(this.resultsDiv.empty(),adversaries.length===0){this.resultsDiv.setText("No adversaries found.");return}adversaries.forEach(adversary=>{let card=this.createAdversaryCard(adversary);this.resultsDiv.appendChild(card)})}}createAdversaryCard(adversary){let card=document.createElement("div");card.classList.add("df-adversary-card");let source=adversary.source||"core";card.classList.add(`df-source-${source.toLowerCase()}`);let tier=document.createElement("p");tier.classList.add("df-tier-text");let typeDisplay=adversary.displayType||adversary.type,sourceBadge=document.createElement("span");if(sourceBadge.classList.add(`df-source-badge-${source.toLowerCase()}`),sourceBadge.textContent=`${source.toLowerCase()}`,tier.textContent=`Tier ${adversary.tier} ${typeDisplay} `,tier.appendChild(sourceBadge),card.appendChild(tier),source.toLowerCase()==="custom"){let deleteBtn=document.createElement("button");deleteBtn.classList.add("df-adv-delete-btn"),(0,import_obsidian3.setIcon)(deleteBtn,"trash"),deleteBtn.addEventListener("click",e=>{e.stopPropagation(),this.deleteCustomAdversary(adversary)}),card.appendChild(deleteBtn)}let title=document.createElement("h3");title.classList.add("df-title-small-padding"),title.textContent=adversary.name||"Unnamed Adversary",card.appendChild(title);let desc=document.createElement("p");return desc.classList.add("df-desc-small-padding"),desc.textContent=adversary.desc||"No description available.",card.appendChild(desc),card.addEventListener("click",()=>this.insertAdversaryIntoNote(adversary)),card}insertAdversaryIntoNote(adversary){if(isCanvasActive(this.app)){let adversaryText2=this.generateAdversaryMarkdown(adversary),position=getAvailableCanvasPosition(this.app);createCanvasCard(this.app,adversaryText2,{x:position.x,y:position.y,width:400,height:600}),new import_obsidian3.Notice(`Inserted adversary ${adversary.name}.`);return}let view=this.app.workspace.getActiveViewOfType(import_obsidian3.MarkdownView)||this.lastActiveMarkdown;if(!view){new import_obsidian3.Notice("No note or canvas is open. Click on a note to activate it.");return}if(view.getMode()!=="source"){new import_obsidian3.Notice("You must be in edit mode to insert the adversary card.");return}let editor=view.editor;if(!editor){new import_obsidian3.Notice("Cannot find editor in markdown view.");return}let adversaryText=this.generateAdversaryMarkdown(adversary);editor.replaceSelection(adversaryText),new import_obsidian3.Notice(`Inserted ${adversary.name}.`)}generateAdversaryMarkdown(adversary){let currentCount=getAdversaryCount();return buildCardHTML({name:adversary.name,tier:String(adversary.tier),type:adversary.displayType||adversary.type,desc:adversary.desc,motives:adversary.motives,difficulty:adversary.difficulty,thresholdMajor:adversary.thresholdMajor,thresholdSevere:adversary.thresholdSevere,hp:String(adversary.hp),stress:String(adversary.stress??0),atk:adversary.atk,weaponName:adversary.weaponName,weaponRange:adversary.weaponRange,weaponDamage:adversary.weaponDamage,xp:String(adversary.xp),count:String(currentCount),source:adversary.source||"core"},adversary.features.map(f=>({...f,cost:f.cost||""})))}};var buildCardHTML=(values,features)=>{let{name,tier,type,desc,motives,difficulty,thresholdMajor,thresholdSevere,hp,stress,atk,weaponName,weaponRange,weaponDamage,xp,count,source}=values,hptick=Number(hp)||0,stresstick=Number(stress)||0,countNum=Number(count);countNum=Number.isInteger(countNum)&&countNum>=1?countNum:1;let hpStressRepeat=Array.from({length:countNum},(_,index)=>{let hpTickboxes=Array.from({length:hptick},()=>`
            <input type="checkbox" class="df-hp-tickbox" />
        `).join(""),stressTickboxes=Array.from({length:stresstick},()=>`
            <input type="checkbox" class="df-stress-tickbox" />
        `).join("");return`
            <div class="df-hp-tickboxes">
                <span class="df-hp-stress">HP</span>${hpTickboxes}
                <span class="df-adversary-count">${index+1}</span>
            </div>
            <div class="df-stress-tickboxes">
                <span class="df-hp-stress">Stress</span>${stressTickboxes}
            </div>
        `}).join(""),stressBlock=stress?`Stress: <span class="df-stat">${stress}</span>`:"",sourceBadge=source?`<span class="df-source-badge-${source.toLowerCase()}">${source.toLowerCase()}</span>`:'<span class="df-source-badge-custom">custom</span>',featuresHTML=features.map(f=>`
        <div class="df-feature">
            <span class="df-feature-title">
                ${f.name} - ${f.type}${f.cost?`: ${f.cost}`:":"}
            </span>
            <span class="df-feature-desc">${f.desc}</span>
        </div>`).join("");return`
<section id="custom" class="df-card-outer df-pseudo-cut-corners outer" data-weapon-range="${weaponRange||""}" data-type="${(type||"").split("(")[0].trim()}" data-count="${count||"1"}">
    <div class="df-card-inner df-pseudo-cut-corners inner">
		<button class="df-adv-edit-button" data-edit-mode-only="true" data-tooltip="duplicate & edit" aria-label="duplicate & edit">\u{1F4DD}</button>
        ${hpStressRepeat}
        <h2>${name}</h2>
        <div class="df-subtitle">Tier ${tier} ${type} ${sourceBadge}</div>
        <div class="df-desc">${desc}</div>
        <div class="df-motives">Motives & Tactics:
            <span class="df-motives-desc">${motives}</span>
        </div>
        <div class="df-stats">
            Difficulty: <span class="df-stat">${difficulty} |</span>
            Thresholds: <span class="df-stat">${thresholdMajor}/${thresholdSevere} |</span>
            HP: <span class="df-stat">${hp} |</span>
            ${stressBlock}
            <br>ATK: <span class="df-stat">${atk} |</span>
            ${weaponName}: <span class="df-stat">${weaponRange} | ${weaponDamage}</span><br>
            <div class="df-experience-line">Experience: <span class="df-stat">${xp}</span></div>
        </div>
        <div class="df-section">FEATURES</div>
        ${featuresHTML}
    </div>
</section>
`.trim()};var addFeature=(featureContainer,features,setValueIfSaved,savedFeature)=>{let wrapper=featureContainer.createDiv({cls:"df-feature-block"}),row=wrapper.createDiv({cls:"df-feature-row"}),nameEl=row.createEl("input",{cls:"df-input-feature-name",placeholder:"Feature Name"});setValueIfSaved("featureName",nameEl);let typeEl=row.createEl("select",{cls:"df-field-feature-type"});["Action","Reaction","Passive"].forEach(type=>{typeEl.createEl("option",{text:type,value:type,cls:"df-tier-option"})}),setValueIfSaved("featureType",typeEl);let costEl=row.createEl("select",{cls:"df-input-feature-cost"});["","Mark a Stress","Spend a Fear"].forEach(opt=>{costEl.createEl("option",{text:opt===""?"none":opt,value:opt,cls:"df-tier-option"})}),setValueIfSaved("featureCost",costEl);let descEl=wrapper.createEl("textarea",{cls:"df-feature-desc-input",placeholder:"Feature Description"});setValueIfSaved("featureDesc",descEl);let removeBtn=wrapper.createEl("button",{text:"Remove",cls:"df-remove-feature-btn"});removeBtn.onclick=()=>{let index=features.findIndex(f=>f.nameEl===nameEl);index!==-1&&(features.splice(index,1),wrapper.remove())},features.push({nameEl,typeEl,costEl,descEl})},getFeatureValues=features=>features.map(({nameEl,typeEl,costEl,descEl})=>({name:nameEl.value.trim(),type:typeEl.value.trim(),cost:costEl.value.trim(),desc:descEl.value.trim()})).filter(f=>f.name);var import_obsidian4=require("obsidian");async function buildCustomAdversary(plugin,values,features){let customAdversary={id:values.id||"",name:values.name||"",tier:values.tier||"",type:values.type||"",desc:values.desc||"",motives:values.motives||"",difficulty:values.difficulty||"",thresholdMajor:values.thresholdMajor||"",thresholdSevere:values.thresholdSevere||"",hp:values.hp||"",stress:values.stress||"",atk:values.atk||"",weaponName:values.weaponName||"",weaponRange:values.weaponRange||"",weaponDamage:values.weaponDamage||"",xp:values.xp||"",source:"custom",features:features.map(f=>({name:f.name||"",type:f.type||"",cost:f.cost||"",desc:f.desc||""}))};try{return await plugin.dataManager.addAdversary(customAdversary),new import_obsidian4.Notice(`Custom adversary "${customAdversary.name}" saved successfully!`),customAdversary}catch(error){return console.error("Error saving custom adversary:",error),new import_obsidian4.Notice("Failed to save custom adversary. Check console for details."),null}}var TextInputModal=class extends import_obsidian4.Modal{constructor(plugin,editor,cardElement,cardData){super(plugin.app);this.inputs={};this.features=[];this.savedInputStateAdv={};this.isEditMode=!1;this.plugin=plugin,this.editor=editor,this.cardElement=cardElement,this.isEditMode=!!cardElement,cardElement&&cardData&&(this.savedInputStateAdv={...cardData,features:cardData.features?.map(f=>({featureName:f.name||f.featureName,featureType:f.type||f.featureType,featureCost:f.cost||f.featureCost,featureDesc:f.desc||f.featureDesc}))||[]})}onOpen(){let saved=this.isEditMode?this.savedInputStateAdv:this.plugin.savedInputStateAdv||{},{contentEl}=this,setValueIfSaved=(key,el)=>{saved[key]!==void 0&&(el.value=saved[key])};contentEl.empty();let title=this.cardElement?"Edit adversary":"Create adversary";contentEl.createEl("h2",{text:title,cls:"df-modal-title"});let basicInfoSection=contentEl.createDiv({cls:"df-adv-form-section"});basicInfoSection.createEl("h3",{text:"Basic information",cls:"df-section-title"});let firstRow=basicInfoSection.createDiv({cls:"df-adv-form-row"});createInlineField(firstRow,this.inputs,{label:"Name",key:"name",type:"input",savedValues:saved,customClass:"df-adv-field-name"}),createInlineField(firstRow,this.inputs,{label:"Tier",key:"tier",type:"select",options:["1","2","3","4"],savedValues:saved,customClass:"df-adv-field-tier"}),createInlineField(firstRow,this.inputs,{label:"Type",key:"type",type:"select",options:["Bruiser","Horde","Leader","Minion","Ranged","Skulk","Social","Solo","Standard","Support","Leader (Umbra-Touched)","Minion (Umbra-Touched)","Solo (Umbra-Touched)"],savedValues:saved,customClass:"df-adv-field-type"});let detailsSection=basicInfoSection.createDiv({cls:"df-adv-form-section-content"});createField(detailsSection,this.inputs,"Description","desc","textarea","df-adv-field-desc",saved),createField(detailsSection,this.inputs,"Motives","motives","input","df-adv-field-motives",saved);let statsSection=contentEl.createDiv({cls:"df-adv-form-section"});statsSection.createEl("h3",{text:"Statistics",cls:"df-section-title"}),createShortTripleFields(statsSection,this.inputs,"Difficulty","difficulty","Major","thresholdMajor","Severe","thresholdSevere",void 0,void 0,saved),createShortTripleFields(statsSection,this.inputs,"HP","hp","Stress (optional)","stress","ATK Mod","atk",void 0,void 0,saved);let weaponSection=contentEl.createDiv({cls:"df-adv-form-section"});weaponSection.createEl("h3",{text:"Weapon",cls:"df-section-title"}),createShortTripleFields(weaponSection,this.inputs,"Name","weaponName","Range","weaponRange","Damage","weaponDamage","weaponRange",["Melee","Very Close","Close","Far","Very Far"],saved),createField(weaponSection,this.inputs,"Experience (optional)","xp","input","df-adv-field-xp",saved);let countRow=weaponSection.createDiv({cls:"df-adv-form-row-weapon"});createInlineField(countRow,this.inputs,{label:"Count",key:"count",type:"input",savedValues:saved,customClass:"df-adv-field-count"}),saved.count||(this.inputs.count.value="1");let featuresSection=contentEl.createDiv({cls:"df-adv-form-section"});featuresSection.createEl("h3",{text:"Features",cls:"df-section-title"}),this.featureContainer=featuresSection.createDiv({cls:"df-adv-feature-container"}),this.features=[],this.featureContainer.empty(),Array.isArray(saved.features)&&saved.features.length>0?saved.features.forEach(data=>{addFeature(this.featureContainer,this.features,(key,el)=>{data[key]!==void 0&&(el.value=data[key])})}):addFeature(this.featureContainer,this.features,setValueIfSaved),this.addFeatureBtn=featuresSection.createEl("button",{text:"+ Add feature",cls:"df-adv-btn-add-feature"}),this.addFeatureBtn.onclick=()=>addFeature(this.featureContainer,this.features,setValueIfSaved);let buttonContainer=contentEl.createDiv({cls:"df-adv-form-buttons"});this.insertBtn=buttonContainer.createEl("button",{text:this.cardElement?"Update card":"Insert card",cls:"df-adv-btn-insert"}),this.insertBtn.onclick=async()=>{let values=Object.fromEntries(Object.entries(this.inputs).map(([key,el])=>[key,el.value.trim()])),features=getFeatureValues(this.features),newHTML=buildCardHTML(values,features);if(this.onSubmit){let newData={id:values.id||"",name:values.name||"",tier:values.tier||"",type:values.type||"",desc:values.desc||"",motives:values.motives||"",difficulty:values.difficulty||"",thresholdMajor:values.thresholdMajor||"",thresholdSevere:values.thresholdSevere||"",hp:values.hp||"",stress:values.stress||"",atk:values.atk||"",weaponName:values.weaponName||"",weaponRange:values.weaponRange||"",weaponDamage:values.weaponDamage||"",xp:values.xp||"",source:"custom",features:features.map(f=>({name:f.name||"",type:f.type||"",cost:f.cost||"",desc:f.desc||""}))};this.onSubmit(newHTML,newData),this.close();return}await buildCustomAdversary(this.plugin,values,features);let isCanvas=isCanvasActive(this.app),isMarkdown=isMarkdownActive(this.app);if(isCanvas){let position=getAvailableCanvasPosition(this.plugin.app),success=createCanvasCard(this.plugin.app,newHTML,{x:position.x,y:position.y,width:400,height:600})}else isMarkdown&&this.editor.replaceSelection(newHTML+`
`);for(let el of Object.values(this.inputs))el instanceof HTMLInputElement||el instanceof HTMLTextAreaElement?el.value="":el instanceof HTMLSelectElement&&(el.selectedIndex=0);this.features.forEach(({nameEl,typeEl,costEl,descEl})=>{nameEl.value="",typeEl.selectedIndex=0,costEl.selectedIndex=0,descEl.value=""}),this.plugin.savedInputStateAdv={},this.features=[],this.featureContainer.empty();let advView=this.plugin.app.workspace.getLeavesOfType("adversary-view").map(l=>l.view).find(v=>typeof v.refresh=="function");advView&&await advView.refresh(),this.close()}}onClose(){if(this.isEditMode){this.savedInputStateAdv={},this.features=[];return}this.plugin.savedInputStateAdv={};for(let[key,el]of Object.entries(this.inputs)){let value=el.value;this.plugin.savedInputStateAdv[key]=value}this.plugin.savedInputStateAdv.features=this.features.map(({nameEl,typeEl,costEl,descEl})=>({featureName:nameEl.value,featureType:typeEl.value,featureCost:costEl.value,featureDesc:descEl.value}))}};var import_obsidian5=require("obsidian");function extractCardData(cardElement){let statsText=cardElement.querySelector(".df-stats")?.textContent||"",weaponRange=cardElement.getAttribute("data-weapon-range")||"",type=cardElement.getAttribute("data-type")||"",adversaryCount2=cardElement.querySelectorAll(".df-hp-tickboxes").length,count=adversaryCount2>0?adversaryCount2.toString():"1";return{id:cardElement.getAttribute("data-id")||"",name:cardElement.querySelector("h2")?.textContent?.trim()||"",tier:cardElement.querySelector(".df-subtitle")?.textContent?.match(/Tier (\d+)/)?.[1]?.trim()||"1",type:type||cardElement.querySelector(".df-subtitle")?.textContent?.split(/\s+/)[3]?.trim()||"Standard",desc:cardElement.querySelector(".df-desc")?.textContent?.trim()||"",motives:cardElement.querySelector(".df-motives-desc")?.textContent?.trim()||"",difficulty:statsText.match(/Difficulty: ([^|]+)/)?.[1]?.trim()||"",thresholdMajor:statsText.match(/Thresholds: ([^/]+)/)?.[1]?.trim()||"",thresholdSevere:statsText.match(/Thresholds: [^/]+\/([^|]+)/)?.[1]?.trim()||"",hp:statsText.match(/HP: ([^|]+)/)?.[1]?.trim()||"",stress:statsText.match(/Stress: ([^|A]+|A(?!TK:))/)?.[1]?.trim()||"",atk:statsText.match(/ATK: ([^|]+)/)?.[1]?.trim()||"",weaponName:(()=>{let match=statsText.match(/ATK[:\s]*[^|]*\|\s*([^:]+):/);return match?match[1].trim():""})(),weaponRange,weaponDamage:(()=>{let parts=statsText.split("|");return(parts[parts.length-1]||"").replace(/Experience:.*/i,"").trim()})(),xp:cardElement.querySelector(".df-experience-line")?.textContent?.replace("Experience:","")?.trim()||"",count,features:Array.from(cardElement.querySelectorAll(".df-feature")).map(feat=>({name:feat.querySelector(".df-feature-title")?.textContent?.split(" - ")[0]?.trim()||"",type:feat.querySelector(".df-feature-title")?.textContent?.split(" - ")[1]?.split(":")[0]?.trim()||"",cost:feat.querySelector(".df-feature-title")?.textContent?.includes(":")&&feat.querySelector(".df-feature-title")?.textContent?.split(":")[1]?.trim()||"",desc:feat.querySelector(".df-feature-desc")?.textContent?.trim()||""}))}}var import_obsidian6=require("obsidian");var ENVIRONMENT_VIEW_TYPE="environment-view",EnvironmentView=class extends import_obsidian6.ItemView{constructor(leaf){super(leaf);this.environments=[];this.lastActiveMarkdown=null;this.searchEngine=new SearchEngine;this.searchControlsUI=null;this.resultsDiv=null}getViewType(){return ENVIRONMENT_VIEW_TYPE}getDisplayText(){return"Environment Browser"}getIcon(){return"mountain"}refresh(){let currentFilters=this.searchEngine.getFilters();this.loadEnvironmentData(),this.searchEngine.setFilters(currentFilters),this.renderResults(this.searchEngine.search())}initializeView(){let container=this.containerEl.children[1];container.empty(),container.createEl("h2",{text:"Environment Browser",cls:"df-env-title"}),this.searchControlsUI=new SearchControlsUI({placeholderText:"Search by name, type, or description...",showTypeFilter:!0,availableTiers:[1,2,3,4],availableSources:["core","sablewood","void","custom"],availableTypes:["Social","Exploration","Event","Traversal"],onSearchChange:query=>this.handleSearchChange(query),onTierChange:tier=>this.handleTierChange(tier),onSourceChange:source=>this.handleSourceChange(source),onTypeChange:type=>this.handleTypeChange(type),onClear:()=>this.handleClearFilters()}),this.searchControlsUI.create(container),this.resultsDiv=container.createEl("div",{cls:"df-environment-results"})}async deleteCustomEnvironment(env){try{let plugin=this.app.plugins.plugins.daggerforge;if(!plugin||!plugin.dataManager){new import_obsidian6.Notice("DaggerForge plugin not found.");return}let envId=env.id;if(!envId){new import_obsidian6.Notice("Cannot delete environment: missing ID.");return}await plugin.dataManager.deleteEnvironmentById(envId),new import_obsidian6.Notice(`Deleted environment: ${env.name}`),this.refresh()}catch(error){console.error("Error deleting custom environment:",error),new import_obsidian6.Notice("Failed to delete environment.")}}loadCustomEnvironments(){try{let plugin=this.app.plugins.plugins.daggerforge;return!plugin||!plugin.dataManager?(console.warn("DaggerForge plugin or dataManager not found"),[]):plugin.dataManager.getEnvironments().map(env=>({...env,id:env.id||generateEnvUniqueId(),tier:typeof env.tier=="number"?env.tier:parseInt(env.tier,10),isCustom:!0,source:env.source||"custom"}))}catch(error){return console.error("Error loading custom environments from DataManager:",error),[]}}loadEnvironmentData(){try{let builtIn=ENVIRONMENTS.map(e=>({...e,id:e.id||generateEnvUniqueId(),isCustom:!1,source:e.source??"core",type:e.type})),custom=this.loadCustomEnvironments();if(this.environments=[...builtIn,...custom],this.searchEngine.setItems(this.environments),this.searchControlsUI){let sources=this.searchEngine.getAvailableOptions("source"),types=this.searchEngine.getAvailableOptions("type");this.searchControlsUI.updateAvailableOptions("sources",sources),this.searchControlsUI.updateAvailableOptions("types",types)}this.renderResults(this.environments)}catch(e){console.error("Error loading environment data:",e),new import_obsidian6.Notice("Failed to load environment data."),this.resultsDiv&&this.resultsDiv.setText("Error loading environment data.")}}handleSearchChange(query){this.searchEngine.setFilters({query}),this.renderResults(this.searchEngine.search())}handleTierChange(tier){this.searchEngine.setFilters({tier}),this.renderResults(this.searchEngine.search())}handleSourceChange(source){this.searchEngine.setFilters({source}),this.renderResults(this.searchEngine.search())}handleTypeChange(type){this.searchEngine.setFilters({type}),this.renderResults(this.searchEngine.search())}handleClearFilters(){this.searchEngine.clearFilters(),this.renderResults(this.searchEngine.search())}renderResults(filtered){if(this.resultsDiv){if(this.resultsDiv.empty(),filtered.length===0){this.resultsDiv.setText("No environments found.");return}filtered.forEach(env=>{let card=this.createEnvironmentCard(env);this.resultsDiv.appendChild(card)})}}async onOpen(){this.registerEvent(this.app.workspace.on("active-leaf-change",leaf=>{let view=leaf?.view;view instanceof import_obsidian6.MarkdownView&&(this.lastActiveMarkdown=view)})),this.initializeView(),this.loadEnvironmentData()}createEnvironmentCard(env){let card=document.createElement("div");card.classList.add("df-env-card");let source=env.source||"core";card.classList.add(`df-source-${source.toLowerCase()}`);let tier=document.createElement("p");tier.classList.add("df-tier-text"),tier.textContent=`Tier ${env.tier} ${env.type}`;let sourceBadge=document.createElement("span");sourceBadge.classList.add(`df-source-badge-${source.toLowerCase()}`);let badgeTexts={core:"Core",custom:"Custom",sablewood:"Sablewood",umbra:"Umbra",void:"Void"};if(badgeTexts[source]=="Custom"){let deleteBtn=document.createElement("button");deleteBtn.classList.add("df-env-delete-btn"),(0,import_obsidian6.setIcon)(deleteBtn,"trash"),deleteBtn.addEventListener("click",e=>{e.stopPropagation(),this.deleteCustomEnvironment(env)}),card.appendChild(deleteBtn)}sourceBadge.textContent=badgeTexts[source]||source,tier.appendChild(sourceBadge),card.appendChild(tier);let title=document.createElement("h3");title.classList.add("df-title-small-padding"),title.textContent=env.name||"Unnamed Environment",card.appendChild(title);let desc=document.createElement("p");return desc.classList.add("df-desc-small-padding"),desc.textContent=env.desc||"No description available.",card.appendChild(desc),card.addEventListener("click",()=>{let featuresHTML=(env.features||[]).map(f=>{let costHTML=f.cost?`<span>${f.cost}</span>`:"",bulletsHTML=Array.isArray(f.bullets)&&f.bullets.length?`<ul class="df-env-bullet">${f.bullets.map(b=>`<li class="df-env-bullet-item">${b}</li>`).join("")}</ul>`:"",questionsHTML=f.questions&&f.questions.length?`<div class="df-env-questions">${f.questions.map(q=>`<div class="df-env-question">${q}</div>`).join("")}</div>`:"",afterTextHTML=f.textAfter?`<div id="textafter" class="df-env-feat-text">${f.textAfter}</div>`:"";return`<div class="df-feature" data-feature-name="${f.name}" data-feature-type="${f.type}" data-feature-cost="${f.cost||""}">
<div class="df-env-feat-name-type">
<span class="df-env-feat-name">${f.name}</span> - <span class="df-env-feat-type">${f.type}:</span> ${costHTML}
<div class="df-env-feat-text">${f.text}</div>
</div>${bulletsHTML}${afterTextHTML}${questionsHTML}</div>`}).join(""),envHTML=`<section class="df-env-card-outer">
<div class="df-env-card-inner">
<button class="df-env-edit-button" data-edit-mode-only="true" data-tooltip="duplicate & edit" aria-label="duplicate & edit">\u{1F4DD}</button>
<div class="df-env-name">${env.name}</div>
<div class="df-env-feat-tier-type">Tier ${env.tier} ${env.type} <span class="df-source-badge-${(env.source||"core").toLowerCase()}">${(env.source||"core").toLowerCase()}</span></div>
<p class="df-env-desc">${env.desc}</p>
<p><strong>Impulse:</strong> ${env.impulse||""}</p>
<div class="df-env-card-diff-pot">
<p><span class="df-bold-title">Difficulty</span>: ${env.difficulty||""}</p>
<p><span class="df-bold-title">Potential Adversaries</span>: ${env.potentialAdversaries||""}</p>
</div>
<div class="df-features-section">
<h3>Features</h3>
${featuresHTML}
</div>
</div>
</section>`.trim(),isCanvas=isCanvasActive(this.app),isMarkdown=isMarkdownActive(this.app);if(isCanvas){let position=getAvailableCanvasPosition(this.app);createCanvasCard(this.app,envHTML,{x:position.x,y:position.y,width:400,height:650})?new import_obsidian6.Notice(`Inserted environment ${env.name}.`):new import_obsidian6.Notice("Failed to insert environment into canvas.");return}else if(isMarkdown){let view=this.app.workspace.getActiveViewOfType(import_obsidian6.MarkdownView)||this.lastActiveMarkdown;if(!view){new import_obsidian6.Notice("No markdown file or canvas is open.");return}let editor=view.editor;if(!editor){new import_obsidian6.Notice("Cannot find editor in markdown view.");return}editor.replaceSelection(envHTML),new import_obsidian6.Notice(`Inserted environment ${env.name}.`)}else new import_obsidian6.Notice("No active editor or canvas")}),card}};function markdownToHTML(markdown){if(!markdown)return"";let html=markdown;html=html.replace(/\n/g,"<br>"),html=html.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),html=html.replace(/\*(.*?)\*/g,"<em>$1</em>");let lines=html.split("<br>"),inBulletList=!1,processedLines=lines.map((line,index)=>{let bulletMatch=line.match(/^- (.*)/);return bulletMatch?inBulletList?`<li>${bulletMatch[1]}</li>`:(inBulletList=!0,`<ul><li>${bulletMatch[1]}</li>`):inBulletList?(inBulletList=!1,`</ul>${line}`):line});return inBulletList&&processedLines.push("</ul>"),html=processedLines.join("<br>"),html=html.replace(/<br><br>/g,"<br>"),html}function environmentToHTML(env){let featuresHTML=(env.features||[]).map(f=>{let costHTML=f.cost?`<span>${f.cost}</span>`:"",bulletsHTML=f.bullets&&f.bullets.length?`<ul class="df-env-bullet">${f.bullets.map(b=>`<li class="df-env-bullet-item">${b}</li>`).join("")}</ul>`:"",textHTML=markdownToHTML(f.text),textAfterHTML=f.textAfter?markdownToHTML(f.textAfter):"",questionsHTML=f.questions?.length?`<div class="df-env-questions">${f.questions.map(q=>`<div class="df-env-question">${markdownToHTML(q)}</div>`).join("")}</div>`:"";return`
<div class="df-feature" data-feature-name="${f.name}" data-feature-type="${f.type}" data-feature-cost="${f.cost||""}">
<div class="df-env-feat-name-type">
<span class="df-env-feat-name">${f.name}</span> - <span class="df-env-feat-type">${f.type}:</span> ${costHTML}
<div class="df-env-feat-text">${textHTML}</div>
</div>
${bulletsHTML}${textAfterHTML?`<div id="textafter" class="df-env-feat-text">${textAfterHTML}</div>`:""}${questionsHTML}
</div>`}).join("");return`
<section class="df-env-card-outer">
<div class="df-env-card-inner">
<button class="df-env-edit-button" data-edit-mode-only="true" data-tooltip="duplicate & edit" aria-label="duplicate & edit">\u{1F4DD}</button>
<div class="df-env-name">${env.name}</div>
<div class="df-env-feat-tier-type">Tier ${env.tier.toString()} ${env.type} <span class="df-source-badge-${(env.source||"core").toLowerCase()}">${(env.source||"core").toLowerCase()}</span></div>
<p class="df-env-desc">${env.desc}</p>
<p><strong>Impulse:</strong> ${env.impulse||""}</p>
<div class="df-env-card-diff-pot">
<p><span class="df-bold-title">Difficulty</span>: ${env.difficulty||""}</p>
<p><span class="df-bold-title">Potential Adversaries</span>: ${env.potentialAdversaries||""}</p>
</div>
<div class="df-features-section">
<h3>Features</h3>${featuresHTML}
</div>
</div>
</section>
`.trim()}var import_obsidian7=require("obsidian");var EnvironmentModal=class extends import_obsidian7.Modal{constructor(plugin,editor,onSubmit){super(plugin.app);this.inputs={};this.features=[];this.isEditMode=!1;this.editModeState={};this.isSubmitted=!1;this.plugin=plugin,this.editor=editor,this.onSubmit=onSubmit;let savedState=plugin.savedInputStateEnv;this.isEditMode=!!(savedState&&(savedState.impulse!==void 0||savedState.potentialAdversaries!==void 0)),this.isEditMode&&(this.editModeState={...savedState,features:savedState.features||[]})}onOpen(){let{contentEl}=this,saved=this.isEditMode?this.editModeState:this.plugin.savedInputStateEnv||{};contentEl.empty();let title=this.isEditMode?"Edit environment":"Create environment";contentEl.createEl("h2",{text:title,cls:"df-modal-title"});let basicInfoSection=contentEl.createDiv({cls:"df-env-form-section"});basicInfoSection.createEl("h3",{text:"Basic information",cls:"df-section-title"});let firstRow=basicInfoSection.createDiv({cls:"df-env-row-basic-info"});createInlineField(firstRow,this.inputs,{label:"Name",key:"name",type:"input",savedValues:saved,customClass:"df-env-field-name"}),createInlineField(firstRow,this.inputs,{label:"Tier",key:"tier",type:"select",options:["1","2","3","4"],savedValues:saved,customClass:"df-env-field-tier"}),createInlineField(firstRow,this.inputs,{label:"Type",key:"type",type:"select",options:["Event","Exploration","Social","Traversal"],savedValues:saved,customClass:"df-env-field-type"});let descTextarea=basicInfoSection.createDiv({cls:"df-env-form-section-content"}).createEl("textarea",{cls:"df-env-field-desc-textarea",attr:{placeholder:"Enter environment description...",rows:"4"}});this.inputs.desc=descTextarea,saved.desc&&(descTextarea.value=saved.desc);let gameplaySection=contentEl.createDiv({cls:"df-env-form-section"});gameplaySection.createEl("h3",{text:"Gameplay",cls:"df-section-title"});let impulseRow=gameplaySection.createDiv({cls:"df-env-row-impulse"});createInlineField(impulseRow,this.inputs,{label:"Impulses",key:"impulse",type:"input",savedValues:saved,customClass:"df-env-field-impulse"});let difficultySection=contentEl.createDiv({cls:"df-env-form-section"});difficultySection.createEl("h3",{text:"Difficulty & adversaries",cls:"df-section-title"});let diffRow=difficultySection.createDiv({cls:"df-env-row-difficulty"});createInlineField(diffRow,this.inputs,{label:"Difficulty",key:"difficulty",type:"input",savedValues:saved,customClass:"df-env-field-difficulty"});let advRow=difficultySection.createDiv({cls:"df-env-row-adversaries"});createInlineField(advRow,this.inputs,{label:"Potential adversaries",key:"potentialAdversaries",type:"input",savedValues:saved,customClass:"df-env-field-adversaries"});let featuresSection=contentEl.createDiv({cls:"df-env-form-section"});featuresSection.createEl("h3",{text:"Features",cls:"df-section-title"}),this.featureContainer=featuresSection.createDiv({cls:"df-env-feature-container"}),this.features=[];let savedFeatures=saved.features||[];savedFeatures.length>0?savedFeatures.forEach(f=>{this.addFeature(f)}):this.addFeature();let addBtn=featuresSection.createEl("button",{text:"+ Add feature",cls:"df-env-btn-add-feature"});addBtn.onclick=()=>this.addFeature();let insertBtn=contentEl.createDiv({cls:"df-env-form-buttons"}).createEl("button",{text:this.isEditMode?"Update card":"Insert card",cls:"df-env-btn-insert"});insertBtn.onclick=async()=>{this.isSubmitted=!0;let values=Object.fromEntries(Object.entries(this.inputs).map(([k,el])=>[k,el.value.trim()])),features=this.getFeatureValues(),env={id:values.id||"",name:values.name||"",tier:Number(values.tier)||1,type:values.type||"",desc:values.desc||"",impulse:values.impulse||"",difficulty:values.difficulty||"",potentialAdversaries:values.potentialAdversaries||"",source:"custom",features};try{if(await this.plugin.dataManager.addEnvironment(env),new import_obsidian7.Notice(`Environment "${env.name}" saved successfully!`),this.isEditMode){this.onSubmit(env),this.close();return}let wrappedHTML=`<div class="environment-block">
${environmentToHTML(env)}
</div>
`,isCanvas=isCanvasActive(this.app),isMarkdown=isMarkdownActive(this.app);if(isCanvas){let position=getAvailableCanvasPosition(this.plugin.app),success=createCanvasCard(this.plugin.app,wrappedHTML,{x:position.x,y:position.y,width:400,height:650})}else isMarkdown&&this.editor.replaceSelection(wrappedHTML);for(let el of Object.values(this.inputs))el instanceof HTMLInputElement||el instanceof HTMLTextAreaElement?el.value="":el instanceof HTMLSelectElement&&(el.selectedIndex=0);this.features.forEach(({nameEl,typeEl,costEl,textEl,bulletEls,afterTextEl,questionEls})=>{nameEl.value="",typeEl.selectedIndex=0,costEl&&(costEl.selectedIndex=0),textEl.value="",bulletEls.forEach(b=>b.value=""),afterTextEl.value="",questionEls.forEach(q=>q.value="")}),this.features=[],this.featureContainer.empty(),this.plugin.savedInputStateEnv={};let envLeaves=this.plugin.app.workspace.getLeavesOfType("environment-view");for(let leaf of envLeaves){let v=leaf.view;typeof v?.refresh=="function"&&await v.refresh()}this.close()}catch(error){console.error("Error saving environment:",error),new import_obsidian7.Notice("Failed to save environment. Check console for details.")}}}addFeature(savedFeature){let wrapper=this.featureContainer.createDiv({cls:"df-env-feature-block"}),headerRow=wrapper.createDiv({cls:"df-env-feature-row"}),nameEl=headerRow.createEl("input",{cls:"df-env-feature-input-name",placeholder:"Feature Name",attr:{name:"data-feature-name"}});nameEl.value=savedFeature?.name||"";let typeEl=headerRow.createEl("select",{cls:"df-env-feature-input-type",attr:{name:"data-feature-type"}});["Action","Reaction","Passive"].forEach(opt=>typeEl.createEl("option",{text:opt,value:opt,cls:"df-tier-option"})),typeEl.value=savedFeature?.type||"Passive";let costEl=headerRow.createEl("select",{cls:"df-env-feature-input-cost",attr:{name:"data-feature-cost"}});["","Spend a Fear"].forEach(opt=>costEl.createEl("option",{text:opt||"none",value:opt,cls:"df-tier-option"})),costEl.value=savedFeature?.cost||"";let descLabel=wrapper.createDiv({cls:"df-env-feature-desc-label",text:"Description:"}),textEl=wrapper.createEl("textarea",{cls:"df-env-feature-input-desc",attr:{placeholder:"Feature description...",rows:"3",name:"data-feature-text"}});textEl.value=savedFeature?.text||"";let bulletsHeader=wrapper.createDiv({cls:"df-env-feature-bullets-header",text:"Bullet Points:"}),bulletsContainer=wrapper.createDiv({cls:"df-env-feature-bullets-container"}),bulletEls=[],addBulletBtn=document.createElement("button");addBulletBtn.textContent="+ Add bullet point",addBulletBtn.className="df-env-btn-add-bullet",bulletsContainer.appendChild(addBulletBtn);let createBullet=bulletText=>{let bulletEl=document.createElement("input");return bulletEl.className="df-env-feature-input-bullet",bulletEl.placeholder="Bullet point...",bulletEl.value=bulletText||"",bulletEl.setAttribute("name","data-feature-bullet"),bulletsContainer.insertBefore(bulletEl,addBulletBtn),bulletEls.push(bulletEl),bulletEl};savedFeature?.bullets&&savedFeature.bullets.length>0?savedFeature.bullets.forEach(bullet=>{createBullet(bullet)}):createBullet(),addBulletBtn.onclick=()=>{createBullet()};let afterDescHeader=wrapper.createDiv({cls:"df-env-feature-after-desc-header",text:"Continue Description (after bullets):"}),afterTextEl=wrapper.createEl("textarea",{cls:"df-env-feature-input-after-desc",attr:{placeholder:"Additional description text (appears after bullet points)...",rows:"3"}});afterTextEl.value=savedFeature?.textAfter||"";let questionContainer=wrapper.createDiv({cls:"df-env-feature-question-container"}),questionHeader=questionContainer.createDiv({cls:"df-env-feature-question-header",text:"GM Prompt Questions:"}),questionsWrapper=questionContainer.createDiv({cls:"df-env-questions-wrapper"}),questionEls=[];if(savedFeature?.questions&&savedFeature.questions.length>0)savedFeature.questions.forEach(question=>{let questionEl=questionsWrapper.createEl("textarea",{cls:"df-env-feature-input-question",attr:{placeholder:'e.g. "Why did this feature occur?"',rows:"2"}});questionEl.value=question,questionEls.push(questionEl)});else{let questionEl=questionsWrapper.createEl("textarea",{cls:"df-env-feature-input-question",attr:{placeholder:'e.g. "Why did this feature occur?"',rows:"2"}});questionEls.push(questionEl)}let addQuestionBtn=questionsWrapper.createEl("button",{text:"+Add question",cls:"df-env-btn-add-question"}),moveButtonToEnd=()=>{questionsWrapper.appendChild(addQuestionBtn)};addQuestionBtn.onclick=()=>{let questionEl=questionsWrapper.createEl("textarea",{cls:"df-env-feature-input-question",attr:{placeholder:'e.g. "Why did this feature occur?"',rows:"2"}});questionEls.push(questionEl),moveButtonToEnd()};let removeBtn=wrapper.createEl("button",{text:"Remove Feature",cls:"df-env-btn-remove-feature"});removeBtn.onclick=()=>{let index=this.features.findIndex(f=>f.nameEl===nameEl);index!==-1&&(this.features.splice(index,1),wrapper.remove())},this.features.push({nameEl,typeEl,costEl,textEl,bulletEls,afterTextEl,questionEls})}getFeatureValues(){return this.features.map(f=>({name:f.nameEl.value.trim(),type:f.typeEl.value.trim(),cost:f.costEl?.value.trim()||void 0,text:f.textEl.value.trim(),bullets:f.bulletEls.map(b=>b.value.trim()).filter(b=>b)||null,textAfter:f.afterTextEl.value.trim()||void 0,questions:f.questionEls.map(q=>q.value.trim()).filter(q=>q)}))}onClose(){if(this.isEditMode){this.plugin.savedInputStateEnv={},this.editModeState={},this.features=[];return}if(!this.isSubmitted){this.plugin.savedInputStateEnv={},this.features=[];return}this.plugin.savedInputStateEnv={};for(let[key,el]of Object.entries(this.inputs))this.plugin.savedInputStateEnv[key]=el.value;this.plugin.savedInputStateEnv.features=this.getFeatureValues()}};var import_obsidian8=require("obsidian");var EnvironmentEditorModal=class extends import_obsidian8.Modal{constructor(plugin,editor,cardElement,cardData){super(plugin.app);this.inputs={};this.features=[];this.plugin=plugin,this.editor=editor,this.cardElement=cardElement,this.cardData=cardData}onOpen(){let{contentEl}=this;contentEl.empty(),contentEl.createEl("h2",{text:"Edit Environment",cls:"df-modal-title"});let basicInfoSection=contentEl.createDiv({cls:"df-env-form-section"});basicInfoSection.createEl("h3",{text:"Basic information",cls:"df-section-title"});let basicRow=basicInfoSection.createDiv({cls:"df-env-row-basic-info"});this.createField(basicRow,"name","Name","input",this.cardData.name);let tierSelect=this.createSelect(basicRow,"tier","Tier",["1","2","3","4"]);tierSelect.value=this.cardData.tier.toString();let typeSelect=this.createSelect(basicRow,"type","Type",["Event","Exploration","Social","Traversal"]);typeSelect.value=this.cardData.type;let detailsSection=basicInfoSection.createDiv({cls:"df-env-form-section-content"});this.createTextarea(detailsSection,"desc","Description",this.cardData.desc);let gameplaySection=contentEl.createDiv({cls:"df-env-form-section"});gameplaySection.createEl("h3",{text:"Gameplay",cls:"df-section-title"});let impulseRow=gameplaySection.createDiv({cls:"df-env-row-impulse"});this.createField(impulseRow,"impulse","Impulse","input",this.cardData.impulse);let difficultySection=contentEl.createDiv({cls:"df-env-form-section"});difficultySection.createEl("h3",{text:"Difficulty & adversaries",cls:"df-section-title"});let diffRow=difficultySection.createDiv({cls:"df-env-row-difficulty"});this.createField(diffRow,"difficulty","Difficulty","input",this.cardData.difficulty);let advRow=difficultySection.createDiv({cls:"df-env-row-difficulty"});this.createField(advRow,"potentialAdversaries","Potential Adversaries","input",this.cardData.potentialAdversaries);let featuresSection=contentEl.createDiv({cls:"df-env-form-section"});featuresSection.createEl("h3",{text:"Features",cls:"df-section-title"}),this.featureContainer=featuresSection.createDiv({cls:"df-env-feature-container"}),this.cardData.features&&this.cardData.features.length>0?this.cardData.features.forEach(feature=>{this.addFeature(feature)}):this.addFeature();let addBtn=featuresSection.createEl("button",{text:"+ Add Feature",cls:"df-env-btn-add-feature"});addBtn.onclick=()=>this.addFeature();let updateBtn=contentEl.createDiv({cls:"df-env-form-buttons"}).createEl("button",{text:"Update Card",cls:"df-env-btn-insert"});updateBtn.onclick=()=>{let updatedEnv={id:this.cardData.id,name:this.inputs.name.value.trim(),tier:Number(this.inputs.tier.value),type:this.inputs.type.value,desc:this.inputs.desc.value.trim(),impulse:this.inputs.impulse.value.trim(),difficulty:this.inputs.difficulty.value.trim(),potentialAdversaries:this.inputs.potentialAdversaries.value.trim(),source:this.cardData.source,features:this.getFeatureValues()};this.plugin.dataManager.addEnvironment(updatedEnv);let newHTML=environmentToHTML(updatedEnv);this.onSubmit&&this.onSubmit(newHTML),this.close()}}createField(container,key,label,type="input",value=""){let wrapper=container.createDiv({cls:"df-inline-field-wrapper"});wrapper.createEl("label",{text:label,cls:"df-env-form-label"});let input=wrapper.createEl(type==="textarea"?"textarea":"input",{cls:"df-env-form-input"});return type==="input"&&(input.type="text"),input.value=value,this.inputs[key]=input,input}createSelect(container,key,label,options){let wrapper=container.createDiv({cls:"df-inline-field-wrapper"});wrapper.createEl("label",{text:label,cls:"df-env-form-label"});let select=wrapper.createEl("select",{cls:"df-env-form-select"});return options.forEach(opt=>{select.createEl("option",{text:opt,value:opt})}),this.inputs[key]=select,select}createTextarea(container,key,label,value=""){let wrapper=container.createDiv({cls:"df-inline-field-wrapper"});wrapper.createEl("label",{text:label,cls:"df-env-form-label"});let textarea=wrapper.createEl("textarea",{cls:"df-env-form-textarea",attr:{rows:"4"}});return textarea.value=value,this.inputs[key]=textarea,textarea}addFeature(savedFeature){let wrapper=this.featureContainer.createDiv({cls:"df-env-feature-block"}),headerRow=wrapper.createDiv({cls:"df-env-feature-row"}),nameEl=headerRow.createEl("input",{cls:"df-env-feature-input-name",placeholder:"Feature Name"});nameEl.value=savedFeature?.name||"";let typeEl=headerRow.createEl("select",{cls:"df-env-feature-input-type"});["Action","Reaction","Passive"].forEach(opt=>typeEl.createEl("option",{text:opt,value:opt})),typeEl.value=savedFeature?.type||"Passive";let costEl=headerRow.createEl("select",{cls:"df-env-feature-input-cost"});["","Spend a Fear"].forEach(opt=>costEl.createEl("option",{text:opt||"none",value:opt})),costEl.value=savedFeature?.cost||"",wrapper.createDiv({cls:"df-env-feature-desc-label",text:"Description:"});let textEl=wrapper.createEl("textarea",{cls:"df-env-feature-input-desc",placeholder:"Feature description...",attr:{rows:"3"}});textEl.value=savedFeature?.text||"",wrapper.createDiv({cls:"df-env-feature-bullets-header",text:"Bullet Points:"});let bulletsContainer=wrapper.createDiv({cls:"df-env-feature-bullets-container"}),bulletEls=[],addBulletBtn=document.createElement("button");addBulletBtn.textContent="+ Add bullet point",addBulletBtn.className="df-env-btn-add-bullet",bulletsContainer.appendChild(addBulletBtn);let createBullet=bulletText=>{let bulletEl=document.createElement("textarea");return bulletEl.className="df-env-feature-input-bullet",bulletEl.placeholder="Bullet point...",bulletEl.rows=2,bulletEl.value=bulletText||"",bulletsContainer.insertBefore(bulletEl,addBulletBtn),bulletEls.push(bulletEl),bulletEl};savedFeature?.bullets&&savedFeature.bullets.length>0?savedFeature.bullets.forEach(bullet=>{createBullet(bullet)}):createBullet(),addBulletBtn.onclick=()=>{createBullet()},wrapper.createDiv({cls:"df-env-feature-after-desc-header",text:"Continue Description (after bullets):"});let afterTextEl=wrapper.createEl("textarea",{cls:"df-env-feature-input-after-desc",placeholder:"Additional description text...",attr:{rows:"3"}});afterTextEl.value=savedFeature?.textAfter||"",wrapper.createDiv({cls:"df-env-feature-question-header",text:"GM Prompt Questions:"});let questionsWrapper=wrapper.createDiv({cls:"df-env-questions-wrapper"}),questionEls=[];if(savedFeature?.questions&&savedFeature.questions.length>0)savedFeature.questions.forEach(question=>{let questionEl=questionsWrapper.createEl("textarea",{cls:"df-env-feature-input-question",placeholder:'e.g. "Why did this feature occur?"',attr:{rows:"2"}});questionEl.value=question,questionEls.push(questionEl)});else{let questionEl=questionsWrapper.createEl("textarea",{cls:"df-env-feature-input-question",placeholder:'e.g. "Why did this feature occur?"',attr:{rows:"2"}});questionEls.push(questionEl)}let addQuestionBtn=questionsWrapper.createEl("button",{text:"+ Add question",cls:"df-env-btn-add-question"});addQuestionBtn.onclick=()=>{let questionEl=questionsWrapper.createEl("textarea",{cls:"df-env-feature-input-question",placeholder:'e.g. "Why did this feature occur?"',attr:{rows:"2"}});questionEls.push(questionEl)};let removeBtn=wrapper.createEl("button",{text:"Remove Feature",cls:"df-env-btn-remove-feature"});removeBtn.onclick=()=>{let index=this.features.findIndex(f=>f.nameEl===nameEl);index!==-1&&(this.features.splice(index,1),wrapper.remove())},this.features.push({nameEl,typeEl,costEl,textEl,bulletEls,afterTextEl,questionEls})}getFeatureValues(){return this.features.map(f=>({name:f.nameEl.value.trim(),type:f.typeEl.value.trim(),cost:f.costEl.value.trim()||void 0,text:f.textEl.value.trim(),bullets:f.bulletEls.map(b=>b.value.trim()).filter(b=>b),textAfter:f.afterTextEl.value.trim()||void 0,questions:f.questionEls.map(q=>q.value.trim()).filter(q=>q)}))}onClose(){this.contentEl.empty()}};var floatingWindowContainer=null,diceLog=[];function openDiceRoller(plugin){floatingWindowContainer&&(floatingWindowContainer.remove(),floatingWindowContainer=null);let container=document.createElement("div");floatingWindowContainer=container,container.classList.add("df-bg-floating-window");let header=container.createEl("div",{cls:"df-floating-header"});header.createEl("span",{text:"Dice roller"});let closeBtn=header.createEl("button",{text:"\u2716",cls:"df-close-btn"}),body=container.createEl("div",{cls:"df-dice-roll-body"}),logContainer=body.createEl("div",{cls:"df-log-container"});body.createEl("p",{text:"Roll count:",cls:"df-label"});let countInput=body.createEl("input",{cls:"df-roll-count"});countInput.type="number",countInput.min="1",countInput.value="1",body.createEl("p",{text:"Add dice to queue:",cls:"df-label"});let diceButtonsDiv=body.createEl("div",{cls:"df-dice-buttons"});["4","6","8","10","12","20","100"].forEach(sides=>{diceButtonsDiv.createEl("button",{text:`d${sides}`,cls:"df-dice-btn"}).setAttribute("data-sides",sides)});let queueContainer=body.createEl("div",{cls:"df-dice-queue"}),rollBtn=body.createEl("button",{text:"Roll All",cls:"df-roll-btn"}),clearLogBtn=body.createEl("button",{text:"Clear Log",cls:"df-clear-log-btn"});document.body.appendChild(container);let diceQueue=[],isDragging=!1,offsetX=0,offsetY=0,dragStyle=document.createElement("style");document.head.appendChild(dragStyle),header.addEventListener("mousedown",e=>{isDragging=!0,container.classList.add("df-dragging"),header.classList.add("df-grab-cursor-active");let rect=container.getBoundingClientRect();offsetX=e.clientX-rect.left,offsetY=e.clientY-rect.top}),window.addEventListener("mousemove",e=>{if(!isDragging)return;let newLeft=e.clientX-offsetX,newTop=e.clientY-offsetY;container.classList.add("df-bg-floating-window"),container.style.setProperty("--df-left",`${newLeft}px`),container.style.setProperty("--df-top",`${newTop}px`)}),window.addEventListener("mouseup",()=>{isDragging&&(isDragging=!1,container.classList.remove("df-dragging"),header.classList.remove("df-grab-cursor-active"))});let onClose=()=>{container.remove(),floatingWindowContainer=null};closeBtn.addEventListener("click",onClose);function updateLog(){logContainer.empty(),diceLog.forEach(line=>{logContainer.createEl("p",{text:line})}),logContainer.scrollTop=logContainer.scrollHeight}function updateQueue(){queueContainer.empty(),diceQueue.forEach((expr,idx)=>{let div=queueContainer.createEl("div",{cls:"df-dice-queue-item"});div.createEl("span",{text:expr+" "}),div.createEl("button",{text:"x"}).addEventListener("click",()=>{diceQueue.splice(idx,1),updateQueue()})})}container.querySelectorAll(".df-dice-btn").forEach(btn=>{let onClick=()=>{let sides=Number(btn.dataset.sides),diceExpr=`${Number(countInput.value)||1}d${sides}`;diceQueue.push(diceExpr),updateQueue()};btn.addEventListener("click",onClick)});let onRoll=()=>{if(diceQueue.length===0)return;let expression=diceQueue.join(" + "),result=rollDice(expression);diceLog.push(`${expression} -> ${result.details} = ${result.total}`),updateLog(),diceQueue.length=0,updateQueue()};rollBtn.addEventListener("click",onRoll);let onClearLog=()=>{diceLog.length=0,updateLog()};clearLogBtn.addEventListener("click",onClearLog),updateLog()}function rollDice(expression){let parts=expression.split("+").map(p=>p.trim()),total=0,allRolls=[];for(let part of parts){let match=part.match(/(\d*)d(\d+)/i);if(match){let count=parseInt(match[1])||1,sides=parseInt(match[2]);for(let i=0;i<count;i++){let roll=Math.floor(Math.random()*sides)+1;allRolls.push(roll),total+=roll}}else{let num=parseInt(part);isNaN(num)||(allRolls.push(num),total+=num)}}return{total,details:`[${allRolls.join(", ")}]`}}var encounterWindowContainer=null,cleanupListeners=[],encounterState={baseBP:0,adjustments:[],spentItems:[],pcCount:3};function openEncounterCalculator(){encounterWindowContainer&&(encounterWindowContainer.remove(),encounterWindowContainer=null,cleanupListeners.forEach(cleanup=>cleanup()),cleanupListeners=[]);let container=document.createElement("div");encounterWindowContainer=container,container.classList.add("df-bg-floating-window");let header=container.createEl("div",{cls:"df-floating-header"});header.createEl("span",{text:"Battle guide"});let closeBtn=header.createEl("button",{text:"\u2716",cls:"df-close-btn"}),body=container.createEl("div",{cls:"df-floating-body df-encounter-body"}),inputsDiv=body.createEl("div",{cls:"df-encounter-inputs"});inputsDiv.createEl("label",{text:"Number of PCs:"});let pcInput=inputsDiv.createEl("input");pcInput.type="number",pcInput.min="1",pcInput.value=encounterState.pcCount.toString();let calcBtn=inputsDiv.createEl("button",{text:"Calculate base BP",cls:"df-calc-btn"}),columnsDiv=body.createEl("div",{cls:"df-encounter-columns"}),adjColumn=columnsDiv.createEl("div",{cls:"df-adjustments-column"});adjColumn.createEl("div",{text:"Adjusting Battle Points",cls:"df-sticky-header"});let adjustmentsList=adjColumn.createEl("div",{cls:"df-scrollable-list"}),adjTotal=adjColumn.createEl("p");adjTotal.createEl("span",{text:"Total Adjustments: "}),adjTotal.createEl("span",{text:"0"});let spendColumn=columnsDiv.createEl("div",{cls:"df-spending-column"});spendColumn.createEl("div",{text:"Spending Battle Points",cls:"df-sticky-header"});let spendingList=spendColumn.createEl("div",{cls:"df-scrollable-list"}),remainingBP=spendColumn.createEl("p");remainingBP.createEl("span",{text:"Remaining BP: "}),remainingBP.createEl("span",{text:"0"});let adjButtonsDiv=body.createEl("div",{cls:"df-encounter-buttons"});adjButtonsDiv.createEl("h5",{text:"Adjust BP:",cls:"df-bg-h5"});let adjBtnContainer=adjButtonsDiv.createEl("div",{cls:"df-bg-button-container"});[{value:-1,label:"Less difficult/shorter (-1)"},{value:-2,label:"2+ Solo adversaries (-2)"},{value:-2,label:"+1d4 or +2 damage (-2)"},{value:1,label:"Lower tier adversary (+1)"},{value:1,label:"No Bruisers/Hordes/Leaders/Solos (+1)"},{value:2,label:"More dangerous/longer (+2)"}].forEach(adj=>{adjBtnContainer.createEl("button",{text:adj.label,cls:"df-bg-button"}).setAttribute("data-adjust",adj.value.toString())});let spendButtonsDiv=body.createEl("div",{cls:"df-encounter-buttons"});spendButtonsDiv.createEl("h5",{text:"Spend BP:",cls:"df-bg-h5"});let spendBtnContainer=spendButtonsDiv.createEl("div",{cls:"df-bg-button-container"});[{cost:1,label:"Minions (Party size) [-1]"},{cost:1,label:"Social / Support [-1]"},{cost:2,label:"Horde / Ranged / Skulk / Standard [-2]"},{cost:3,label:"Leader [-3]"},{cost:4,label:"Bruiser [-4]"},{cost:5,label:"Solo [-5]"}].forEach(opt=>{spendBtnContainer.createEl("button",{text:opt.label,cls:"df-bg-button"}).setAttribute("data-cost",opt.cost.toString())});let clearLogBtn=body.createEl("div",{cls:"df-encounter-buttons"}).createEl("button",{text:"Clear Log",cls:"df-clear-log-btn"});document.body.appendChild(container);let onClose=()=>{container.remove(),encounterWindowContainer=null,cleanupListeners.forEach(cleanup=>cleanup()),cleanupListeners=[]};closeBtn.addEventListener("click",onClose),cleanupListeners.push(()=>closeBtn.removeEventListener("click",onClose));let isDragging=!1,offsetX=0,offsetY=0,dragStyle=document.createElement("style");document.head.appendChild(dragStyle),header.addEventListener("mousedown",e=>{isDragging=!0,container.classList.add("df-dragging"),header.classList.add("df-grab-cursor-active");let rect=container.getBoundingClientRect();offsetX=e.clientX-rect.left,offsetY=e.clientY-rect.top}),window.addEventListener("mousemove",e=>{if(!isDragging)return;let newLeft=e.clientX-offsetX,newTop=e.clientY-offsetY;container.classList.add("df-bg-floating-window"),container.style.setProperty("--df-left",`${newLeft}px`),container.style.setProperty("--df-top",`${newTop}px`)}),window.addEventListener("mouseup",()=>{isDragging&&(isDragging=!1,container.classList.remove("df-dragging"),header.classList.remove("df-grab-cursor-active"))});function calculateTotals(){let totalAdj=encounterState.adjustments.reduce((sum,a)=>sum+a.value,0),totalSpent=encounterState.spentItems.reduce((sum,item)=>sum+item.cost,0);return{totalAdj,totalSpent,remaining:encounterState.baseBP+totalAdj-totalSpent}}function updateDisplay(){adjustmentsList.empty(),encounterState.adjustments.forEach(adj=>{adjustmentsList.createEl("div",{text:`${adj.reason} \u2192 ${adj.value>0?"+":""}${adj.value}`})}),spendingList.empty(),encounterState.spentItems.forEach(item=>{spendingList.createEl("div",{text:`${item.label} \u2192 ${item.cost} BP`})});let{totalAdj,remaining}=calculateTotals(),adjTotalSpan=adjTotal.querySelector("span:last-child");adjTotalSpan&&(adjTotalSpan.textContent=totalAdj.toString());let remainingSpan=remainingBP.querySelector("span:last-child");remainingSpan&&(remainingSpan.textContent=remaining.toString()),adjustmentsList.scrollTop=adjustmentsList.scrollHeight,spendingList.scrollTop=spendingList.scrollHeight}let onCalcBase=()=>{encounterState.pcCount=Number(pcInput.value),encounterState.baseBP=3*encounterState.pcCount+2,encounterState.adjustments=[],encounterState.spentItems=[],updateDisplay()};calcBtn.addEventListener("click",onCalcBase),container.querySelectorAll("[data-adjust]").forEach(btn=>{let onClick=()=>{let val=parseInt(btn.dataset.adjust),reason=btn.textContent;encounterState.adjustments.push({value:val,reason}),updateDisplay()};btn.addEventListener("click",onClick)}),container.querySelectorAll("[data-cost]").forEach(btn=>{let onClick=()=>{let cost=parseInt(btn.dataset.cost),label=btn.textContent,{remaining}=calculateTotals();encounterState.spentItems.push({cost,label}),updateDisplay()};btn.addEventListener("click",onClick)});let onClearLog=()=>{encounterState={baseBP:0,adjustments:[],spentItems:[],pcCount:Number(pcInput.value)},updateDisplay()};clearLogBtn.addEventListener("click",onClearLog);let onPcChange=()=>{encounterState.pcCount=Number(pcInput.value)};pcInput.addEventListener("change",onPcChange),updateDisplay()}var import_obsidian9=require("obsidian");function findCardIndexInDOM(cardElement,cardType){let selector=cardType==="env"?".df-env-card-outer":".df-card-outer";return Array.from(document.querySelectorAll(selector)).indexOf(cardElement)}function findCardInMarkdown(fullContent,cardName,domIndex,cardType){let cardNameEscaped=cardName.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),sectionOpenings=[],sectionTagPattern=cardType==="adv"?/<section[^>]*class="[^"]*df-card-outer[^"]*"[^>]*>/gi:/<section[^>]*class="[^"]*df-env-card-outer[^"]*"[^>]*>/gi,match,sectionRegex=new RegExp(sectionTagPattern.source,sectionTagPattern.flags);for(;(match=sectionRegex.exec(fullContent))!==null;)sectionOpenings.push(match.index);if(sectionOpenings.length===0)return{startIndex:-1,endIndex:-1};let namePattern;cardType==="adv"?namePattern=new RegExp(`<h2[^>]*>${cardNameEscaped}<\\/h2>`,"i"):namePattern=new RegExp(`<[^>]*class="[^"]*df-env-name[^"]*"[^>]*>${cardNameEscaped}<\\/[^>]*>`,"i");let matchingSections=[];for(let i=0;i<sectionOpenings.length;i++){let sectionStart=sectionOpenings[i],nextSectionStart=i+1<sectionOpenings.length?sectionOpenings[i+1]:fullContent.length,sectionContent=fullContent.substring(sectionStart,nextSectionStart);namePattern.test(sectionContent)&&matchingSections.push(sectionStart)}if(matchingSections.length===0)return{startIndex:-1,endIndex:-1};let targetSectionIndex=Math.min(domIndex,matchingSections.length-1),sectionStartIndex=matchingSections[targetSectionIndex],closeCount=1,searchIndex=sectionStartIndex+8,sectionEndIndex=-1;for(;closeCount>0&&searchIndex<fullContent.length;){let nextOpen=fullContent.indexOf("<section",searchIndex),nextClose=fullContent.indexOf("</section>",searchIndex);if(nextClose===-1)break;nextOpen!==-1&&nextOpen<nextClose?(closeCount++,searchIndex=nextOpen+8):(closeCount--,closeCount===0&&(sectionEndIndex=nextClose+10),searchIndex=nextClose+10)}return{startIndex:sectionStartIndex,endIndex:sectionEndIndex}}var onEditClick=(evt,cardType,plugin)=>{evt.stopPropagation();let button=evt.target,cardElement=null;if(cardType==="env"?cardElement=button.closest(".df-env-card-outer"):cardType==="adv"&&(cardElement=button.closest(".df-card-outer")),!cardElement){new import_obsidian9.Notice("Could not find card element!");return}let cardName="";if(cardType==="env"?cardName=cardElement.querySelector(".df-env-name")?.textContent?.trim()??"(unknown environment)":cardType==="adv"&&(cardName=cardElement.querySelector("h2")?.textContent?.trim()??"(unknown adversary)"),cardType==="adv"){let view=plugin.app.workspace.getActiveViewOfType(import_obsidian9.MarkdownView);if(!view){new import_obsidian9.Notice("Please open a markdown note first.");return}let editor=view.editor,cardData=extractCardData(cardElement),fullContent=editor.getValue(),domIndex=findCardIndexInDOM(cardElement,"adv"),{startIndex:sectionStartIndex,endIndex:sectionEndIndex}=findCardInMarkdown(fullContent,cardName,domIndex,"adv");if(sectionStartIndex===-1||sectionEndIndex===-1){new import_obsidian9.Notice("Could not find card in markdown.");return}let oldHTML=fullContent.substring(sectionStartIndex,sectionEndIndex),modal=new TextInputModal(plugin,editor,cardElement,cardData);modal.onSubmit=async(newHTML,newData)=>{let content=editor.getValue(),finalHTML=newHTML,beforeCard=content.substring(0,sectionStartIndex),afterCard=content.substring(sectionEndIndex),newContent=beforeCard+finalHTML+afterCard;editor.setValue(newContent);let file=view.file;file&&await plugin.app.vault.modify(file,newContent);try{await plugin.dataManager.addAdversary(newData),new import_obsidian9.Notice(`Updated adversary: ${cardName}`)}catch(error){console.error("Error saving adversary:",error),new import_obsidian9.Notice("Error saving adversary. Check console for details.")}let advView=plugin.app.workspace.getLeavesOfType("adversary-view").map(l=>l.view).find(v=>typeof v.refresh=="function");advView&&await advView.refresh()},modal.open()}else if(cardType==="env"){let view=plugin.app.workspace.getActiveViewOfType(import_obsidian9.MarkdownView);if(!view){new import_obsidian9.Notice("Please open a markdown note first.");return}let editor=view.editor,fullContent=editor.getValue(),domIndex=findCardIndexInDOM(cardElement,"env"),{startIndex:sectionStartIndex,endIndex:sectionEndIndex}=findCardInMarkdown(fullContent,cardName,domIndex,"env");if(sectionStartIndex===-1||sectionEndIndex===-1){new import_obsidian9.Notice("Could not find environment card in markdown.");return}let oldHTML=fullContent.substring(sectionStartIndex,sectionEndIndex),innerDiv=cardElement.querySelector(".df-env-card-inner"),tierMatch=(innerDiv?.querySelector(".df-env-feat-tier-type")?.textContent?.trim()||"").match(/Tier\s+(\d+)\s+([A-Za-z]+)/),tier=tierMatch?tierMatch[1]:"1",type=tierMatch?tierMatch[2]:"Exploration",name=cardName,desc=innerDiv?.querySelector(".df-env-desc")?.textContent?.trim()||"",impulseEl=Array.from(innerDiv?.querySelectorAll("p")||[]).find(p=>p.textContent?.includes("Impulse:")),impulse=impulseEl?impulseEl.textContent?.replace("Impulse:","").trim():"",diffPotEl=innerDiv?.querySelector(".df-env-card-diff-pot"),diffEl=Array.from(diffPotEl?.querySelectorAll("p")||[]).find(p=>p.textContent?.includes("Difficulty")),advEl=Array.from(diffPotEl?.querySelectorAll("p")||[]).find(p=>p.textContent?.includes("Potential Adversaries")),difficulty=diffEl?diffEl.textContent?.split(":")[1]?.trim():"",potentialAdversaries=advEl?advEl.textContent?.split(":")[1]?.trim():"",featuresSection=innerDiv?.querySelector(".df-features-section"),features=Array.from(featuresSection?.querySelectorAll(".df-feature")||[]).map(feat=>{let featName=feat.getAttribute("data-feature-name")||"",featType=feat.getAttribute("data-feature-type")||"Passive",cost=feat.getAttribute("data-feature-cost")||void 0,bullets=Array.from(feat.querySelectorAll(".df-env-bullet-item")).map(b=>b.textContent?.trim()||""),text=feat.querySelector(".df-env-feat-text")?.textContent?.trim()||"",afterTextEl=feat.querySelector("#textafter"),textAfter=afterTextEl?afterTextEl.textContent?.trim():void 0,questionsDiv=feat.querySelector(".df-env-questions"),questions=questionsDiv?Array.from(questionsDiv.querySelectorAll(".df-env-question")).map(q=>q.textContent?.trim()||"").filter(q=>q):[];return{name:featName,type:featType,cost:cost&&cost!==""?cost:void 0,text,bullets:bullets.filter(b=>b),textAfter,questions}}),envData={id:"",name,tier:parseInt(tier),type,desc,impulse,difficulty,potentialAdversaries,source:"custom",features},modal=new EnvironmentEditorModal(plugin,editor,cardElement,envData);modal.onSubmit=async newHTML=>{let content=editor.getValue(),finalHTML=newHTML,beforeCard=content.substring(0,sectionStartIndex),afterCard=content.substring(sectionEndIndex),newContent=beforeCard+finalHTML+afterCard;editor.setValue(newContent);let file=view.file;file&&await plugin.app.vault.modify(file,newContent),new import_obsidian9.Notice(`Updated environment: ${cardName}`);let envView=plugin.app.workspace.getLeavesOfType("environment-view").map(l=>l.view).find(v=>typeof v.refresh=="function");envView&&await envView.refresh()},modal.open()}};async function handleCardEditClick(evt,app,plugin){let target=evt.target;if(!target)return;let cardType=null;if(target.matches(".df-env-edit-button")?cardType="env":target.closest(".df-adv-edit-button")&&(cardType="adv"),!cardType)return;if(!plugin){new import_obsidian9.Notice("Plugin instance not available for editing.");return}if(app.workspace.activeLeaf?.view?.getViewType?.()==="canvas"){handleCanvasCardEdit(evt,cardType,plugin);return}let view=app.workspace.getActiveViewOfType(import_obsidian9.MarkdownView);if(!view)return;if(view.getMode()==="source")onEditClick(evt,cardType,plugin);else{let state=view.leaf.view.getState();state.mode="source",await view.leaf.setViewState({type:"markdown",state}),onEditClick(evt,cardType,plugin)}}async function handleCanvasCardEdit(evt,cardType,plugin){evt.stopPropagation();let button=evt.target,cardElement=null;if(cardType==="env"?cardElement=button.closest(".df-env-card-outer"):cardType==="adv"&&(cardElement=button.closest(".df-card-outer")),!cardElement){new import_obsidian9.Notice("Could not find card element!");return}let cardName="";if(cardType==="env"?cardName=cardElement.querySelector(".df-env-name")?.textContent?.trim()??"(unknown environment)":cardType==="adv"&&(cardName=cardElement.querySelector("h2")?.textContent?.trim()??"(unknown adversary)"),cardType==="adv"){let cardData=extractCardData(cardElement),modal=new TextInputModal(plugin,null,cardElement,cardData);modal.onSubmit=async(newHTML,newData)=>{try{let newInner=new DOMParser().parseFromString(newHTML,"text/html").querySelector(".df-card-inner");if(newInner&&cardElement){let existingInner=cardElement.querySelector(".df-card-inner");if(existingInner){let clonedContent=newInner.cloneNode(!0);for(;existingInner.firstChild;)existingInner.removeChild(existingInner.firstChild);for(;clonedContent.firstChild;)existingInner.appendChild(clonedContent.firstChild);cardElement.classList.add("df-canvas-force-rerender"),requestAnimationFrame(()=>{cardElement&&(cardElement.classList.remove("df-canvas-force-rerender"),cardElement.classList.add("df-canvas-normal-opacity"))})}}await plugin.dataManager.addAdversary(newData),new import_obsidian9.Notice(`Updated adversary: ${cardName}`)}catch(error){console.error("Error updating adversary:",error),new import_obsidian9.Notice("Error updating adversary. Check console for details.")}let advView=plugin.app.workspace.getLeavesOfType("adversary-view").map(l=>l.view).find(v=>typeof v.refresh=="function");advView&&await advView.refresh()},modal.open()}else if(cardType==="env"){let innerDiv=cardElement.querySelector(".df-env-card-inner"),tierMatch=(innerDiv?.querySelector(".df-env-feat-tier-type")?.textContent?.trim()||"").match(/Tier\s+(\d+)\s+([A-Za-z]+)/),tier=tierMatch?tierMatch[1]:"1",type=tierMatch?tierMatch[2]:"Exploration",name=cardName,desc=innerDiv?.querySelector(".df-env-desc")?.textContent?.trim()||"",impulseEl=Array.from(innerDiv?.querySelectorAll("p")||[]).find(p=>p.textContent?.includes("Impulse:")),impulse=impulseEl?impulseEl.textContent?.replace("Impulse:","").trim():"",diffPotEl=innerDiv?.querySelector(".df-env-card-diff-pot"),diffEl=Array.from(diffPotEl?.querySelectorAll("p")||[]).find(p=>p.textContent?.includes("Difficulty")),advEl=Array.from(diffPotEl?.querySelectorAll("p")||[]).find(p=>p.textContent?.includes("Potential Adversaries")),difficulty=diffEl?diffEl.textContent?.split(":")[1]?.trim():"",potentialAdversaries=advEl?advEl.textContent?.split(":")[1]?.trim():"",featuresSection=innerDiv?.querySelector(".df-features-section"),features=Array.from(featuresSection?.querySelectorAll(".df-feature")||[]).map(feat=>{let featName=feat.getAttribute("data-feature-name")||"",featType=feat.getAttribute("data-feature-type")||"Passive",cost=feat.getAttribute("data-feature-cost")||void 0,bullets=Array.from(feat.querySelectorAll(".df-env-bullet-item")).map(b=>b.textContent?.trim()||""),text=feat.querySelector(".df-env-feat-text")?.textContent?.trim()||"",afterTextEl=feat.querySelector("#textafter"),textAfter=afterTextEl?afterTextEl.textContent?.trim():void 0,questionsDiv=feat.querySelector(".df-env-questions"),questions=questionsDiv?Array.from(questionsDiv.querySelectorAll(".df-env-question")).map(q=>q.textContent?.trim()||"").filter(q=>q):[];return{name:featName,type:featType,cost:cost&&cost!==""?cost:void 0,text,bullets:bullets.filter(b=>b),textAfter,questions}}),envData={id:"",name,tier:parseInt(tier),type,desc,impulse,difficulty,potentialAdversaries,source:"custom",features},modal=new EnvironmentEditorModal(plugin,null,cardElement,envData);modal.onSubmit=async newHTML=>{try{let innerContent=new DOMParser().parseFromString(newHTML,"text/html").querySelector(".df-env-card-inner");if(innerContent){let existingInner=cardElement.querySelector(".df-env-card-inner");if(existingInner){let clonedContent=innerContent.cloneNode(!0);for(;existingInner.firstChild;)existingInner.removeChild(existingInner.firstChild);for(;clonedContent.firstChild;)existingInner.appendChild(clonedContent.firstChild);cardElement.classList.add("df-canvas-force-rerender"),requestAnimationFrame(()=>{cardElement&&(cardElement.classList.remove("df-canvas-force-rerender"),cardElement.classList.add("df-canvas-normal-opacity"))})}}else{let tempDoc=new DOMParser().parseFromString(newHTML,"text/html");for(;cardElement.firstChild;)cardElement.removeChild(cardElement.firstChild);Array.from(tempDoc.body.childNodes).forEach(node=>{let clonedNode=node.cloneNode(!0);cardElement.appendChild(clonedNode)})}new import_obsidian9.Notice(`Updated environment: ${cardName}`)}catch(error){console.error("Error updating environment:",error),new import_obsidian9.Notice("Error updating environment. Check console for details.")}let envView=plugin.app.workspace.getLeavesOfType("environment-view").map(l=>l.view).find(v=>typeof v.refresh=="function");envView&&await envView.refresh()},modal.open()}}var import_obsidian10=require("obsidian");async function adversariesSidebar(plugin){new import_obsidian10.Notice("Opening Adversary Browser in sidebar...");let leaf=plugin.app.workspace.getRightLeaf(!0);leaf&&(await leaf.setViewState({type:ADVERSARY_VIEW_TYPE,active:!0}),plugin.app.workspace.revealLeaf(leaf))}async function openEnvironmentSidebar(plugin){new import_obsidian10.Notice("Opening Environment Browser in sidebar...");let leaf=plugin.app.workspace.getRightLeaf(!0);leaf&&(await leaf.setViewState({type:ENVIRONMENT_VIEW_TYPE,active:!0}),plugin.app.workspace.revealLeaf(leaf))}var import_obsidian11=require("obsidian"),DeleteConfirmModal=class extends import_obsidian11.Modal{constructor(app,plugin,onConfirm){super(app),this.plugin=plugin,this.onConfirm=onConfirm}onOpen(){let{contentEl}=this;contentEl.empty(),contentEl.createEl("h2",{text:"Delete Data File?"}),contentEl.createEl("p",{text:"Are you sure you want to delete the data.json file?",cls:"df-delete-warning"}),contentEl.createEl("p",{text:"This will permanently remove ALL stored adversaries and environments.",cls:"df-delete-warning-bold"}),contentEl.createEl("p",{text:"This action cannot be undone!",cls:"df-delete-warning-bold"});let buttonContainer=contentEl.createDiv({cls:"df-delete-button-container"});buttonContainer.createEl("button",{text:"Delete",cls:"df-delete-confirm-btn"}).addEventListener("click",async()=>{try{await this.onConfirm(),new import_obsidian11.Notice("Data file deleted successfully!"),this.close()}catch(err){new import_obsidian11.Notice("Error deleting data file: "+err.message),console.error("Error deleting data file:",err)}}),buttonContainer.createEl("button",{text:"Cancel",cls:"df-delete-cancel-btn"}).addEventListener("click",()=>{this.close()})}onClose(){let{contentEl}=this;contentEl.empty()}};var import_obsidian12=require("obsidian"),ImportDataModal=class extends import_obsidian12.Modal{constructor(app,plugin){super(app),this.plugin=plugin}onOpen(){let{contentEl}=this;contentEl.empty(),contentEl.createEl("h2",{text:"Import Data"}),contentEl.createEl("p",{text:"Select a JSON file to import adversaries and environments. This will merge with your existing data."});let fileInput=contentEl.createDiv({cls:"df-file-input-container"}).createEl("input",{type:"file",attr:{accept:".json"}});new import_obsidian12.Setting(contentEl).addButton(btn=>btn.setButtonText("Import").setCta().onClick(async()=>{let file=fileInput.files?.[0];if(!file){new import_obsidian12.Notice("Please select a file first");return}try{await this.importFile(file),this.close()}catch(error){console.error("Import error:",error),new import_obsidian12.Notice(`Import failed: ${error.message}`)}})).addButton(btn=>btn.setButtonText("Cancel").onClick(()=>{this.close()}))}async importFile(file){return new Promise((resolve,reject)=>{let reader=new FileReader;reader.onload=async e=>{try{let text=e.target?.result,data=JSON.parse(text);if(Array.isArray(data)&&(data=this.wrapArrayBasedOnFilename(file.name,data)),!this.validateImportData(data)){reject(new Error("Invalid data format"));return}await this.plugin.dataManager.importData(JSON.stringify(data)),new import_obsidian12.Notice(`Successfully imported data from ${file.name}`),this.plugin.refreshBrowsers(),resolve()}catch(error){reject(error)}},reader.onerror=()=>{reject(new Error("Failed to read file"))},reader.readAsText(file)})}wrapArrayBasedOnFilename(filename,array){let lower=filename.toLowerCase(),category=lower.includes("inc")?"incredible":lower.includes("umbra")?"umbra":lower.includes("void")?"void":lower.includes("sablewood")?"sablewood":"custom",type=lower.includes("env")?"Environments":"Adversaries";return{[`${category}_${type}`]:array}}validateImportData(data){if(typeof data!="object"||data===null)return!1;let hasAdversaries=Array.isArray(data.adversaries)||Array.isArray(data.custom_Adversaries)||Array.isArray(data.incredible_Adversaries),hasEnvironments=Array.isArray(data.environments)||Array.isArray(data.custom_Environments)||Array.isArray(data.incredible_Environments);return hasAdversaries||hasEnvironments}onClose(){let{contentEl}=this;contentEl.empty()}};var DaggerForgePlugin=class extends import_obsidian13.Plugin{constructor(){super(...arguments);this.savedInputStateAdv={};this.savedInputStateEnv={}}updateCardData(){throw new Error("Method not implemented.")}async onload(){this.dataManager=new DataManager(this),await this.dataManager.load(),this.addStatusBarItem().setText("DaggerForge Active"),this.registerDomEvent(document,"click",evt=>handleCardEditClick(evt,this.app,this)),this.registerView(ADVERSARY_VIEW_TYPE,leaf=>new AdversaryView(leaf)),this.registerView(ENVIRONMENT_VIEW_TYPE,leaf=>new EnvironmentView(leaf)),this.addRibbonIcon("scroll-text","DaggerForge menu",evt=>{let menu=new import_obsidian13.Menu;menu.addItem(item=>item.setTitle("Adversary browser").setIcon("venetian-mask").onClick(()=>adversariesSidebar(this))),menu.addItem(item=>item.setTitle("Environment browser").setIcon("mountain").onClick(()=>openEnvironmentSidebar(this))),menu.addSeparator(),menu.addItem(item=>item.setTitle("Adversary creator").setIcon("swords").onClick(()=>this.openCreator("adversary"))),menu.addItem(item=>item.setTitle("Environment creator").setIcon("landmark").onClick(()=>this.openCreator("environment"))),menu.addSeparator(),menu.addItem(item=>item.setTitle("Dice roller").setIcon("dice").onClick(()=>openDiceRoller(this))),menu.addItem(item=>item.setTitle("Battle calculator").setIcon("flame").onClick(()=>openEncounterCalculator())),menu.addSeparator(),menu.addItem(item=>item.setTitle("Import data").setIcon("upload").onClick(()=>new ImportDataModal(this.app,this).open())),menu.addItem(item=>item.setTitle("Delete data file").setIcon("trash").onClick(()=>this.confirmDeleteDataFile())),menu.showAtMouseEvent(evt)}),this.addCommand({id:"adversary-creator",name:"Adversary creator",callback:()=>this.openCreator("adversary")}),this.addCommand({id:"environment-creator",name:"Environment creator",callback:()=>this.openCreator("environment")}),this.addCommand({id:"import-data",name:"Import data from JSON file",callback:()=>{new ImportDataModal(this.app,this).open()}}),this.addCommand({id:"delete-data-file",name:"Delete data file",callback:()=>this.confirmDeleteDataFile()}),this.addCommand({id:"open-floating-window",name:"Open dice roller",callback:()=>openDiceRoller(this)}),this.addCommand({id:"open-encounter-calculator",name:"Open battle calculator",callback:()=>openEncounterCalculator()}),this.addCommand({id:"open-adversary-browser",name:"Open adversary browser",callback:()=>adversariesSidebar(this)}),this.addCommand({id:"open-environment-browser",name:"Open environment browser",callback:()=>openEnvironmentSidebar(this)}),this.addCommand({id:"open-player-dashboard",name:"Open player dashboard",callback:()=>{new import_obsidian13.Notice("Coming soon!")}})}async openCreator(type){if(this.app.workspace.activeLeaf?.view?.getViewType()==="canvas"){type==="adversary"?new TextInputModal(this,null).open():new EnvironmentModal(this,null,result=>{}).open();return}let activeView=this.app.workspace.getActiveViewOfType(import_obsidian13.MarkdownView);if(!activeView){new import_obsidian13.Notice("Please open a note or canvas first.");return}if(activeView.getMode()!=="source"){new import_obsidian13.Notice("Please switch to Edit mode.");return}type==="adversary"?new TextInputModal(this,activeView.editor).open():new EnvironmentModal(this,activeView.editor,result=>{this.insertEnvironment(activeView.editor,result)}).open()}insertEnvironment(editor,result){let html=environmentToHTML(result);editor&&editor.replaceSelection(html)}async confirmDeleteDataFile(){new DeleteConfirmModal(this.app,this,async()=>{await this.dataManager.deleteDataFile(),this.refreshBrowsers()}).open()}refreshBrowsers(){this.app.workspace.getLeavesOfType(ADVERSARY_VIEW_TYPE).forEach(leaf=>{let view=leaf.view;view&&typeof view.refresh=="function"&&view.refresh()}),this.app.workspace.getLeavesOfType(ENVIRONMENT_VIEW_TYPE).forEach(leaf=>{let view=leaf.view;view&&typeof view.refresh=="function"&&view.refresh()})}};

/* nosourcemap */